var ClickDesk_Html_Prop_Reset={id:"",classNames:"",get:function(){var a=document.getElementsByTagName("html")[0];if(!a){return false}this.id=a.id;this.classNames=a.className},set:function(){var a=document.getElementsByTagName("html")[0];if(!a){return false}a.id=this.id;a.className=this.classNames},};(function(){ClickDesk_Html_Prop_Reset.get()})();try{if(typeof head.js!="function"){throw error("No head function")}}catch(e){(function(Q,D){function P(a){I[I.length]=a}function L(b){var a=new RegExp("\\b"+b+"\\b");F.className=F.className.replace(a,"")}function T(c,a){for(var d=0,b=c.length;d<b;d++){a.call(c,c[d],d)}}function C(){var b=Q.innerWidth||F.clientWidth,f=Q.outerWidth||Q.screen.width;N.screen.innerWidth=b,N.screen.outerWidth=f;var c=Q.outerWidth||F.clientWidth;F.className=F.className.replace(/ (w|lt|portrait|no-portrait|landscape|no-landscape)-\d+/g,""),P("w-"+Math.round(c/100)*100),T(B.screens,function(g){c<=g&&P("lt-"+g)});var a=Q.innerHeight||F.clientHeight,d=Q.outerHeight||Q.screen.height;N.screen.innerHeight=a,N.screen.outerHeight=d,N.feature("portrait",a>b),N.feature("landscape",a<b)}function q(){Q.clearTimeout(j),j=Q.setTimeout(C,100)}var J=Q.document,G=Q.navigator,M=Q.location,F=J.documentElement,I=[],B={screens:[320,480,640,768,1024,1280,1440,1680,1920],section:"-section",page:"-page",head:"head"};if(Q.head_conf){for(var V in Q.head_conf){Q.head_conf[V]!==D&&(B[V]=Q.head_conf[V])}}var N=Q[B.head]=function(){N.ready.apply(null,arguments)};N.feature=function(b,a,c){return b?(Object.prototype.toString.call(a)==="[object Function]"&&(a=a.call()),P((a?"":"no-")+b),N[b]=!!a,c||(L("no-"+b),L(b),N.feature()),N):(F.className+=" "+I.join(" "),I=[],N)},N.feature("js",!0);var H=G.userAgent.toLowerCase(),R=/mobile|midp/.test(H);N.feature("mobile",R,!0),N.feature("desktop",!R,!0),N.feature("touch","ontouchstart" in Q,!0),H=/(chrome|firefox)[ \/]([\w.]+)/.exec(H)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(H)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(H)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(H)||/(msie) ([\w.]+)/.exec(H)||[];var A=H[1],K=parseFloat(H[2]),O=0,k=0;switch(A){case"msie":A="ie",K=J.documentMode||K,O=6,k=10;break;case"chrome":O=8,k=22;break;case"firefox":A="ff",O=3,k=17;break;case"ipod":case"ipad":case"iphone":A="ios",O=3,k=6;break;case"android":O=2,k=4;break;case"webkit":A="safari",O=9,k=12;break;case"opera":O=9,k=12}N.browser={name:A,version:K},N.browser[A]=!0;var U=["ie"];T(U,function(a){a===A?P(a):P("no-"+a)});for(var z=O;z<=k;z++){K<z&&P("lt-"+A+z)}A==="ie"&&K<9&&T("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(a){J.createElement(a)}),T(M.pathname.split("/"),function(c,d){if(this.length>2&&this[d+1]!==D){d&&P(this.slice(1,d+1).join("-").toLowerCase()+B.section)}else{var b=c||"index",a=b.indexOf(".");a>0&&(b=b.substring(0,a)),F.id=b.toLowerCase()+B.page,d||P("root"+B.section)}}),N.screen={height:Q.screen.height,width:Q.screen.width},C();var j=0;Q.addEventListener?Q.addEventListener("resize",q,!1):Q.attachEvent("onresize",q)})(window),function(w,A){function k(a){for(var c in a){if(B[a[c]]!==A){return !0}}}function x(c){var a=c.charAt(0).toUpperCase()+c.substr(1),f=(c+" "+z.join(a+" ")+a).split(" ");return !!k(f)}var j=w.document,b=w.navigator,m=j.createElement("i"),B=m.style,g=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),z="Webkit Moz O ms Khtml".split(" "),y=w.head_conf&&w.head_conf.head||"head",v=w[y],q={gradient:function(){var c="background-image:",a="gradient(linear,left top,right bottom,from(#9f9),to(#fff));",f="linear-gradient(left top,#eee,#fff);";return B.cssText=(c+g.join(a+c)+g.join(f+c)).slice(0,-c.length),!!B.backgroundImage},rgba:function(){return B.cssText="background-color:rgba(0,0,0,0.5)",!!B.backgroundColor},opacity:function(){return m.style.opacity===""},textshadow:function(){return B.textShadow===""},multiplebgs:function(){return B.cssText="background:url(//:),url(//:),red url(//:)",(new RegExp("(url\\s*\\(.*?){3}")).test(B.background)},boxshadow:function(){return x("boxShadow")},borderimage:function(){return x("borderImage")},borderradius:function(){return x("borderRadius")},cssreflections:function(){return x("boxReflect")},csstransforms:function(){return x("transform")},csstransitions:function(){return x("transition")},fontface:function(){var c=navigator.userAgent,a;return(a=c.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/))?a[1]>="4.0.249.4"||1*a[1].split(".")[0]>5:(a=c.match(/Safari\/(\d+\.\d+)/))&&!/iPhone/.test(c)?a[1]>="525.13":/Opera/.test({}.toString.call(window.opera))?opera.version()>="10.00":(a=c.match(/rv:(\d+\.\d+\.\d+)[^b].*Gecko\//))?a[1]>="1.9.1":!1}};for(var d in q){q[d]&&v.feature(d,q[d].call(),!0)}v.feature()}(window),function(af,M){function F(a){if(a._done){return}a(),a._done=1}function ai(c){var a=c.split("/"),d=a[a.length-1],b=d.indexOf("?");return b!=-1?d.substring(0,b):d}function H(c){var a;if(typeof c=="object"){for(var d in c){c[d]&&(a={name:d,url:c[d]})}}else{a={name:ai(c),url:c}}var b=Z[a.name];return b&&b.url===a.url?b:(Z[a.name]=a,a)}function K(b,a){if(!b){return}typeof b=="object"&&(b=[].slice.call(b));for(var c=0;c<b.length;c++){a.call(b,b[c],c)}}function q(a){return Object.prototype.toString.call(a)=="[object Function]"}function G(b){b=b||Z;var a;for(var c in b){if(b.hasOwnProperty(c)&&b[c].state!=ad){return !1}a=!0}return a}function j(a){a.state=ag,K(a.onpreload,function(b){b.call()})}function B(a,b){a.state===M&&(a.state=I,a.onpreload=[],aa({src:a.url,type:"cache"},function(){j(a)}))}function Q(b,a){if(b.state==ad){return a&&a()}if(b.state==Y){return V.ready(b.name,a)}if(b.state==I){return b.onpreload.push(function(){Q(b,a)})}b.state=Y,aa(b.url,function(){b.state=ad,a&&a(),K(ae[b.name],function(c){F(c)}),G()&&W&&K(ae.ALL,function(c){F(c)})})}function aa(c,a){var b=X.createElement("script");b.type="text/"+(c.type||"javascript"),b.src=c.src||c,b.async=!1,b.onreadystatechange=b.onload=function(){var d=b.readyState;!a.done&&(!d||/loaded|complete/.test(d))&&(a.done=!0,a())},(X.body||ab).appendChild(b)}function D(){W||(W=!0,K(J,function(a){F(a)}))}var X=af.document,R=af.navigator,ab=X.documentElement,P,W,J=[],aj=[],ae={},Z={},ah=X.createElement("script").async===!0||"MozAppearance" in X.documentElement.style||af.opera,ac=af.head_conf&&af.head_conf.head||"head",V=af[ac]=af[ac]||function(){V.ready.apply(null,arguments)},ag=1,I=2,Y=3,ad=4;ah?V.js=function(){var b=arguments,a=b[b.length-1],c={};return q(a)||(a=null),K(b,function(f,d){f!=a&&(f=H(f),c[f.name]=f,Q(f,a&&d==b.length-2?function(){G(c)&&F(a)}:null))}),V}:V.js=function(){var b=arguments,a=[].slice.call(b,1),c=a[0];return P?(c?(K(a,function(d){q(d)||B(H(d))}),Q(H(b[0]),q(c)?c:function(){V.js.apply(null,a)})):Q(H(b[0])),V):(aj.push(function(){V.js.apply(null,b)}),V)},V.ready=function(d,b){if(d==X){return W?F(b):J.push(b),V}q(d)&&(b=d,d="ALL");if(typeof d!="string"||!q(b)){return V}var c=Z[d];if(c&&c.state==ad||d=="ALL"&&G()&&W){return F(b),V}var a=ae[d];return a?a.push(b):a=ae[d]=[b],V},V.ready(X,function(){G()&&K(ae.ALL,function(a){F(a)}),V.feature&&V.feature("domloaded",!0)});if(af.addEventListener){X.addEventListener("DOMContentLoaded",D,!1),af.addEventListener("load",D,!1)}else{if(af.attachEvent){X.attachEvent("onreadystatechange",function(){X.readyState==="complete"&&D()});var U=1;try{U=af.frameElement}catch(z){}!U&&ab.doScroll&&function(){try{ab.doScroll("left"),D()}catch(a){setTimeout(arguments.callee,1);return}}(),af.attachEvent("onload",D)}}!X.readyState&&X.addEventListener&&(X.readyState="loading",X.addEventListener("DOMContentLoaded",handler=function(){X.removeEventListener("DOMContentLoaded",handler,!1),X.readyState="complete"},!1)),setTimeout(function(){P=!0,K(aj,function(a){a()})},300)}(window)}typeof Object.create!="function"&&(Object.create=function(d){function c(){}c.prototype=d;return new c}),!function(g){var f=g.snack={},k=0,j=Object.prototype.toString,h=Array.prototype.indexOf;f.extend=function(){if(arguments.length==1){return f.extend(f,arguments[0])}var b=arguments[0];for(var n,m=1,l=arguments.length;m<l;m++){for(n in arguments[m]){b[n]=arguments[m][n]}}return b},f.extend({v:"1.2.1",bind:function(l,d,m){return function(){return l.apply(d,m||arguments)}},punch:function(b,o,n,m){var l=b[o];b[o]=m?function(){l.apply(b,arguments);return n.apply(b,arguments)}:function(){var a=[].slice.call(arguments,0);a.unshift(f.bind(l,b));return n.apply(b,a)}},create:function(b,m){var l=Object.create(b);if(!m){return l}for(i in m){if(!m.hasOwnProperty(i)){continue}if(!b[i]||typeof m[i]!="function"){l[i]=m[i];continue}f.punch(l,i,m[i])}return l},id:function(){return ++k},each:function(m,l,r){if(m.length===void 0){for(var q in m){m.hasOwnProperty(q)&&l.call(r,m[q],q,m)}return m}for(var o=0,n=m.length;o<n;o++){l.call(r,m[o],o,m)}return m},parseJSON:function(a){if(typeof a=="string"){a=a.replace(/^\s+|\s+$/g,"");var m=/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""));if(!m){throw"Invalid JSON"}var l=g.JSON;return l&&l.parse?l.parse(a):(new Function("return "+a))()}},isArray:function(b){return b instanceof Array||j.call(b)=="[object Array]"},indexOf:h?function(d,c){return h.call(c,d)}:function(m,l){for(var o=0,n=l.length;o<n;o++){if(l[o]===m){return o}}return -1}})}(window),!function(g,f){var j={},h;g.wrap=function(a,l){typeof a=="string"&&(a=h(a,l)),a.length||(a=[a]);var k=Object.create(j),d=0,c=a.length;for(;d<c;d++){k[d]=a[d]}k.length=c,k.id=g.id();return k},g.extend(g.wrap,{define:function(a,c){if(typeof a!="string"){for(i in a){g.wrap.define(i,a[i])}}else{j[a]=c}},defineEngine:function(b){h=b}}),g.wrap.defineEngine(function(b,d){typeof d=="string"&&(d=f.querySelector(d));return(d||f).querySelectorAll(b)})}(snack,document),!function(A,z,y){function o(){try{s.doScroll("left")}catch(b){setTimeout(o,50);return}q("poll")}function q(a){if(a.type!="readystatechange"||y.readyState=="complete"){(a.type=="load"?z:y)[w](v+a.type,q,!1),!u&&(u=!0)&&A.each(r,function(b){b.apply(y)})}}var x=y.addEventListener?"addEventListener":"attachEvent",w=y.addEventListener?"removeEventListener":"detachEvent",v=y.addEventListener?"":"on",u=!1,t=!0,s=y.documentElement,r=[];A.extend({stopPropagation:function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},preventDefault:function(b){b.preventDefault?b.preventDefault():b.returnValue=!1}}),A.listener=function(a,d){a.delegate&&(a.capture=!0,_handler=d,d=function(h){var g=h.target||h.srcElement,b=typeof a.delegate=="string"?A.wrap(a.delegate,a.node):a.delegate(a.node);while(g&&A.indexOf(g,b)==-1){g=g.parentNode}g&&g!==this&&g!==y&&_handler.call(g,h,g)}),a.context&&(d=A.bind(d,a.context));var c={attach:function(){a.node[x](v+a.event,d,a.capture)},detach:function(){a.node[w](v+a.event,d,a.capture)},fire:function(){d.apply(a.node,arguments)}};c.attach();return c},A.ready=function(b){u?b.apply(y):r.push(b)};if(y.createEventObject&&s.doScroll){try{t=!z.frameElement}catch(n){}t&&o()}y[x](v+"DOMContentLoaded",q,!1),y[x](v+"readystatechange",q,!1),z[x](v+"load",q,!1)}(snack,window,document),!function(b){b.publisher=function(a){var d={};a=a||{},b.extend(a,{subscribe:function(c,l,k){var j={fn:l,ctxt:k||{}};d[c]||(d[c]=[]);var h={attach:function(){d[c].push(j)},detach:function(){d[c].splice(b.indexOf(l,d[c]),1)}};h.attach();return h},publish:function(c,f){if(!d[c]){return !1}b.each(d[c],function(g){g.fn.apply(g.ctxt,f||[])});return d[c].length}});return a},b.publisher(b)}(snack),!function(g,f,k){function h(){}g.JSONP=function(a,o){var n="jsonp"+g.id(),m=k.createElement("script"),l=!1;g.JSONP[n]=function(d){l=!1,delete g.JSONP[n],o(d)},typeof a.data=="object"&&(a.data=g.toQueryString(a.data));var c={send:function(){l=!0,m.src=a.url+"?"+a.key+"=snack.JSONP."+n+"&"+a.data,k.getElementsByTagName("head")[0].appendChild(m)},cancel:function(){l&&m.parentNode&&m.parentNode.removeChild(m),l=!1,g.JSONP[n]=function(){delete g.JSONP[n]}}};a.now!==!1&&c.send();return c},g.toQueryString=function(a,m){var l=[];g.each(a,function(c,o){m&&(o=m+"["+o+"]");var n;switch(g.isArray(c)){case"object":n=g.toQueryString(c,o);break;case"array":var d={};g.each(c,function(r,q){d[q]=r}),n=g.toQueryString(d,o);break;default:n=o+"="+encodeURIComponent(c)}c!==null&&l.push(n)});return l.join("&")};var j=function(){var m=function(){return new XMLHttpRequest},l=function(){return new ActiveXObject("MSXML2.XMLHTTP")},o=function(){return new ActiveXObject("Microsoft.XMLHTTP")};try{m();return m}catch(n){try{l();return l}catch(n){o();return o}}}();g.request=function(a,l){if(!(this instanceof g.request)){return new g.request(a,l)}var d=this;d.options=g.extend({},d.options,a),d.callback=l,d.xhr=new j,d.headers=d.options.headers,d.options.now!==!1&&d.send()},g.request.prototype={options:{exception:h,url:"",data:"",method:"get",now:!0,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,emulation:!0,urlEncoded:!0,encoding:"utf-8"},onStateChange:function(){var m=this,l=m.xhr;if(l.readyState==4&&!!m.running){m.running=!1,m.status=0;try{var q=l.status;m.status=q==1223?204:q}catch(o){}l.onreadystatechange=h;var n=m.status>=200&&m.status<300?[!1,m.xhr.responseText||"",m.xhr.responseXML]:[m.status];m.callback.apply(m,n)}},setHeader:function(d,c){this.headers[d]=c;return this},getHeader:function(d){try{return this.xhr.getResponseHeader(d)}catch(c){return null}},send:function(){var v=this,u=v.options;if(v.running){return v}v.running=!0;var t=u.data||"",s=String(u.url),r=u.method.toLowerCase();typeof t!="string"&&(t=g.toQueryString(t));if(u.emulation&&g.indexOf(r,["get","post"])<0){var q="_method="+r;t=t?q+"&"+t:q,r="post"}if(u.urlEncoded&&g.indexOf(r,["post","put"])>-1){var o=u.encoding?"; charset="+u.encoding:"";v.headers["Content-type"]="application/x-www-form-urlencoded"+o}s||(s=k.location.pathname);var n=s.lastIndexOf("/");n>-1&&(n=s.indexOf("#"))>-1&&(s=s.substr(0,n)),t&&r=="get"&&(s+=(s.indexOf("?")>-1?"&":"?")+t,t=null);var c=v.xhr;c.open(r.toUpperCase(),s,open.async,u.user,u.password),u.user&&"withCredentials" in c&&(c.withCredentials=!0),c.onreadystatechange=g.bind(v.onStateChange,v);for(i in v.headers){try{c.setRequestHeader(i,v.headers[i])}catch(a){u.exception.apply(v,[i,v.headers[i]])}}c.send(t),u.async||v.onStateChange();return v},cancel:function(){var d=this;if(!d.running){return d}d.running=!1;var c=d.xhr;c.abort(),c.onreadystatechange=h,d.xhr=new j;return d}}}(snack,window,document),!function(g,f){function h(a,n,m,l){var k=a.data(m);k&&g.each(k,function(b){b[n].apply(a,l)});return a}function j(b){return b.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}g.wrap.define({data:function(){var b={};return function(a,l){var k=b[this.id];k||(k=b[this.id]={});if(l===void 1){return k[a]}return k[a]=l}}(),each:function(a,d){return g.each(this,a,d)},addClass:function(b){return this.each(function(a){j(a.className).indexOf(b)>-1||(a.className=j(a.className+" "+b))})},removeClass:function(b){return this.each(function(a){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)"),"$1")})},attach:function(a,n,m){var l=a.split("."),k=[];l[1]&&(k=this.data(l[1])||[]),this.each(function(c){var d={node:c,event:l[0]};m&&(d.delegate=m),k.push(g.listener(d,n))}),l[1]&&this.data(l[1],k);return this},detach:function(b){h(this,"detach",b,null,!0),this.data(b,null);return this},fire:function(d,c){return h(this,"fire",d,c)},delegate:function(k,d,l){return this.attach(k,l,d)}})}(snack,document),!function(aY,aX){function ab(g){var f=[],j,h;label:for(j=0;j<g.length;j++){for(h=0;h<f.length;h++){if(f[h]==g[j]){continue label}}f[f.length]=g[j]}return f}function ac(b,g){var f=typeof g=="string"?ac(g)[0]:g||aX;if(!f||!b){return[]}if(aR=ae(b,g,ac)){return aR}if(aX.getElementsByClassName&&(aR=b.match(aA))){return ar(f.getElementsByClassName(aR[1]))}return ar(f.querySelectorAll(b))}function ad(b){return b===window||b&&b.nodeType&&b.nodeType.toString().match(/[19]/)}function ae(b,h,g){var f=typeof h=="string"?g(h)[0]:h||aX;if(ad(b)){return !h||ad(f)&&af(b,f)?[b]:[]}if(b&&typeof b=="object"&&isFinite(b.length)){return ar(b)}if(aR=b.match(aB)){return(aM=aX.getElementById(aR[1]))?[aM]:[]}if(aR=b.match(az)){return ar(f.getElementsByTagName(aR[1]))}return !1}function ag(j){var f=[],n=[],m,l,k=am.g(j)||am.s(j,j.split(aw));k=k.slice(0);if(!k.length){return f}f=aj(k);if(!k.length){return f}for(aU=0,l=f.length,aT=0;aU<l;aU++){aL=f[aU],aP=aL;for(m=k.length;m--;){az:while(aP!==ax&&(aP=aP.parentNode)){if(aJ=ak.apply(aP,al(k[m]))){break az}}}aJ&&(n[aT++]=aL)}return n}function ah(f,d,g){switch(f){case"=":return d==g;case"^=":return d.match(an.g("^="+g)||an.s("^="+g,new RegExp("^"+ai(g))));case"$=":return d.match(an.g("$="+g)||an.s("$="+g,new RegExp(ai(g)+"$")));case"*=":return d.match(an.g(g)||an.s(g,new RegExp(ai(g))));case"~=":return d.match(an.g("~="+g)||an.s("~="+g,new RegExp("(?:^|\\s+)"+ai(g)+"(?:\\s+|$)")));case"|=":return d.match(an.g("|="+g)||an.s("|="+g,new RegExp("^"+ai(g)+"(-|$)")))}return !1}function ai(b){return ao.g(b)||ao.s(b,b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"))}function aj(s){var r=[],q=s.pop(),o=al(q),n=o[1]||"*",m,l,h,b=s.length&&(aR=s[0].match(aB))?aX.getElementById(aR[1]):aX;if(!b){return r}h=b.getElementsByTagName(n);for(m=0,l=h.length;m<l;m++){aM=h[m],(aH=ak.apply(aM,o))&&r.push(aH)}return r}function ak(v,u,t,s,r,q,o){var n,m,d;if(u&&this.tagName.toLowerCase()!==u){return !1}if(t&&(n=t.match(aD))&&n[1]!==this.id){return !1}if(t&&(aI=t.match(aC))){for(aV=aI.length;aV--;){m=aI[aV].slice(1);if(!(ap.g(m)||ap.s(m,new RegExp("(^|\\s+)"+m+"(\\s+|$)"))).test(this.className)){return !1}}}if(s&&!o){aQ=this.attributes;for(d in aQ){if(Object.prototype.hasOwnProperty.call(aQ,d)&&(aQ[d].name||d)==r){return this}}}if(s&&!ah(q,this.getAttribute(r)||"",o)){return !1}return this}function al(b){return b.match(at)}function ar(b){aO=[];for(aV=0,aK=b.length;aV<aK;aV++){aO[aV]=b[aV]}return aO}var aW,aV,aU,aT,aS,aR,aQ,aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG,aF,aE,aD=/#([\w\-]+)/,aC=/\.[\w\-]+/g,aB=/^#([\w\-]+$)/,aA=/^\.([\w\-]+)$/,az=/^([\w\-]+)$/,ay=/^([\w]+)?\.([\w\-]+)$/,ax=aX.documentElement,aw=/\s(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\])/,av=/^([a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,au=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,at=new RegExp(av.source+"("+au.source+")?"),aq=function(){this.c={}};aq.prototype={g:function(b){return this.c[b]||undefined},s:function(d,c){this.c[d]=c;return c}};var ap=new aq,ao=new aq,an=new aq,am=new aq,af="compareDocumentPosition" in ax?function(d,c){return(c.compareDocumentPosition(d)&16)==16}:"contains" in ax?function(d,c){return c!==d&&c.contains(d)}:function(d,c){while(d=d.parentNode){if(d===c){return 1}}return 0},aa=function(){if(aX.querySelector&&aX.querySelectorAll){return ac}return function(t,s){var r=typeof s=="string"?aa(s)[0]:s||aX;if(!r||!t){return[]}var q,o,n=[],k=[],h;if(aR=ae(t,s,aa)){return aR}if(aR=t.match(ay)){aG=r.getElementsByTagName(aR[1]||"*"),aO=ap.g(aR[2])||ap.s(aR[2],new RegExp("(^|\\s+)"+aR[2]+"(\\s+|$)"));for(q=0,o=aG.length,aU=0;q<o;q++){aO.test(aG[q].className)&&(n[aU++]=aG[q])}return n}for(q=0,aG=t.split(","),o=aG.length;q<o;q++){k[q]=ag(aG[q])}for(q=0,o=k.length;q<o&&(aE=k[q]);q++){var b=aE;if(r!==aX){b=[];for(aU=0,aR=aE.length;aU<aR&&(h=aE[aU]);aU++){af(h,r)&&b.push(h)}}n=n.concat(b)}return ab(n)}}();aa.uniq=ab;var Z=aY.qwery;aa.noConflict=function(){aY.qwery=Z;return this},aY.qwery=aa}(this,document),snack.qwery=qwery.noConflict(),snack.wrap.defineEngine(function(d,c){return snack.qwery(d,c)});var ClickDeskHandlebars=(function(){var j=(function(){var b;function a(c){this.string=c}a.prototype.toString=function(){return""+this.string};b=a;return b})();var m=(function(c){var b={};var w=c;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var z=/[&<>"'`]/g;var v=/[&<>"'`]/;function A(n){return a[n]||"&amp;"}function d(n,o){for(var q in o){if(o.hasOwnProperty(q)){n[q]=o[q]}}}b.extend=d;var x=Object.prototype.toString;b.toString=x;var y=function(n){return typeof n==="function"};if(y(/x/)){y=function(n){return typeof n==="function"&&x.call(n)==="[object Function]"}}var y;b.isFunction=y;var f=Array.isArray||function(n){return(n&&typeof n==="object")?x.call(n)==="[object Array]":false};b.isArray=f;function t(n){if(n instanceof w){return n.toString()}else{if(!n&&n!==0){return""}}n=""+n;if(!v.test(n)){return n}return n.replace(z,A)}b.escapeExpression=t;function u(n){if(!n&&n!==0){return true}else{if(f(n)&&n.length===0){return true}else{return false}}}b.isEmpty=u;return b})(j);var l=(function(){var b;var a=["description","fileName","lineNumber","message","name","number","stack"];function c(){var d=Error.prototype.constructor.apply(this,arguments);for(var f=0;f<a.length;f++){this[a[f]]=d[a[f]]}}c.prototype=new Error();b=c;return b})();var k=(function(a,G){var H={};var c=a;var f=G;var E="1.1.2";H.VERSION=E;var C=4;H.COMPILER_REVISION=C;var z={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};H.REVISION_CHANGES=z;var d=c.isArray,A=c.isFunction,B=c.toString,D="[object Object]";function x(o,n){this.helpers=o||{};this.partials=n||{};b(this)}H.HandlebarsEnvironment=x;x.prototype={constructor:x,logger:I,log:y,registerHelper:function(q,o,n){if(B.call(q)===D){if(n||o){throw new f("Arg not supported with multiple helpers")}c.extend(this.helpers,q)}else{if(n){o.not=n}this.helpers[q]=o}},registerPartial:function(n,o){if(B.call(n)===D){c.extend(this.partials,n)}else{this.partials[n]=o}}};function b(n){n.registerHelper("helperMissing",function(o){if(arguments.length===2){return undefined}else{throw new Error("Missing helper: '"+o+"'")}});n.registerHelper("blockHelperMissing",function(o,q){var s=q.inverse||function(){},r=q.fn;if(A(o)){o=o.call(this)}if(o===true){return r(this)}else{if(o===false||o==null){return s(this)}else{if(d(o)){if(o.length>0){return n.helpers.each(o,q)}else{return s(this)}}else{return r(o)}}}});n.registerHelper("each",function(u,v){var J=v.fn,s=v.inverse;var q=0,o="",r;if(A(u)){u=u.call(this)}if(v.data){r=F(v.data)}if(u&&typeof u==="object"){if(d(u)){for(var t=u.length;q<t;q++){if(r){r.index=q;r.first=(q===0);r.last=(q===(u.length-1))}o=o+J(u[q],{data:r})}}else{for(var w in u){if(u.hasOwnProperty(w)){if(r){r.key=w}o=o+J(u[w],{data:r});q++}}}}if(q===0){o=s(this)}return o});n.registerHelper("if",function(o,q){if(A(o)){o=o.call(this)}if((!q.hash.includeZero&&!o)||c.isEmpty(o)){return q.inverse(this)}else{return q.fn(this)}});n.registerHelper("unless",function(o,q){return n.helpers["if"].call(this,o,{fn:q.inverse,inverse:q.fn,hash:q.hash})});n.registerHelper("with",function(o,q){if(A(o)){o=o.call(this)}if(!c.isEmpty(o)){return q.fn(o)}});n.registerHelper("log",function(q,r){var o=r.data&&r.data.level!=null?parseInt(r.data.level,10):1;n.log(o,q)})}var I={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(o,n){if(I.level<=o){var q=I.methodMap[o];if(typeof console!=="undefined"&&console[q]){console[q].call(console,n)}}}};H.logger=I;function y(o,n){I.log(o,n)}H.log=y;var F=function(n){var o={};c.extend(o,n);return o};H.createFrame=F;return H})(m,l);var g=(function(c,B,x){var a={};var d=c;var u=B;var y=x.COMPILER_REVISION;var v=x.REVISION_CHANGES;function z(o){var q=o&&o[0]||1,s=y;if(q!==s){if(q<s){var r=v[s],n=v[q];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+n+").")}else{throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+").")}}}function b(r,n){if(!n){throw new Error("No environment passed to template")}var o;if(n.compile){o=function(J,L,H,G,I,t){var K=A.apply(this,arguments);if(K){return K}var s={helpers:G,partials:I,data:t};I[L]=n.compile(J,{data:t!==undefined},n);return I[L](H,s)}}else{o=function(t,s){var D=A.apply(this,arguments);if(D){return D}throw new u("The partial "+s+" could not be compiled when running in runtime-only mode")}}var q={escapeExpression:d.escapeExpression,invokePartial:o,programs:[],program:function(t,s,E){var D=this.programs[t];if(E){D=f(t,s,E)}else{if(!D){D=this.programs[t]=f(t,s)}}return D},merge:function(s,t){var D=s||t;if(s&&t&&(s!==t)){D={};d.extend(D,t);d.extend(D,s)}return D},programWithDepth:w,noop:C,compilerInfo:null};return function(H,F){F=F||{};var E=F.partial?F:n,t,s;if(!F.partial){t=F.helpers;s=F.partials}var G=r.call(q,E,H,t,s,F.data);if(!F.partial){z(q.compilerInfo)}return G}}a.template=b;function w(q,o,n){var r=Array.prototype.slice.call(arguments,3);var s=function(t,D){D=D||{};return o.apply(this,[t,D.data||n].concat(r))};s.program=q;s.depth=r.length;return s}a.programWithDepth=w;function f(r,q,o){var n=function(s,t){t=t||{};return q(s,t.data||o)};n.program=r;n.depth=0;return n}a.program=f;function A(s,q,D,t,o,n){var r={partial:true,helpers:t,partials:o,data:n};if(s===undefined){throw new u("The partial "+q+" could not be found")}else{if(s instanceof Function){return s(D,r)}}}a.invokePartial=A;function C(){return""}a.noop=C;return a})(m,l,k);var h=(function(b,A,x,t,c){var a;var z=b;var w=A;var u=x;var d=t;var v=c;var f=function(){var n=new z.HandlebarsEnvironment();d.extend(n,z);n.SafeString=w;n.Exception=u;n.Utils=d;n.VM=v;n.template=function(o){return v.template(o,n)};return n};var y=f();y.create=f;a=y;return a})(k,j,l,m,g);return h})();var Handlebars=((typeof Handlebars)!==undefined&&(typeof Handlebars)!=="undefined")?Handlebars:(function(){var j=(function(){var b;function a(c){this.string=c}a.prototype.toString=function(){return""+this.string};b=a;return b})();var m=(function(c){var b={};var w=c;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var z=/[&<>"'`]/g;var v=/[&<>"'`]/;function A(n){return a[n]||"&amp;"}function d(n,o){for(var q in o){if(o.hasOwnProperty(q)){n[q]=o[q]}}}b.extend=d;var x=Object.prototype.toString;b.toString=x;var y=function(n){return typeof n==="function"};if(y(/x/)){y=function(n){return typeof n==="function"&&x.call(n)==="[object Function]"}}var y;b.isFunction=y;var f=Array.isArray||function(n){return(n&&typeof n==="object")?x.call(n)==="[object Array]":false};b.isArray=f;function t(n){if(n instanceof w){return n.toString()}else{if(!n&&n!==0){return""}}n=""+n;if(!v.test(n)){return n}return n.replace(z,A)}b.escapeExpression=t;function u(n){if(!n&&n!==0){return true}else{if(f(n)&&n.length===0){return true}else{return false}}}b.isEmpty=u;return b})(j);var l=(function(){var b;var a=["description","fileName","lineNumber","message","name","number","stack"];function c(){var d=Error.prototype.constructor.apply(this,arguments);for(var f=0;f<a.length;f++){this[a[f]]=d[a[f]]}}c.prototype=new Error();b=c;return b})();var k=(function(a,G){var H={};var c=a;var f=G;var E="1.1.2";H.VERSION=E;var C=4;H.COMPILER_REVISION=C;var z={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};H.REVISION_CHANGES=z;var d=c.isArray,A=c.isFunction,B=c.toString,D="[object Object]";function x(o,n){this.helpers=o||{};this.partials=n||{};b(this)}H.HandlebarsEnvironment=x;x.prototype={constructor:x,logger:I,log:y,registerHelper:function(q,o,n){if(B.call(q)===D){if(n||o){throw new f("Arg not supported with multiple helpers")}c.extend(this.helpers,q)}else{if(n){o.not=n}this.helpers[q]=o}},registerPartial:function(n,o){if(B.call(n)===D){c.extend(this.partials,n)}else{this.partials[n]=o}}};function b(n){n.registerHelper("helperMissing",function(o){if(arguments.length===2){return undefined}else{throw new Error("Missing helper: '"+o+"'")}});n.registerHelper("blockHelperMissing",function(o,q){var s=q.inverse||function(){},r=q.fn;if(A(o)){o=o.call(this)}if(o===true){return r(this)}else{if(o===false||o==null){return s(this)}else{if(d(o)){if(o.length>0){return n.helpers.each(o,q)}else{return s(this)}}else{return r(o)}}}});n.registerHelper("each",function(u,v){var J=v.fn,s=v.inverse;var q=0,o="",r;if(A(u)){u=u.call(this)}if(v.data){r=F(v.data)}if(u&&typeof u==="object"){if(d(u)){for(var t=u.length;q<t;q++){if(r){r.index=q;r.first=(q===0);r.last=(q===(u.length-1))}o=o+J(u[q],{data:r})}}else{for(var w in u){if(u.hasOwnProperty(w)){if(r){r.key=w}o=o+J(u[w],{data:r});q++}}}}if(q===0){o=s(this)}return o});n.registerHelper("if",function(o,q){if(A(o)){o=o.call(this)}if((!q.hash.includeZero&&!o)||c.isEmpty(o)){return q.inverse(this)}else{return q.fn(this)}});n.registerHelper("unless",function(o,q){return n.helpers["if"].call(this,o,{fn:q.inverse,inverse:q.fn,hash:q.hash})});n.registerHelper("with",function(o,q){if(A(o)){o=o.call(this)}if(!c.isEmpty(o)){return q.fn(o)}});n.registerHelper("log",function(q,r){var o=r.data&&r.data.level!=null?parseInt(r.data.level,10):1;n.log(o,q)})}var I={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(o,n){if(I.level<=o){var q=I.methodMap[o];if(typeof console!=="undefined"&&console[q]){console[q].call(console,n)}}}};H.logger=I;function y(o,n){I.log(o,n)}H.log=y;var F=function(n){var o={};c.extend(o,n);return o};H.createFrame=F;return H})(m,l);var g=(function(c,B,x){var a={};var d=c;var u=B;var y=x.COMPILER_REVISION;var v=x.REVISION_CHANGES;function z(o){var q=o&&o[0]||1,s=y;if(q!==s){if(q<s){var r=v[s],n=v[q];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+n+").")}else{throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+").")}}}function b(r,n){if(!n){throw new Error("No environment passed to template")}var o;if(n.compile){o=function(J,L,H,G,I,t){var K=A.apply(this,arguments);if(K){return K}var s={helpers:G,partials:I,data:t};I[L]=n.compile(J,{data:t!==undefined},n);return I[L](H,s)}}else{o=function(t,s){var D=A.apply(this,arguments);if(D){return D}throw new u("The partial "+s+" could not be compiled when running in runtime-only mode")}}var q={escapeExpression:d.escapeExpression,invokePartial:o,programs:[],program:function(t,s,E){var D=this.programs[t];if(E){D=f(t,s,E)}else{if(!D){D=this.programs[t]=f(t,s)}}return D},merge:function(s,t){var D=s||t;if(s&&t&&(s!==t)){D={};d.extend(D,t);d.extend(D,s)}return D},programWithDepth:w,noop:C,compilerInfo:null};return function(H,F){F=F||{};var E=F.partial?F:n,t,s;if(!F.partial){t=F.helpers;s=F.partials}var G=r.call(q,E,H,t,s,F.data);if(!F.partial){z(q.compilerInfo)}return G}}a.template=b;function w(q,o,n){var r=Array.prototype.slice.call(arguments,3);var s=function(t,D){D=D||{};return o.apply(this,[t,D.data||n].concat(r))};s.program=q;s.depth=r.length;return s}a.programWithDepth=w;function f(r,q,o){var n=function(s,t){t=t||{};return q(s,t.data||o)};n.program=r;n.depth=0;return n}a.program=f;function A(s,q,D,t,o,n){var r={partial:true,helpers:t,partials:o,data:n};if(s===undefined){throw new u("The partial "+q+" could not be found")}else{if(s instanceof Function){return s(D,r)}}}a.invokePartial=A;function C(){return""}a.noop=C;return a})(m,l,k);var h=(function(b,A,x,t,c){var a;var z=b;var w=A;var u=x;var d=t;var v=c;var f=function(){var n=new z.HandlebarsEnvironment();d.extend(n,z);n.SafeString=w;n.Exception=u;n.Utils=d;n.VM=v;n.template=function(o){return v.template(o,n)};return n};var y=f();y.create=f;a=y;return a})(k,j,l,m,g);return h})();var APP_MODE="4-6";var APP_CONFIG={sandbox:{url:"-dot-sandbox-dot-clickdeskapp.appspot.com",cdnURL:"http://cdn-widget.clickdesk.com",pluginURL:"http://integrations.clickdesk.com:8080/ClickdeskPlugins-beta",scriptURL:(document.location.protocol=="https:")?"https://my-dot-sandbox-dot-clickdeskapp.appspot.com/clickdesk-ui/browser/":"http://my-dot-sandbox-dot-clickdeskapp.appspot.com/clickdesk-ui/browser/"},beta:{url:"-dot-beta-dot-clickdeskchat.appspot.com",cdnURL:"http://cdn-widget.clickdesk.com",pluginURL:"http://integrations.clickdesk.com:8080/ClickdeskPlugins-beta",scriptURL:(document.location.protocol=="https:")?"https://my-dot-beta-dot-clickdeskchat.appspot.com/clickdesk-ui/browser/":"http://my-dot-beta-dot-clickdeskchat.appspot.com/clickdesk-ui/browser/"},local:{url:".localhost:8888",cdnURL:"http://cdn-widget.clickdesk.com",pluginURL:"http://localhost:8080",scriptURL:(document.location.protocol=="https:")?"https://localhost:8888/clickdesk-ui/browser/":"http://localhost:8888/clickdesk-ui/browser/"},prod:{url:".clickdesk.com",pluginURL:"http://integrations.clickdesk.com:8080/ClickdeskPlugins",cdnURL:"https://d1gwclp1pmzk26.cloudfront.net",scriptURL:(document.location.protocol=="https:")?"https://my.clickdesk.com/clickdesk-ui/browser/":"http://my.clickdesk.com/clickdesk-ui/browser/"}};var CLOUD_FRONT_VERSION="4-6";function clickdesk_cd_fill_form_fields_with_cookie_values(c){try{var b=widgetPrefsJSON.online_form_prefs.prechat_refill_form_fields;if(!b=="yes"){return false}if(c&&c!=undefined&&c!==null){formInputFields=ClickDesk_DOM.wrap("#"+c+" input, #"+c+" textarea")}else{formInputFields=ClickDesk_DOM.wrap("#clickdesk_popup input, #clickdesk_popup textarea")}for(var f=0;f<formInputFields.length;f++){var d=formInputFields[f];if(d.type=="button"||d.type=="submit"){continue}var h="";if(d.id=="broadcastchat"&&d.value){h=d.value}var a=d.getAttribute("ref_cookie_name");if(!a){a=clickdesk_custom_template_prefs_type(d)}if(a){h=ClickDesk_Storage.get_prefs(a)}d.value=(!h)?"":h}}catch(g){clickdesk_log(g)}}function clickdesk_store_form_fields_in_browser_cache(b){try{var c=ClickDesk_DOM.wrap("#"+b+" input, #"+b+" textarea");for(var f=0;f<c.length;f++){var d=c[f];var a=d.getAttribute("ref_cookie_name");if(!a){a=clickdesk_custom_template_prefs_type(d)}if(d.type=="button"||d.type=="submit"||!a){continue}var h=d.value;if(!h){continue}if(h==ClickDesk_Globals.default_place_holders[d.id]){continue}ClickDesk_Storage.set_prefs(a,h,10)}}catch(g){clickdesk_log(g)}}function clickdesk_reset_forms(){var c=ClickDesk_DOM.wrap("#clickdesk_popup input,#clickdesk_popup textarea");for(var a=0;a<c.length;a++){if(c[a].type=="button"||c[a].type=="submit"){continue}try{ClickDesk_DOM.set_style_by_object(c[a],{borderColor:"#CCC"});var d=c[a].className;c[a].className=(d&&d.indexOf("clickdesk_error_ele")!=-1)?d.replace("clickdesk_error_ele",""):d;if(ClickDesk_Mobile_Util.is_mobile_browser()){continue}c[a].focus();c[a].blur()}catch(b){}}var f=["cd_valid_email","offline_valid_email","helpdesk_valid_email"];for(var a=0;a<f.length;a++){ClickDesk_DOM.set_style_by_id(f[a],{display:"none"})}}function clickdesk_reset_form_select(){var c=ClickDesk_DOM.wrap("#clickdesk_popup select");for(var a=0;a<c.length;a++){try{if(c[a].type.indexOf("select")>-1){c[a].selectedIndex=0}}catch(b){}}}function clickdesk_serialize_form_data(b){var c=ClickDesk_DOM.wrap("#"+b+" input, #"+b+" textarea, #"+b+" select");var g={};for(var f=0;f<c.length;f++){var d=c[f];var a=d.getAttribute("ref_cookie_name");if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(a=="visitor_email"){agiletheme_emailverif=true}}if(!a){a=d.getAttribute("name")}if(!a||(d.id&&d.id.indexOf("custom")>-1)){a=clickdesk_custom_template_prefs_type(d)}if(d.type=="button"||d.type=="submit"||!a){continue}var h=d.value;if(!h){continue}if(h==clickdesk_get_element_default_value_(d)){continue}g[a]=h}return g}function clickdesk_serialize_form_fields(j){var f=ClickDesk_DOM.wrap("#"+j+" input, #"+j+" select");var g=new Array();for(var c=0;c<f.length;c++){var d=f[c];if(d.type=="button"||d.type=="submit"){continue}var b=d.value;var k=clickdesk_get_element_default_value_(d);if(!b||(b==k)){continue}var h={};var a=k;h.fieldName=a;h.fieldValue=b;g.push(h)}return g}function clickdesk_custom_template_prefs_type(a){try{var c=a.id;if(!c){return}c=c.toLowerCase();if(c.indexOf("name")>0){return"visitor_name"}else{if(c.indexOf("email")>0){return"visitor_email"}else{if(c.indexOf("custom")>0){if(c=="cd_prechat_custom"||c=="cd_proactive_visitor_custom"){return"custom_data"}return"custom_field"}}}}catch(b){}}function clickdesk_field_name_from_prefs_type(a){try{var c=a.id;if(!c){return}c=c.toLowerCase();if(c.indexOf("name")>0){return"Name"}else{if(c.indexOf("email")>0){return"Email"}else{if(c.indexOf("custom")>0){return"Custom"}}}}catch(b){}}function clickdesk_get_element_default_value_(a){var b=ClickDesk_Globals.default_place_holders[a.id];if(b){b=b.replace("*","").trim()}if(!b){b=clickdesk_field_name_from_prefs_type(a)}return b}function clickdesk_validate_form(k,l){var f=ClickDesk_DOM.wrap("#"+k+" input, #"+k+" textarea");var a=true;var b=ClickDesk_DOM.wrap("#"+l)[0];if(!b){b=""}b.innerHTML="";for(var c=0;c<f.length;c++){var d=f[c];if(d.type=="button"||d.type=="submit"){continue}clickdesk_remove_error_class(d);if(!clickdesk_validate_field(d)){clickdesk_add_error_class(d);d.focus();var g=clickdesk_get_element_type_attr(d);var j="";if(k=="ClickdeskPostchatSurveyForm"){j=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_name_field_label))}else{if(g=="email"){j=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_email_field_label))}else{if(g=="text"){j=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_name_field_label))}else{if(g=="number"){j=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_number_field_label))}else{if(g!="checkbox"&&g!="radio"){j=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_message_field_label))}}}}}if((g=="checkbox"||g=="radio")&&d.getAttribute("rel")){j=d.getAttribute("rel");if(j){j+=" is required."}}b.innerHTML=j;var h="block";if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(j=="Enter your message to chat"){h="none"}}ClickDesk_DOM.set_style_by_object(b,{display:h});a=false;return false}}return a}function clickdesk_validate_field(d){try{var g=false,h="text",j;g=(d.required||d.getAttribute("required"))?true:false;h=clickdesk_get_element_type_attr(d);if(g&&(h=="checkbox"||h=="radio")){var b=d.getAttribute("name"),k=false,a;if(!b){return(d.checked)}var a=ClickDesk_DOM.wrap("[name='"+b+"']");for(var f=0;f<a.length;f++){if(a[f].checked){k=true;break}}return k}j=d.value.trim();if(g||(j.length>0&&j!=ClickDesk_Globals.default_place_holders[d.id])){if(h=="email"){return clickdesk_is_valid_email_address(d.value)}if(h=="number"){return clickdesk_is_valid_number(d.value)}else{if(g&&(j.length==0||j==ClickDesk_Globals.default_place_holders[d.id])){return false}}}return true}catch(c){clickdesk_log(c)}return true}function clickdesk_is_valid_number(a){if(!a||a<0){return false}return !(isNaN(a))}function clickdesk_is_valid_email_address(d){var c=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,15})?$/);if(!d){return false}var f=d.split(",");for(var b=0;b<f.length;b++){f[b]=f[b].replace(/^\s*/,"").replace(/\s*$/,"");var a=c.test(f[b]);if(!a){return false}}return true}function clickdesk_get_element_type_attr(a){if(!a){return"text"}return(a.type=="textarea")?"textarea":(a.getAttribute("type")?a.getAttribute("type"):(a.type?a.type:type))}function clickdesk_add_error_class(b){try{b.className=(b.className)?(b.className+" clickdesk_error_ele"):"clickdesk_error_ele";var a=b.getAttribute("data");ClickDesk_DOM.wrap("."+a).addClass("clickdesk_error_label")}catch(c){}}function clickdesk_remove_error_class(b){try{b.className=(b.className.indexOf("clickdesk_error_ele")>=0)?(b.className.replace(" clickdesk_error_ele","")):b.className;var a=b.getAttribute("data");ClickDesk_DOM.wrap("."+a).removeClass("clickdesk_error_label")}catch(c){}}function clickdesk_valid_data_form(a,g){var b=ClickDesk_DOM.wrap("#"+a+" input, #"+a+" textarea");var f=ClickDesk_DOM.wrap("#"+g)[0];f.innerHTML="";for(var d=0;d<b.length;d++){var c=b[d];if(c.type=="button"||c.type=="submit"){continue}if(clickdesk_is_field_has_value(c)){return true;break}}f.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.no_form_data_to_submit));ClickDesk_DOM.set_style_by_object(f,{display:"block"});return false}function clickdesk_is_field_has_value(c){var h,d;d=clickdesk_get_element_type_attr(c);if(d=="checkbox"||d=="radio"){var a=c.getAttribute("name"),f=false,g;if(!a){return(c.checked)}var g=ClickDesk_DOM.wrap("[name='"+a+"']");for(var b=0;b<g.length;b++){if(g[b].checked){f=true;break}}return f}h=c.value.trim();if(h.length==0||h==ClickDesk_Globals.default_place_holders[c.id]){return false}return true}function clickdesk_is_any_field_required(a){var c=false;try{var b=ClickDesk_DOM.wrap("#"+a+" input, #"+a+" textarea");for(var f=0;f<b.length;f++){var d=b[f];if(d.type=="button"||d.type=="submit"){continue}if(d.required||d.getAttribute("required")){c=true}}}catch(g){}return c}function clickdesk_is_all_fields_has_value(b){try{var c=ClickDesk_DOM.wrap("#"+b+" input, #"+b+" textarea");for(var f=0;f<c.length;f++){var d=c[f];if(d.type=="button"||d.type=="submit"){continue}var a=d.getAttribute("ref_cookie_name");if(!a){a=clickdesk_custom_template_prefs_type(d)}if(!a||!ClickDesk_Storage.get_prefs(a)){return false}}}catch(g){}return true}var ClickDesk_Globals=ClickDesk_Globals||{img_cloud_path:"//d25wh3ilibgxb0.cloudfront.net",custom_messages:'{"customstatusmssgs_send_success_mssg_label": "We have saved your preferences","customstatusmssgs_agent_exceeded_time_label": "It seems to be taking longer than usual. You can continue to be on hold or leave us an offline message.","customstatusmssgs_nosession_label": "You have no active chat session at this time.","customstatusmssgs_wait_input_field_status_label": "Please wait...","customstatusmssgs_send_request_label": "Sending...","customstatusmssgs_message_field_label": "Enter your message to chat","customstatusmssgs_name_field_label": "Please fill the required fields.","customstatusmssgs_number_field_label": "Please enter the valid number.","customstatusmssgs_wait_status_label": "Please wait while we connect you to an available agent...","customstatusmssgs_email_field_label": "Enter the valid email address.","customstatusmssgs_send_failure_mssg_label": "Sending failed.Please try again...","session_queued_message":"[You are not currently on active chat with us.]"}',custom_messages_new:'{"customstatusmssgs_form_chat_window_call_option_error_label": "There is no active agent to respond","customstatusmssgs_chat_window_more_option_label": "More","customstatusmssgs_chat_window_more_option_send_transcript_label":"Send Transcript","customstatusmssgs_chat_window_more_option_sound_label":"Sound","customstatusmssgs_chat_window_more_option_send_file_label":"Send File", "visitor_blocked":"[Your IP has been blocked by Agent.]","session_queued_message":"[You are not currently on active chat with us.]","queued_offline_message_label" : "or you can send offline message", "no_form_data_to_submit" : "Please provide valid information to save" }',visitor_name:"me",window_title:"Can we help?",company_logo:"//d1gwclp1pmzk26.cloudfront.net/img/gravatar/1.png",agent_nick_name:"Live-chat",agent_pic:"//d1gwclp1pmzk26.cloudfront.net/img/gravatar/1.png",agent_id:"",agent_json:"",is_call_req_for_audio:"",co_browse_url:"",session_timeout_timer:"",auto_response_message_timer:"",default_place_holders:{},offline_prechat_session_id:"",forced_chat_agent_id:"",forced_chat_messages:[]};var ClickDesk_Global_Users=ClickDesk_Global_Users||{HTC_customers:["3eAIRj","4Z5LB2","4f3fcb","4egief","4fZw9a","2NWhkj","4zakS2","508JaR","50SfId","4zilKA","50KjcN","50Dr0R","505xul","50CQXG","564QBB","51wO4s","QLwkCQV1M","QhIOgl0mu","T4Td3SuA4","SvnnHAqBc","UAugyQ0Lw"],HTC_pusher_service_countries:["india","china","taiwan","unknown"],};var ClickDesk_Handlebars={hb_tmp_backup:{},hb_helpers_backup:{},get_template:function(a,c){var b="";if(a===undefined){return""}c=Cd_Xss_Util.escape_json_values(c);try{a=a.replace("-template","");if(!Handlebars.templates||!Handlebars.templates[a]){this.reinitalize(a)}var d=ClickDeskHandlebars.templates[a]||Handlebars.templates[a];b=d(c);return convert_string_to_html(b)}catch(f){clickdesk_log("handlebars error = "+f)}return b},reinitalize:function(){if(!Handlebars.templates){Handlebars.templates={}}if(ClickDeskHandlebars.templates[key]){return}var a=this.hb_tmp_backup;for(key in a){if(Handlebars.templates[key]){continue}Handlebars.templates[key]=a[key];ClickDeskHandlebars.templates[key]=a[key]}if(!Handlebars.helpers){Handlebars.helpers={}}var b=this.hb_helpers_backup;for(key in b){if(Handlebars.helpers[key]){continue}Handlebars.helpers[key]=b[key]}},reset_handlebars_heplers:function(){for(var a in Handlebars.helpers){if(ClickDeskHandlebars.helpers[a]){continue}ClickDeskHandlebars.helpers[a]=Handlebars.helpers[a]}},};(function(){Handlebars.registerHelper("cd_if_property",function(b,a){if(this[b]=="yes"||this[b]=="true"){return a.fn(this)}else{return a.inverse(this)}});Handlebars.registerHelper("cd_compare",function(b,c,a){if(b==c){return a.fn(this)}else{return a.inverse(this)}});Handlebars.registerHelper("cd_social_prefs",function(b,a){if(b.replace("http://facebook.com/","").replace("http://twitter.com/","")==""){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("cd_epoch_time_to_human_date",function(c,b){if(!c){return false}c=parseInt(c);if(c<10000000000){c*=1000}var a=new Date();a.setTime(c);return((a.getHours()>12)?a.getHours()-12:a.getHours())+":"+((a.getMinutes()<10)?"0"+a.getMinutes():a.getMinutes())+" "+((a.getHours()>=12)?"PM":"AM")});Handlebars.registerHelper("cd_on_new_message",function(b,a){if(!b){return false}if(Cd_Xss_Util.is_valid_to_escape(b)){b=ClickDesk_Smilies.convert_emotions(b);b=clickdesk_convert_message_to_anchor(b)}try{b=b.replace(/\n/g,"<br>").replace(/\r\n/g,"<br>")}catch(c){}return new Handlebars.SafeString(b)});Handlebars.registerHelper("cd_check_length",function(b,a){if(b.length==1){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("cd_get_script_direction",function(a){var b=widgetPrefsJSON.language;b=(!b)?"english":b.current_language;var c=new Array("hebrew","arabic","urdu");return(c.toString().indexOf(b)!=-1)?"rtl":"ltr"});Handlebars.registerHelper("add_cd_styles",function(b,a){CD_Live_Chat.add_style_css_tag(b);return""});Handlebars.registerHelper("cd_check_blob",function(a){try{var c=new Blob();return""}catch(b){return"disabled title='This browser not support this feature.'"}});Handlebars.registerHelper("cd_get_mobile_target_url",function(a){return glcpath.replace("clickdesk-ui/browser/","")+"cdMob?id="+ClickDesk_Widget_Util.widget_id});Handlebars.registerHelper("cd_is_substring",function(b,c,a){if(b.toLowerCase().indexOf(c.toLowerCase())>-1){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("clickdesk_white_label",function(b){var a={};a.prefs=widgetPrefsJSON;a.type=b;a.utm_link="http://www.clickdesk.com/clickdesk-confirm.jsp?utm_source=powered-by&utm_medium=widget&utm_campaign="+location.host.replace(/\./g,"-")+"&utm_me="+widgetPrefsJSON.userid;var c=document.createElement("div");c.appendChild(ClickDesk_Handlebars.get_template("white-label",a));return new Handlebars.SafeString(c.innerHTML.replace(/&amp;/g,"&"))});Handlebars.registerHelper("cd_capitalize",function(a){if(!a){return}a=a.slice(0,1).toUpperCase()+a.slice(1);return a});Handlebars.registerHelper("cd_set_index",function(a){this.index=Number(a+1)});Handlebars.registerHelper("cd_if_checked",function(b,a){if(b&&(b=="true"||b==true||b=="yes")){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("cd_windows_safari",function(b){var a=BrowserDetect.browser;var c=BrowserDetect.OS;if(a&&a.toLowerCase()=="safari"&&c&&c.toLowerCase()=="windows"){return b.fn(this)}return b.inverse(this)});Handlebars.registerHelper("custom_popup_enabled",function(a){if(cd_custom_popup_enabled){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("changing_color",function(a){if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(widgetPrefsJSON.template_prefs.color){return widgetPrefsJSON.template_prefs.color}else{return"#00A1ED"}}return a.inverse(this)});Handlebars.registerHelper("checking_indicator",function(a,b){if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(widgetPrefsJSON.template_prefs.color){if(a=="welcome"){return widgetPrefsJSON.template_prefs.color}else{return""}}}return b.inverse(this)});Handlebars.registerHelper("agiletheme_email_verification",function(b,a){if(ClickDesk_Storage.get_prefs("visitor_email")||b=="response"){return a.inverse(this)}return a.fn(this)});Handlebars.registerHelper("hide_fields",function(a){if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(ClickDesk_Storage.get_prefs(ClickDesk_Proactive_Handler.visitor_details_cookie)){return"none !important"}else{return"block !important"}}});Handlebars.registerHelper("mandatory_fields",function(a){if(widgetPrefsJSON.online_form_prefs.prechat_form_email_required=="true"||widgetPrefsJSON.online_form_prefs.prechat_form_name_required=="true"||widgetPrefsJSON.online_form_prefs.prechat_form_show_custom_field_required=="true"){return a.fn(this)}return a.inverse(this)});Handlebars.registerHelper("check_cookie",function(a){if(ClickDesk_Storage.get_prefs("visitor_email")){return""}return"hidden !important"});Handlebars.registerHelper("status_enable_disable",function(a){if(ClickDesk_Storage.get_prefs("visitor_email")){return""}return"disabled"});Handlebars.registerHelper("cd_test_prefs",function(b,a){clickdesk_log(b)});Handlebars.registerHelper("cd_is_customer_enabled",function(b){var a=widgetPrefsJSON.userid;if(a&&(a=="2rDk1z"||a=="MC39xFuka"||a=="1qE"||a=="22hxjr")){return b.inverse(this)}return b.fn(this)})})();var ClickDesk_Prefs_Util={decode_json:function(a){if(!a){return}for(key in a){if(typeof a[key]=="object"){ClickDesk_Prefs_Util.decode_json(a[key])}else{try{a[key]=a[key].replace(/&#39;/g,"'").replace(/&#37;/g,"%").replace(/&#34;/g,'"').replace(/\r\n/g,"<br>").replace(/\\r\\n/g,"<br>").replace(/\r/g,"<br>").replace(/\r/g,"<br>")}catch(b){}}}return a},refill_missed_prefs:function(){if(!widgetPrefsJSON){return false}if(!widgetPrefsJSON.online_form_prefs){var a={};a.prechat_header_label="We are online. Chat with us.";a.prechat_form_name_required="no";a.prechat_form_email_required="no";a.prechat_status_label="Please enter your name and email address to begin chatting with us.";a.prechat_form_name_label="Name";a.prechat_form_email_label="Email";a.prechat_form_gdpr_label="checkbox";a.prechat_form_message_label="Message";a.prechat_form_button_label="Initiate Chat";a.prechat_form_text1_label="Text1";a.prechat_form_text2_label="Text2";a.prechat_form_text3_label="Text3";a.prechat_form_text4_label="Text4";a.prechat_form_text1_required="no";a.prechat_form_text2_required="no";a.prechat_form_text3_required="no";a.prechat_form_text4_required="no";widgetPrefsJSON.online_form_prefs=a}if(!widgetPrefsJSON.offline_form_prefs){var a={};a.offline_header_label="We are offline.";a.offline_form_name_required="yes";a.offline_form_email_required="yes";a.offline_status_label="Please leave your name and email address, we will get back to you soon. Thanks.";a.offline_form_name_label="Name";a.offline_form_email_label="Email";a.offline_message_label="Message";a.offline_form_button_label="Send Message";widgetPrefsJSON.offline_form_prefs=a}if(!widgetPrefsJSON.emailtovisitor_form_prefs){var a={};a.emailtovisitor_form_header_label="Email me this chat transcript";a.emailtovisitor_form_status_message_label="Please enter your name and email to receive the full transcript after the end of the chat session.";a.emailtovisitor_form_name_label="Name";a.emailtovisitor_form_email_label="Email";a.emailtovisitor_form_send_button_text="Send";a.emailtovisitor_form_cancel_button_text="Cancel";widgetPrefsJSON.emailtovisitor_form_prefs=a}if(!widgetPrefsJSON.ticket_form_prefs){var a={};a.ticket_form_header_label="Create Ticket";a.ticket_form_status_message_label="You can create your support ticket by providing your name, email address and message.";a.ticket_form_name_label="Name";a.ticket_form_email_label="Email";a.ticket_form_message_label="Enter Message";a.ticket_form_send_button_text="Submit";a.ticket_form_send_success_text="Thanks for dropping by. We shall get back to you soon.";widgetPrefsJSON.ticket_form_prefs=a}if(widgetPrefsJSON.departments){widgetPrefsJSON.ticket_form_prefs.departments=widgetPrefsJSON.departments}if(!widgetPrefsJSON.social_network){widgetPrefsJSON.social_network={twitter_url:"",facebook_url:""}}if(widgetPrefsJSON.social_network&&!widgetPrefsJSON.social_networks){widgetPrefsJSON.social_networks=widgetPrefsJSON.social_network}},update_bubble_prefs:function(){try{var f=widgetPrefsJSON.bubble_prefs;if(f&&f.offline_image&&f.online_image){var c="//d1gwclp1pmzk26.cloudfront.net/",d=f.offline_image,b=f.online_image;f.offline_image=(d.indexOf("//")==0||d.indexOf("http")==0)?f.offline_image:(c+f.offline_image);f.online_image=(b.indexOf("//")==0||b.indexOf("http")==0)?f.online_image:(c+f.online_image);widgetPrefsJSON.bubble_prefs=f}}catch(a){}}};var CD_Live_Chat={show:function(a){if(ClickDesk_DOM.has_class("clickdesk_b","min")){ClickDesk_Window_Callback.show()}else{ClickDesk_DOM.wrap("#clickdesk_session")[0].innerHTML="";ClickDesk_Widget_Session.check_and_render_active_session()}return ClickDesk_DOM.cancel_event(a)},close:function(a){ClickDesk_Proactive_Handler.is_session_exists=false;ClickDesk_Window_Callback.hide();ClickDesk_Widget_Session.delete_session("visitor_closed");return ClickDesk_DOM.cancel_event(a)},minimize:function(a){ClickDesk_Window_Callback.minimize();return ClickDesk_DOM.cancel_event(a)},load_chanelJS:function(c){var a=this.get_channel_api_js();if(ClickDesk_Widget_Channel.is_firebase_using){ClickDesk_Widget_Util.loadJS(a,function(){if(c){c()}});return}try{if(typeof goog.appengine=="object"){if(c){c()}return}throw new Error("No appengine")}catch(b){ClickDesk_Widget_Util.loadJS(a,function(){if(c){c()}})}},get_channel_api_js:function(){if(ClickDesk_Widget_Channel.is_firebase_using){return"https://www.gstatic.com/firebasejs/4.5.1/firebase.js"}var b=(_glc.version)?(glcpath.replace("/clickdesk-ui/browser/","")+"/_ah/channel/jsapi"):"https://talkgadget.google.com/talkgadget/channel.js";var c=ClickDesk_Global_Users.HTC_customers;for(var a=0;a<=c.length;a++){if(widgetPrefsJSON.userid==c[a]){b="https://my.clickdesk.com/js/channel.js";return b}}return b},get_theme_color:function(a){var c=["007034","0d8957","2b9464","3da179","399b22","5e8c00","83bf17","83aa30","7ea333","8bad39","8c8535","999900","b8be1c","aba918","b1eb00","bff073","ccc51c","d0c91f","cbbb58","f7f960","ff9700","ffba00","ffac00","fe9601","ff9d33","ffc833","e8b71a","ffe600","fce014","ffd900","f5df65","f0a830","ffca00","ffd464","ffc300","ffd041","f07818","ff8400","cc6600","9c0f5f","b9006e","bd007d","cc0063","d40e52","aa2159","e03d89","e664a1","ff66cc","ff85cb","e8a0b8","cd7881","d94e67","bb0f00","de0202","cd1719","c91b26","ff2321","ed1c24","e53535","dc2742","db3340","d93240","ff432e","ff534b","dc403b","de4d4e","ff4c65","e94c6f","c15661","e74700","ff5108","f05a28","f2671f","e95d22","da4624","d14d28","f05b47","de593a","f76835","ed7d4e","d75c37","d96459","de5842","c05949","fb6648","f98a5f","df514c","e45f56","fb6964","f15d58","eb7260","f26547","ef9950","f2ae72","3a0256","5c00bd","442d65","3f0082","660066","60047a","86269b","5c2d50","5e3448","775ba3","8b8dd2","6e70c7","62587c","74aaf7","4d6684","3475a7","008bba","14b8b1","29aba4","4aaaa5","009d97","17a697","25aaa0","28be9b","02d0ac","41d4cf","02c9c9","5db89d","77ba9b","91c5a9","78c0a8","00b796","1fda9a","a3d39c","588c73","59c4c5","8fd4d9","92dce0","53bbf4","33afff","1499d3","28abe3","0b99bc","1ba3e1","009bff","0c98cf","0aa0d9","6e9ecf","3a9ad9","59c8df","0dc9f7","00c8f8","00c8f9","05bde9","00d2f1","00ccd6","017280","241b3b","021542","160a47","10206b","1352a2","3b5998","293e6a","20457c","015391","817996","638ca6","6991ac","7195a3","348e99","5f9da1","609194","0f5959","3b3a35","363635","3d3d3d","333333","333332","525252","424242","5a6a62","818181","7f7f7f","6c6e70","666666","67727a","3c4554","354458","35404f","274257","7c0f0f","6e0000","591e23","542733","57102c","6d2908","643200","753a48","8c4646","954f47","a68572","2d3033","000000","281400","333300","2b2301","49352a","493621","5e412f","704f2d","73503c","82683b","a68f58","afa577","a79e65","b6a754","b4830b","c39c3c"];try{if(!CLICKDESK_CHAT_WINDOW_UI.contains(c,a.replace("#",""))){a="#241b3b"}}catch(b){}widgetPrefsJSON.template_prefs.color=a;return a},load_template_css_file:function(){var d=widgetPrefsJSON.template_prefs.color;d=this.get_theme_color(d);var a=widgetPrefsJSON.template_prefs.template;var h=(!a||(a!="small"&&a!="medium"))?"":"-"+a;clickdesk_log("css_template_type = "+h);var c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/social/packed/"+d.replace("#","")+h+".css";var b=["lighten_theme","custom"];for(var g=0;g<b.length;g++){if(!a||a!=b[g]){continue}c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/clickdesk_"+a+"6.css";break}if(a=="ultra_theme"){c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/ultra/packed/"+d.replace("#","")+".css"}if(a=="agilechat_theme"){c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/agile/packed/"+d.replace("#","")+".css"}if(a.indexOf("minimalistic")==0){c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/minimalistic/packed/"+d.replace("#","")+".css"}if(a.indexOf("webrtc_theme")==0){c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-css/modern/packed/"+d.replace("#","")+".css"}if(ClickDesk_Window_Popout.is_window_in_popup()){var j="social-mobile";j=(a=="ultra_theme")?"ultra-mobile":((a=="webrtc_theme")?"modern-mobile":j);c=ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-mobile-css/"+j+"/packed/"+d.replace("#","")+h+".css"}this.load_css_file_url(c)},load_css_file_url:function(a){var b=document.createElement("link");b.setAttribute("type","text/css");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);if(b){document.getElementsByTagName("head")[0].appendChild(b)}},add_style_css_tag:function(a){var f=document,b=f.createElement("style");f.getElementsByTagName("head")[0].appendChild(b);b.setAttribute("type","text/css");try{b.innerHTML=a}catch(c){b.styleSheet.cssText=a}},get_custom_prefs:function(){try{var a=ClickDesk_Widget_Util.parse_widget_prefs();return a.custom_prefs[ClickDesk_Widget_Util.widget_id]}catch(b){}return""},render_clickdesk_ui:function(){widgetPrefsJSON=ClickDesk_Prefs_Util.decode_json(widgetPrefsJSON);ClickDesk_Handlebars.reset_handlebars_heplers();ClickDesk_Prefs_Util.update_bubble_prefs();ClickDesk_Prefs_Util.refill_missed_prefs();ClickDesk_Visitor_Info.get_referrer_link();clickdesk_construct_bubble();clickdesk_render_chat_window();clickdesk_check_doctype_in_ie()}};var ClickDesk_Call={call_window:"",error_timer:"",browser_has_call_support:function(){var a=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);if(!a){return false}return true},handle_message_signals:function(c){var a=ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();if(c.client_id&&a!==c.client_id){return false}var d=c.from;if(d&&d=="visitor"){return false}delete c.from;if(c.type=="web_rtc_request_response"){var b=c.status;if(!b){return false}if(b=="busy"){this.show_call_error("Seems agent is busy with some other call.");return}if(b=="live"){this.show_call_error("You are already on an active call with us.");return}return false}else{if(c.type=="web_rtc_close"){return false}else{if(c.type==="bye"&&pc){return false}else{if(c.type==="agent_ready"){}else{if(c.type==="agent_declined"){this.show_call_error("Agent has declined your video chat request.")}else{if(c.type==="agent_closed"&&(!this.call_window||this.call_window.closed)){this.show_call_error("Agent has declined your video chat request.")}}}}}}},open_window:function(b){if(this.call_window&&!this.call_window.closed){this.call_window.focus();return this.call_window}this.call_window=window.open(this.create_url(b),"ClickDesk_Window","width=400,height=300,fullscreen=1");this.call_window.focus();if(b){var a=(ClickDesk_Globals.is_call_req_for_audio=="audio")?"voice":"video";ClickDesk_GA.trigger_event("visitor_answered_"+a,ClickDesk_Globals.agent_nick_name)}},focus_window:function(){try{if(!this.call_window||this.call_window.closed){return}ClickDesk_Call.call_window.blur();setTimeout(function(){ClickDesk_Call.call_window.focus()},1)}catch(a){clickdesk_log(a)}},create_url:function(accepted){var sessionJSON=ClickDesk_Widget_Session.get_active_session();var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);var url=CLICKDESK_SERVER_PATH;if(CLICKDESK_SERVER_PATH.indexOf("localhost")==-1){url=CLICKDESK_SERVER_PATH.replace("http:","https:")}return url+"/conference?s_id="+sessionId+"&s_type="+ClickDesk_Globals.is_call_req_for_audio+"&owner=visitor"+((accepted)?"&initiator=a":"")},show_call_error:function(d,c){d=(!d)?"There is no active agent to respond.":d;if(this.error_timer){return false}var b=ClickDesk_DOM.wrap("#cd_valid_session_for_audio_video")[0];if(!b){return false}b.innerHTML=d;var a={display:"block",color:"red",textAlign:"left"};if(c&&c=="success"){a.color="#333";a.textAlign="center"}ClickDesk_DOM.set_style_by_object(b,a);if(c&&c=="success"){return false}this.error_timer=setTimeout(function(){ClickDesk_Call.hide_error()},6000)},hide_error:function(){var a=ClickDesk_DOM.wrap("#cd_valid_session_for_audio_video")[0];if(!a){return false}a.style.display="none";clearTimeout(this.error_timer);this.error_timer=undefined}};var Clickdesk_Client_Connection_Ping_Pong={is_socket_instance:true,timer:"",last_msssg_recieved_time:"",get_channel_token:function(){var a=ClickDesk_Widget_Session.get_active_session();if(!a){return}return a.visitor_token},start_timer:function(){this.clear_timer();this.timer=setTimeout(function(){var b=Clickdesk_Client_Connection_Ping_Pong.get_channel_token();if(!b){return}var a={};a.visitor_token=b;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/channel/ping-pong",a,function(c){if(!Clickdesk_Client_Connection_Ping_Pong.is_channel_dead()){return Clickdesk_Client_Connection_Ping_Pong.start_timer()}Clickdesk_Client_Connection_Ping_Pong.reconnect()})},30000)},clear_timer:function(){if(this.timer){clearTimeout(this.timer)}},reset_Ping_Pong_Timer:function(){this.update_last_message_received_time();this.start_timer()},update_last_message_received_time:function(){this.last_msssg_recieved_time=new Date().getTime()},is_channel_dead:function(){var a=new Date().getTime();var b=a-this.last_msssg_recieved_time;return(b>(1000*60))},reconnect:function(){clickdesk_log("Reconnecting channel, stay at idle mode");ClickDesk_Widget_Channel.get_channel_token(function(){ClickDesk_Widget_Session.check_and_render_active_session()})}};var ClickDesk_Widget_Channel={is_firebase_using:true,channel_id:"channel_id",visitor_token:"",is_channel_closed:false,widget_socket:"",is_channel_service_restricted_user:function(){try{if(true){return true}var c=ClickDesk_Global_Users.HTC_customers;var a=["india","china","taiwan","unknown"];if(c.indexOf(widgetPrefsJSON.userid)!=-1&&a.indexOf(ClickDesk_Visitor_Info.getGeoPrefs("country").toLowerCase())!=-1){return true}}catch(b){}return false},get_channel_token:function(d){var b={};b.widget_id=ClickDesk_Widget_Util.widget_id;var a=Clickdesk_Client_Connection_Ping_Pong.get_channel_token();if(a){b.visitor_token=a}var c=CLICKDESK_SERVER_PATH+"/rest/visitor";c+=(!a)?"/chat/newtoken":"/channel/clientid";clickdesk_log("Connecting to server for token and channel id");ClickDesk_JSONP.send_request(c,b,function(g){var f=g.response;if(!f){return}clickdesk_log(f);ClickDesk_Widget_Channel.visitor_token=f.visitor_token;ClickDesk_Widget_Channel.create_socket(f.channel_id,d)})},close_socket:function(){if(this.widget_socket){try{this.widget_socket.close()}catch(a){}try{this.widget_socket.off()}catch(a){}}if(ClickDesk_Widget_Pusher_Channel_Obj_Channel&&ClickDesk_Widget_Channel.is_channel_service_restricted_user()){ClickDesk_Widget_Pusher_Visitor.close_channel();return}Clickdesk_Client_Connection_Ping_Pong.reset_Ping_Pong_Timer()},create_socket:function(a,b){if(!a||this.is_channel_service_restricted_user()){Clickdesk_Client_Connection_Ping_Pong.is_socket_instance=false;ClickDesk_Widget_Pusher_Visitor.channal_subscribe(ClickDesk_Widget_Channel.visitor_token,b);return}ClickDesk_Storage.set_prefs(ClickDesk_Widget_Channel.channel_id,a);this.close_socket();if(ClickDesk_Widget_Channel.is_firebase_using){ClickDesk_Firebase_Widget_Channel.create_socket(a,b);return}onOpened=function(){clickdesk_log("Channel opened "+a);if(b){b(ClickDesk_Widget_Channel.visitor_token)}Clickdesk_Client_Connection_Ping_Pong.reset_Ping_Pong_Timer()};onMessage=function(c){var f=JSON.parse(c.data);try{ClickDesk_Channel_Message_Listener.listen(f);Clickdesk_Client_Connection_Ping_Pong.reset_Ping_Pong_Timer()}catch(d){clickdesk_log(d)}};onError=function(){ClickDesk_Widget_Channel.is_channel_closed=true;clickdesk_log("error in channel")};onClose=function(){ClickDesk_Widget_Channel.is_channel_closed=true;clickdesk_log("onClose close")};CD_Live_Chat.load_chanelJS(function(){clickdesk_log("Establishing Channel "+a);var c=new goog.appengine.Channel(a);ClickDesk_Widget_Channel.widget_socket=c.open();ClickDesk_Widget_Channel.widget_socket.onopen=onOpened;ClickDesk_Widget_Channel.widget_socket.onmessage=onMessage;ClickDesk_Widget_Channel.widget_socket.onerror=onError;ClickDesk_Widget_Channel.widget_socket.onclose=onClose})}};var ClickDesk_Firebase_Widget_Channel={create_socket:function(a,b){onOpened=function(){clickdesk_log("Channel opened "+a);if(b){b(ClickDesk_Widget_Channel.visitor_token)}Clickdesk_Client_Connection_Ping_Pong.reset_Ping_Pong_Timer()};onMessage=function(c){console.log("evt",c);if(!c){return}try{var f=c;try{ClickDesk_Channel_Message_Listener.listen(f)}catch(d){clickdesk_log(d)}Clickdesk_Client_Connection_Ping_Pong.reset_Ping_Pong_Timer()}catch(d){clickdesk_log(d)}};onError=function(){ClickDesk_Widget_Channel.is_channel_closed=true;clickdesk_log("error in channel")};onClose=function(){ClickDesk_Widget_Channel.is_channel_closed=true;clickdesk_log("onClose close")};CD_Live_Chat.load_chanelJS(function(){ClickDesk_Firebase_Widget_Channel.initiliaze();clickdesk_log("Establishing Channel "+a);ClickDesk_Widget_Channel.widget_socket=firebase.database().ref("channels/"+ClickDesk_Widget_Channel.visitor_token);ClickDesk_Widget_Channel.widget_socket.on("value",function(d){onMessage(d.val())});onOpened();var c=firebase.database().ref(".info/connected");c.on("value",function(d){if(d.val()===true){console.log("connected")}else{console.log("not connected")}})})},initiliaze:function(){var a={apiKey:"AIzaSyCb649cHzoP3vdQuJyelghKQG56G2ZnYgU",authDomain:"clickdeskchat.firebaseapp.com",databaseURL:"https://clickdeskchat.firebaseio.com",projectId:"clickdeskchat",storageBucket:"",messagingSenderId:"724120312339"};firebase.initializeApp(a)}};var ClickDesk_Message_Auto_Response={set_auto_response_prefs:function(){var b=widgetPrefsJSON.online_form_prefs;if(!b||b.chat_auto_response_required!="true"||!b.chat_auto_response_message||!b.chat_auto_response_time){return}var a="cd_auto_response_message_time";ClickDesk_Storage.set_prefs(a,new Date().getTime()+(b.chat_auto_response_time*1000));this.initilaize_message_auto_response_timer()},delete_auto_response_prefs:function(){ClickDesk_Storage.delete_prefs("cd_auto_response_message_time")},get_auto_response_prefs:function(){return ClickDesk_Storage.get_prefs("cd_auto_response_message_time")},initilaize_message_auto_response_timer:function(){this.clear_message_auto_response_timer();var a=widgetPrefsJSON.online_form_prefs;if(!a||a.chat_auto_response_required!="true"||!a.chat_auto_response_message||!a.chat_auto_response_time){ClickDesk_Message_Auto_Response.delete_auto_response_prefs();return}ClickDesk_Globals.auto_response_message_timer=setTimeout(function(){var b=ClickDesk_Message_Auto_Response.get_auto_response_prefs();if(!b||!ClickDesk_Widget_Session.get_active_session()||ClickDesk_Globals.agent_json){return}if(b>new Date().getTime()){ClickDesk_Message_Auto_Response.initilaize_message_auto_response_timer()}else{var c=(!a.chat_auto_response_name)?"Agent":a.chat_auto_response_name;var d=a.chat_auto_response_message.replace(/<br\s*[\/]?>/gi,"\n");ClickDesk_Chat_Window_Util.append_message(d,c);ClickDesk_Message_Auto_Response.delete_auto_response_prefs();return}},5000)},clear_message_auto_response_timer:function(){clearTimeout(ClickDesk_Globals.auto_response_message_timer)}};var ClickDesk_Widget_Command_Util={call_inviting_message:'[Agent is inviting you to a call. Would you like to join the call?]<br/><br/><a style="margin-left: 0px!important;;background: #5877b7!important;;color: #ffffff!important;;border-radius: 5px!important;;padding:3px 5px!important;;font-size: 11px!important;display: inline-block;" onclick="clickdesk_process_visitor_action_on_agent_call_req(this,\'accepted\', \'%request_type%\');return false;">Accept</a> <a style="background: #da4f49!important;;color: #ffffff!important;;border-radius: 5px!important;;padding:3px 5px!important;;font-size: 11px!important;display: inline-block;" onclick="clickdesk_process_visitor_action_on_agent_call_req(this, \'declined\');">Decline</a>',cobrowse_message:"[Agent has sent you a link to open. Would you like to accept the request and open the page? Please note that the link will open a new window.]<br/><br/><a target='_blank' href='$target_loc' style=\"margin-left: 0px!important;;background: #5877b7!important;;color: #ffffff!important;;border-radius: 5px!important;;padding:3px 5px!important;;font-size: 11px!important;display: inline-block;\" onclick=\"clickdesk_co_browse_url(this, 'accept');\">Yes</a> <a style=\"background: #da4f49!important;;color: #ffffff!important;;border-radius: 5px!important;;padding:3px 5px!important;;font-size: 11px!important;display: inline-block;\" onclick=\"clickdesk_co_browse_url(this, 'declined');\">No</a>",execute_command:function(j){try{var c=j.message_type;var d=j.new_chat_message;if(c=="type_notification"){try{ClickDesk_Widget_Typing_Noty.handle_typing_events(j)}catch(g){}return true}else{if(c.indexOf("webrtc_accept")==0){var a=c.replace("webrtc_accept_","");ClickDesk_GA.trigger_event("agent_answered_"+a.toLowerCase(),ClickDesk_Globals.agent_nick_name);return true}else{if(c=="call_request"){var b=j.call_request_type;if(b=="capture"){if(ClickDesk_Window_Popout.is_window_in_popup()&&!ClickDesk_Mobile_Util.is_mobile_browser()){return true}Cd_Add_Wesite_Screenshot.render_canvas(Cd_Add_Wesite_Screenshot.send_attachment_to_agent,true);return true}b=(b.indexOf("video")!=-1)?"video":"audio";d=this.call_inviting_message.replace("%request_type%",b);b=(b=="audio")?"voice":"video";ClickDesk_GA.trigger_event("init_"+b+"_call",ClickDesk_Globals.agent_nick_name)}}}try{d=isNaN(d)?JSON.parse(d):d}catch(g){}if(d.toLowerCase().indexOf("/goto ")==0){var h=d.substring(d.indexOf(" "));var f=clickdesk_get_url_domain(h);if(f==h||!f){f=location.hostname}if(f.indexOf(location.hostname)==-1&&!ClickDesk_Mobile_Util.is_mobile_browser()){ClickDesk_Globals.co_browse_url=h;d=this.cobrowse_message.replace("$target_loc",ClickDesk_Globals.co_browse_url.trim())}else{if(ClickDesk_Mobile_Util.is_mobile_browser()||ClickDesk_Window_Popout.is_window_closed=="true"){ClickDesk_Globals.co_browse_url=h;d=this.cobrowse_message.replace("$target_loc",ClickDesk_Globals.co_browse_url.trim())}else{if(f.indexOf(location.hostname)!=-1&&!ClickDesk_Mobile_Util.is_third_party_app()&&!ClickDesk_Window_Popout.is_window_closed&&!ClickDesk_Window_Popout.is_window_in_popup()){window.location=h;return true}else{ClickDesk_Globals.co_browse_url=h;d=this.cobrowse_message.replace("$target_loc",ClickDesk_Globals.co_browse_url.trim())}}}}if(ClickDesk_Widget_Session.queued_session){ClickDesk_Widget_Session.queued_session=false;ClickDesk_DOM.wrap("#clickdesk_chat_session").removeClass("queued");CLICKDESK_CHAT_WINDOW_UI.toggle_file_uploader();ClickDesk_Shopify.get_current_cart_("force")}this.append_command_message(j,d);return true}catch(g){clickdesk_log(g)}},check_and_handle_webrtc_message:function(b){var a=b.new_chat_message;if(!a){return false}try{a=JSON.parse(a)}catch(c){clickdesk_log("from widget = "+c);a={}}if(!a||!a.type){return false}try{ClickDesk_Call.handle_message_signals(a)}catch(c){clickdesk_log(c)}return true},append_command_message:function(g,c){var d=g.from_agent;if(d){var a=ClickDesk_Globals.agent_nick_name;ClickDesk_Globals.agent_nick_name=(a)?a:(d.slice(0,1).toUpperCase()+d.slice(1))}else{d=ClickDesk_Globals.agent_nick_name}var b=(g.agent_pic)?g.agent_pic:"";if(b){clickdesk_save_agent_pic(g.from_agent,b)}ClickDesk_DOM.find_and_remove("clickdesk-agent-typing",g.agent_id);var c=(!c)?g.new_chat_message:c;try{c=isNaN(c)?JSON.parse(c):c}catch(f){}if(typeof c=="string"&&c.charAt(0)=="["){ClickDesk_Chat_Window_Util.append_message(c,"srvstaticmsg")}else{ClickDesk_Chat_Window_Util.append_message(c,d)}ClickDesk_Sounds.play_recv();ClickDesk_Title_Blinker.trigger(c,20);clickdesk_set_focus_to_message_box()}};var ClickDesk_Channel_Message_Listener={listen:function(g){if(!g){return false}if(ClickDesk_Widget_Command_Util.check_and_handle_webrtc_message(g)){return false}if(g.agent_pic){var c=(g.agent_pic)?g.agent_pic:"";clickdesk_save_agent_pic(g.from_agent,c)}var b=g.message_type;if(b=="channel_maintenance"||b=="channel_acknowledgment"){return}if(b=="accepted_chat_message"){ClickDesk_Queue_Chat_Manage.stopPoll();ClickDesk_DOM.find_and_remove("clickdesk_session","cd_remove");clearTimeout(ClickDesk_Globals.session_timeout_timer);ClickDesk_Message_Auto_Response.clear_message_auto_response_timer();var a=g.session_details;ClickDesk_Widget_Session.create_session_cookie(a.id,a.visitor_token);clickdesk_set_session_agent_info(g.agent_details);clickdesk_set_focus_to_message_box();ClickDesk_Widget_Pusher_Visitor.push_message("chat_session_initiated")}else{if(b=="new_chat_message"||b=="call_request"){try{if(ClickDesk_Widget_Command_Util.execute_command(g)){return}ClickDesk_Widget_Command_Util.append_command_message(g)}catch(f){}}else{if(b=="block_chat"){var d=g.block_ip;ClickDesk_Chat_Window_Util.append_message(clickdesk_replace_special_characters(ClickDesk_Globals.custom_messages.visitor_blocked),"srvstaticmsg");clickdesk_hide_call_option()}else{if(b=="session_closed"){clickdesk_log("Session Closed.");ClickDesk_Widget_Channel.close_socket();ClickDesk_Widget_Session.delete_session();ClickDesk_Proactive_Handler.is_session_exists=false;ClickDesk_Storage.erase_cookie(ClickDesk_Proactive_Handler.session_cookie)}else{if(ClickDesk_Widget_Command_Util.execute_command(g)){return false}else{if(g.status){ClickDesk_Widget_Session.handle_create_session_response(g)}else{ClickDesk_Chat_Window_Util.append_message(JSON.stringify(g))}}}}}}if(b!="session_closed"&&ClickDesk_Widget_Session.get_active_session()!=null){if(ClickDesk_Storage.get_prefs("window_popout")){CLICKDESK_CHAT_WINDOW_UI.toggle_file_uploader();return}ClickDesk_Window_Callback.auto_open()}},};var ClickDesk_Message_Util={send_chat:function(h,f,a,c){var d={};d.session_id=h;d.user_message=(typeof f=="object")?JSON.stringify(f):f;ClickDesk_JSONP_Tips.jsonp(CLICKDESK_SERVER_PATH+"/rest/visitor/chat/message",d,function g(j){clickdesk_log("success");clickdesk_log(j)},function b(j){clickdesk_log("error");clickdesk_log(j)},a)},send_message:function(message,name,chatType,date){var is_visitor_closed=ClickDesk_Storage.get_prefs(ClickDesk_Widget_Session.blocked);if(is_visitor_closed){ClickDesk_Chat_Window_Util.append_message(clickdesk_replace_special_characters(ClickDesk_Globals.custom_messages.visitor_blocked),"srvstaticmsg");return false}var sessionJSON=ClickDesk_Widget_Session.get_active_session();var sessionId;if(sessionJSON){sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id)}if(chatType=="web_rtc_request"&&sessionId){ClickDesk_Message_Util.send_chat(sessionId,message);return false}CLICKDESK_CHAT_WINDOW_UI.show_chat_box();var callback_id=ClickDesk_JSONP.__callbackId++;if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){ClickDesk_Chat_Window_Util.append_message(message,name,date,"callback"+callback_id)}else{ClickDesk_Chat_Window_Util.append_message(message,name,"clickdesk_request_sending","callback"+callback_id)}ClickDesk_Window_Popout.fire_send_message_event(message,name);ClickDesk_DOM.wrap("#broadcastchat")[0].value="";clickdesk_set_focus_to_message_box();ClickDesk_Sounds.play_send();if(sessionJSON==null){if(ClickDesk_Widget_Session.archived_messages.length>0){ClickDesk_Widget_Session.archived_messages.push({callback_id:callback_id,message:message});return false}ClickDesk_Widget_Session.archived_messages.push({callback_id:callback_id,message:message});ClickDesk_Widget_Session.initialize_session(message,chatType,callback_id,date);chatType=(!chatType)?((ClickDesk_Proactive_Handler.is_session_exists)?"proactive":"broadcast"):chatType;if(chatType=="proactive"){ClickDesk_GA.trigger_event("proactive_chats","-")}ClickDesk_Globals.session_timeout_timer=setTimeout("CLICKDESK_CHAT_WINDOW_UI.show_offline_window_link();",60000);return false}ClickDesk_DOM.find_and_remove("clickdesk_session","cd_remove");ClickDesk_Message_Util.send_chat(sessionId,message,callback_id,date)},submit_chat_form:function(){var a=ClickDesk_DOM.wrap("#broadcastchat");if(!ClickDesk_DOM.is_valid_element(a)){return false}var b=a[0].value.trim();if(b&&b!=ClickDesk_Globals.default_place_holders.broadcastchat){ClickDesk_Message_Util.send_message(b,ClickDesk_Globals.visitor_name)}return false},};ClickDesk_Postchat={show_window:function(sessionJSON){try{var prefs=widgetPrefsJSON;if(!(prefs.postchat_survey_form_prefs&&prefs.postchat_survey_form_prefs.show_postchat_survey_form=="true")){return false}try{prefs.postchat_survey_form_prefs.questions=JSON.parse(prefs.postchat_survey_form_prefs.questions)}catch(err){}prefs.sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);prefs.visitor_token=eval("sessionJSON."+ClickDesk_Widget_Session.visitor_token);document.body.appendChild(ClickDesk_Handlebars.get_template("clickdesk-postchat-survey",prefs));ClickDesk_DOM.set_style_by_id("ClickdeskPostchatSurveyForm",{display:"block"});try{document.body.className=document.body.className+" clickdesk-hide-overflow"}catch(e){}this.attach_events()}catch(err){clickdesk_log("show_postchat_window"+err)}},hide_window:function(){try{ClickDesk_Postchat.toggle_loading("none");ClickDesk_DOM.set_style_by_id("ClickdeskPostchatSurveyForm",{display:"none"});var a=document.body.className;document.body.className=(a.indexOf("clickdesk-hide-overflow")>=0)?a.replace("clickdesk-hide-overflow",""):a;var c=ClickDesk_DOM.wrap("#ClickdeskPostchatSurveyForm")[0];c.parentNode.removeChild(c);c=ClickDesk_DOM.wrap("#cd_postchat_bg_overlay")[0];c.parentNode.removeChild(c)}catch(b){clickdesk_log("removing_postchat_window : "+b)}},attach_events:function(){ClickDesk_DOM.attach_event("#cd_postchat_survey_submit","click",function(f){var a=clickdesk_validate_form("ClickdeskPostchatSurveyForm","cd_valid_postchat_form");if(!a){return false}ClickDesk_Postchat.toggle_loading("inline");var g=new Array();var h;var c={};var d=widgetPrefsJSON.postchat_survey_form_prefs.questions;for(var b=1;b<=d.length;b++){c={};c.question=ClickDesk_DOM.wrap("#cd_postchat_feedback_q"+b)[0].innerHTML;h=ClickDesk_DOM.wrap("[name='cd_postchat_feedback_"+b+"']");c.answers=ClickDesk_Postchat.get_values_array(h);c.index=b;g.push(c)}c={};c.visitor_token=ClickDesk_DOM.wrap("#cd_postchat_visitor_token")[0].value;c.session_id=ClickDesk_DOM.wrap("#cd_postchat_sessionid")[0].value;c.postchat_feedback=JSON.stringify(g);ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/session/postchat-survey-feedback",c,function(j){ClickDesk_Postchat.hide_window();ClickDesk_GA.trigger_event("survey_feedback","-")},true)})},get_values_array:function(b){var c=new Array();if(clickdesk_get_element_type_attr(b[0])=="textarea"||clickdesk_get_element_type_attr(b[0])=="text"){if(b[0].value){c.push(b[0].value)}}else{for(var a=0;a<b.length;a++){if(b[a].checked){c.push(b[a].value)}}}return c},toggle_loading:function(b){try{ClickDesk_DOM.wrap("#cd_postchat_loading")[0].src="https://my.clickdesk.com/clickdesk-ui/browser/img/file_upload.gif";ClickDesk_DOM.set_style_by_id("cd_postchat_loading",{display:b})}catch(a){}}};var previouseventType="";var ClickDesk_Widget_Typing_Noty={timer:"",clear_timer:function(){if(!this.timer){return}clearTimeout(this.timer)},reset_timer:function(b,a){this.clear_timer();this.timer=setTimeout(function(){if(b){b()}},a)},start_typing_notifier:function(){var a=ClickDesk_Globals.agent_json;if(a&&a.from_webchat!=true){return}var b=ClickDesk_DOM.wrap("#broadcastchat")[0].value;b=b.trim();clickdesk_log("message = "+b);var c="typing";if(!(b&&b!=ClickDesk_Globals.default_place_holders.broadcastchat)){c="leaved";b=""}ClickDesk_Widget_Typing_Noty.notify_agent_with_message(b,c);this.reset_timer(function(){ClickDesk_Widget_Typing_Noty.start_typing_notifier()},5000)},init_notifier:function(c){try{var a=ClickDesk_DOM.wrap(c)[0];a.onblur=function(){clickdesk_log("onblur");ClickDesk_Widget_Typing_Noty.notify_agent_with_message("","leaved");ClickDesk_Widget_Typing_Noty.clear_timer();clickdesk_set_default(a)};a.onfocus=function(){clickdesk_log("onfocus");ClickDesk_Widget_Typing_Noty.start_typing_notifier();clickdesk_check_default(a)}}catch(b){}},get_visitor_noty_session_id:function(){var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON||(eval("sessionJSON."+ClickDesk_Widget_Session.session_id)).indexOf("BD")==0){return false}return eval("sessionJSON."+ClickDesk_Widget_Session.session_id)},notify_agent_with_message:function(a,f){var c=ClickDesk_Widget_Typing_Noty.get_visitor_noty_session_id();if(!c){return}var b={};b.session_id=c;b.from="visitor";if(f){b.type=f}b.agent_id=ClickDesk_Globals.agent_id;b.message=a;var d=(!previouseventType||previouseventType!=f);if(!d){return}previouseventType=f;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/chat/type-notification/"+f,b,function(g){})},toggle_typing_noty:function(j,g){j=(!j)?"block":j;try{var d=g.agent_id,h=g.agent;var k=ClickDesk_DOM.wrap("#clickdesk_session")[0].lastChild;var f=(k&&k.className=="clickdesk-agent-typing")?true:false;if(f&&j=="block"){var a=ClickDesk_DOM.wrap("#clickdesk-agent-typing ."+d)[0];clickdesk_log("className = "+a.className);if(a.className){return false}}if(j!="block"&&f&&k.childNodes.length<2){ClickDesk_DOM.find_and_remove("clickdesk_session","clickdesk-agent-typing");return false}else{if(j!="block"){ClickDesk_DOM.find_and_remove("clickdesk-agent-typing",d);return false}}var c=(widgetPrefsJSON.system_message_prefs&&widgetPrefsJSON.system_message_prefs.TYPING_ALERT_MESSAGE)?widgetPrefsJSON.system_message_prefs.TYPING_ALERT_MESSAGE:"";var n=ClickDesk_Handlebars.get_template("clickdesk-agent-typing-entry-template",{agent_name:h,agent_id:d,message:c});var m=(f)?k:ClickDesk_DOM.create_element("div","clickdesk-agent-typing","clickdesk-agent-typing");m.appendChild(n);var b=ClickDesk_DOM.wrap("#clickdesk_session")[0];b.appendChild(m);b.scrollTop=b.scrollHeight}catch(l){}},filter_and_show_agent_typing:function(a){var b=a.session_id;var c=ClickDesk_Widget_Typing_Noty.get_visitor_noty_session_id();if(!b||!c||b!=c){return}ClickDesk_Widget_Typing_Noty.toggle_typing_noty("block",a)},handle_typing_events:function(b){var a=b.type;if(!a){return false}if(a&&a=="leaved"){return ClickDesk_Widget_Typing_Noty.toggle_typing_noty("none",b)}return ClickDesk_Widget_Typing_Noty.filter_and_show_agent_typing(b)}};function clickdesk_get_url_vars(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d}function clickdesk_convert_message_to_anchor(c){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;try{return c.replace(b,"<a href='$1' target='_blank' class='cd_hyperlink'>$1</a>")}catch(a){return c}}function clickdesk_get_url_domain(c){var b=document.createElement("a");b.href=c;return b.hostname}function clickdesk_replace_special_characters(a){if(!a){return a}return a.replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&#92;/g,"\\")}function clickdesk_set_focus_to_message_box(){try{document.broadcastchatForm.broadcastchat.focus()}catch(a){clickdesk_log(a)}}function clickdesk_replace_value_with_available_prefs(b){if(!b){return b}if(b.indexOf("%visitor_name%")!=-1){var a=ClickDesk_Storage.get_prefs("visitor_name");if(a){a=a.trim()}if(!a){b="me"}b=b.replace("%visitor_name%",a)}if(b.indexOf("%visitor_email%")!=-1){var a=ClickDesk_Storage.get_prefs("visitor_email");if(!a){b="email"}b=b.replace("%visitor_email%",a)}return b}var ClickDesk_Chat_Window_Util={append_message:function(k,v,g,n){k=this.replace_html_chars(k);v=clickdesk_replace_value_with_available_prefs(v);v=(!v)?" ":v.slice(0,1).toUpperCase()+v.slice(1);var a="",u="",o="";var d=ClickDesk_DOM.wrap("#clickdesk_session")[0].lastChild;if(d&&d.className=="clickdesk-agent-typing"){o=d;ClickDesk_DOM.find_and_remove("clickdesk_session","clickdesk-agent-typing");d=ClickDesk_DOM.wrap("#clickdesk_session")[0].lastChild}if(d){d=ClickDesk_DOM.find_inner_element(d,"cd_name");if(d){a=d.innerHTML}}a=a.replace(":","");var c=ClickDesk_Globals.agent_json;var f={};f.message=(typeof k=="object")?k:(k+"");f.from=v;f.agent_image=clickdesk_get_agent_pic(v);f.indicator="response";if(ClickDesk_Window_Popout.is_window_in_popup()){f.popout_window="true"}if(n&&n.indexOf("callback")!=0){f.warning="yes"}try{if(k.hide_upload){return}var b=k.file_url;if(b&&b.indexOf("-screenshot")!=-1){b="https://my.clickdesk.com/viewImage?src="+encodeURIComponent(k.file_url)}k.file_url=b}catch(r){}if(typeof k=="object"&&k.file_url){k.file_status="Received"}var q=ClickDesk_Globals.visitor_name;q=clickdesk_replace_value_with_available_prefs(q);if(q&&q.toLowerCase()==v.toLowerCase()){f.indicator="welcome";if(typeof k=="object"&&k.file_url){k.file_status="Sent"}}k=(typeof k=="object")?k:(k+"");var t=new Date();if(g&&g!="proactive"){t.setTime(((g<10000000000)?g*=1000:g))}var h="";if(g&&g=="clickdesk_request_sending"){f.show_sent_req="clickdesk_request_sending";if(n){f.callback_name=n}}f.date=t.getTime()/1000;var j="clickdesk-new-message-entry-template";var s=widgetPrefsJSON.template_prefs.template,l="webrtc_theme";if(a==v||v===undefined||v=="Srvstaticmsg"){j=(s!=l||v=="Srvstaticmsg")?"clickdesk-rewrite-entry-template":j}u=ClickDesk_Handlebars.get_template(j,f);u=u.childNodes[0];u.setAttribute("id","");ClickDesk_DOM.set_style_by_object(u,{display:"block"});if(v&&v=="Srvstaticmsg"){u.className=(u.className)?u.className+"_system"+((g&&g=="proactive")?"_"+g:""):u.className}if((a==v||v===undefined||v=="Srvstaticmsg")&&(s!=l)){if(v&&v=="Srvstaticmsg"){ClickDesk_DOM.wrap("#clickdesk_session")[0].appendChild(u)}else{ClickDesk_DOM.wrap("#clickdesk_session")[0].lastChild.appendChild(u)}}else{ClickDesk_DOM.wrap("#clickdesk_session")[0].appendChild(u)}if(o){ClickDesk_DOM.wrap("#clickdesk_session")[0].appendChild(o)}var m=ClickDesk_DOM.wrap("#clickdesk_session")[0];m.scrollTop=m.scrollHeight},replace_html_chars:function(b){try{return b.replace("/&amp;/g","&amp;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}catch(a){}return b}};var ClickDesk_Window_Callback={show:function(){ClickDesk_DOM.set_style_by_id("clickdesk_container",{display:"block"});clickdesk_hide_bubble();clickdesk_reset_forms();try{ClickDesk_Dragger.setWindowTopPosition();setTimeout(function(){ClickDesk_Dragger.setDraggerPosition()},1000)}catch(a){}},hide:function(){ClickDesk_DOM.set_style_by_id("clickdesk_container",{display:"none"});clickdesk_show_bubble();ClickDesk_Storage.delete_prefs("active_popup")},minimize:function(){this.hide();ClickDesk_DOM.wrap(".clickdesk_b").addClass("min")},auto_open:function(){ClickDesk_DOM.set_style_by_id("clickdesk_container",{display:"block"});CLICKDESK_CHAT_WINDOW_UI.show_chat_box();clickdesk_set_focus_to_message_box()},};var CLICKDESK_LIVECHAT={show:function(){ClickDesk_Proactive_Handler.remove_time_out();ClickDesk_Storage.set_prefs("active_popup","active");CD_Live_Chat.show()}};var CLICKDESK_POPOUT_WINDOW;var ClickDesk_Window_Popout={is_window_closed:false,window_popout:function(){var b=ClickDesk_Storage.get_prefs("window_popout");var c=(b&&b!=null&&b!="null")?"":"<div></div>";CLICKDESK_POPOUT_WINDOW=window.open("","ClickDesk_Popout_Window","width=340,height=480");CLICKDESK_POPOUT_WINDOW.focus();if(c){c="<!DOCTYPE html><html><head><title>Chat Popout Widget</title><link type='text/css' href='' />";c+=this.popout_css();c+="<script type='text/javascript'>var _glc = '"+JSON.stringify({id:ClickDesk_Widget_Util.widget_id,debug:true})+"'; var ClickDesk_Widget_Id = '"+ClickDesk_Widget_Util.widget_id+"'; var glcp = '"+glcp+"'; var glcpath = '"+glcpath+"'; var CLICKDESK_TEMPLATE_TYPE='"+ClickDesk_Widget_Util.get_user_template()+"'; var CLICKDESK_WIDGET_IS_IN_POPOUT= true,cd_PopIn=false;";var a=ClickDesk_Widget_Session.get_active_session();if(ClickDesk_Proactive_Handler.is_session_exists&&ClickDesk_Proactive_Handler.prefs&&!a){var d=clickdesk_get_proactive_action_message(ClickDesk_Proactive_Handler.prefs).replace(/'/g,"&#39;").replace(/%/g,"&#37;").replace(/"/g,"&#34;");c+="var proactiveJSON = '"+d+"';"}c+="var cd_visitor_typing_msg = '"+ClickDesk_DOM.wrap("#broadcastchat")[0].value+"';";c+="<\/script>";c+="<script type='text/javascript' src='"+glcpath+"min/js_all.js'><\/script></head><body>";CLICKDESK_POPOUT_WINDOW.document.write(c)}CD_Live_Chat.minimize();clickdesk_hide_bubble();ClickDesk_Storage.set_prefs("window_popout","true");ClickDesk_GA.trigger_event("popout_clicked","-")},window_popout_close:function(b){if(!ClickDesk_Window_Popout.is_window_in_popup()){ClickDesk_Storage.delete_prefs("window_popout")}ClickDesk_DOM.set_style_by_id("clickdesk_popout_container",{display:"inline-block!important;"});var a=ClickDesk_Widget_Session.get_active_session();if(b||!a){if(!a&&!b){ClickDesk_DOM.wrap("#clickdesk_session")[0].innerHTML="";ClickDesk_Proactive_Handler.is_session_exists=false;ClickDesk_Window_Callback.show();ClickDesk_Widget_Session.check_and_render_active_session();return}else{if(!a){ClickDesk_Window_Callback.show();return}}ClickDesk_Window_Callback.show();ClickDesk_Widget_Session.check_and_render_active_session()}else{CD_Live_Chat.close()}},check_window_popout_close:function(){ClickDesk_Window_Popout.is_window_closed=ClickDesk_Storage.get_prefs("window_popout");if(!ClickDesk_Window_Popout.is_window_closed){ClickDesk_DOM.set_style_by_id("clickdesk_popout_container",{display:"inline-block!important;"});return}if(ClickDesk_Window_Popout.is_window_closed=="true"){ClickDesk_DOM.set_style_by_id("clickdesk_popout_container",{display:"none!important;"});var a=ClickDesk_Storage.get_prefs("mssg_fired");if(!a){return}ClickDesk_Storage.delete_prefs("mssg_fired");ClickDesk_Chat_Window_Util.append_message(a,ClickDesk_Globals.visitor_name);return}if(ClickDesk_Window_Popout.is_window_closed=="pop_in"){this.window_popout_close("pop_in")}else{this.window_popout_close()}ClickDesk_Window_Popout.is_window_closed=false},popout_css:function(){var a="<style>html, body {height : 100%;}body {margin: 0px;background: #ffffff url('https://my.clickdesk.com/img/initializing-new.png') 50% 50% no-repeat;}#clickdesk_container #clickdeskchat_container{bottom: 0px;position: absolute !important;z-index: 2147483638;margin: 0px;left: 0px;right: 0px;height: 100%;width: 100%!important;overflow:auto!important;}#clickdesk_container #clickdeskchat_container #clickdesk_popup{width: 100% !important;position: relative !important;overflow-x: auto!important;height: 100%!important;max-width: 650px!important;min-width: 240px!important;margin: 0px auto !important;min-height:465px!important;right:0px !important; display: table!important;}#clickdesk_container #clickdesk_popup #clickdesk-chat-w-footer{max-width: 650px!important;min-width: 240px!important;width:100% !important;padding:0px !important;}.cd-form-sec, #clickdeskchat_social_template, #clickdesk_chat_session, #clickdesk_session {height: 100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;-moz-box-sizing:border-box !important;}.clickdesk-chat-w-footer{display: table-row!important;} #clickdesk_header {height: 60px!important;}.clickdesk-webrtc #clickdesk-chat-w-footer .clickdesk-tabs-container{float:left !important;padding:0px !important;min-width:0px !important;width:50%!important;background:transparent!important;}.clickdesk-webrtc .clickdesk-footer li a,.clickdesk-webrtc .clickdesk-footer li a.chat-box,.clickdesk-webrtc .clickdesk-footer li a.clickdesk-mail,.clickdesk-webrtc .clickdesk-footer li a.clickdesk-twitter,.clickdesk-webrtc .clickdesk-footer li a.clickdesk-facebook{width:12%!important;margin:0px !important;min-height:0px !important;min-width:0px !important;}.clickdesk-webrtc #clickdesk-chat-w-footer .clickdesk-footer{margin:0px !important}@media screen and (max-width: 350px) {#clickdesk_container select {width: 100% !important}} @media screen and (min-width: 401px) and (max-width: 450px) {#clickdesk_container select {width: 99% !important}}@media screen and (min-width: 451px) and (max-width: 500px) {#clickdesk_container select {width: 98% !important}}@media screen and (min-width: 501px) and (max-width: 600px) {#clickdesk_container select {width: 97.5% !important}}@media screen and (min-width: 601px) {#clickdesk_container select {width: 97.5% !important}}</style>";return a},is_window_in_popup:function(){try{return CLICKDESK_WIDGET_IS_IN_POPOUT}catch(a){}return},fire_send_message_event:function(b,a){try{ClickDesk_Window_Popout.is_window_closed=ClickDesk_Storage.get_prefs("window_popout");if(!ClickDesk_Window_Popout.is_window_closed){return}if(ClickDesk_Mobile_Util.is_mobile_browser()){return}if(ClickDesk_Window_Popout.is_window_in_popup()){ClickDesk_Storage.set_prefs("mssg_fired",b)}else{ClickDesk_Storage.set_prefs("mssg_fired_pw",b)}}catch(c){}},check_window_popout_mssg:function(){var a=ClickDesk_Storage.get_prefs("mssg_fired_pw");if(!a){return}ClickDesk_Storage.delete_prefs("mssg_fired_pw");ClickDesk_Chat_Window_Util.append_message(a,ClickDesk_Globals.visitor_name);return},update_popout_options:function(){if(!this.is_window_in_popup()){return}try{window.onbeforeunload=function(){var b="false";if(cd_PopIn){b="pop_in"}try{window.opener.ClickDesk_Storage.set_prefs("window_popout",b)}catch(c){ClickDesk_Storage.set_prefs("window_popout",b)}};_glc={id:ClickDesk_Widget_Util.widget_id,version:"1.0"};if(typeof proactiveJSON!=="undefined"){proactiveJSON=ClickDesk_Prefs_Util.decode_json(proactiveJSON)}}catch(a){}},};(function(){if(ClickDesk_Window_Popout.is_window_in_popup()){setInterval("ClickDesk_Window_Popout.check_window_popout_mssg();",100);return}setInterval("ClickDesk_Window_Popout.check_window_popout_close();",1300)})();function clickdesk_check_proactive_conditions(c){if(!c){return}var f=c.conditions;if(!f||f.length<=0){return true}var b=c.join_condition;for(var d=0;d<f.length;d++){var a=clickdesk_check_proactive_each_condition(f[d],c);if(f.length==1){return a}else{if(!a&&b=="and"){return false}}if(a&&b=="or"){return true}}return true}function clickdesk_check_proactive_each_condition(d,j){var a=d.action_type;var f=d.action_data;if(!f||!f.action_condition){return false}var g=f.action_condition;var h=f.action_value;var k=false;switch(a){case"reply_by_agent":k=clickdesk_check_agent_replied_condition(j,g,h);break;case"hour_of_day":k=clickdesk_is_valid_proactive_condition(g,new Date().getHours(),h);break;case"day_of_week":k=clickdesk_is_valid_proactive_condition(g,new Date().getDay(),h);break;case"visitor_geo":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Visitor_Info.getGeoPrefs("country_code").toLowerCase(),(h?h.toLowerCase():h));break;case"time_on_site":var c=new Date().getTime()-(ClickDesk_Proactive_Rule_Conditions.get_website_time_stamps());k=clickdesk_is_valid_proactive_condition(g,(c/1000),h);break;case"page_visits":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Proactive_Rule_Conditions.get_page_visits("page"),h);break;case"visitor_previous_visits":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Proactive_Rule_Conditions.get_history_page_visits("website"),h);break;case"visitor_previous_chats":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Proactive_Rule_Conditions.previous_chats_count,h);break;case"page_url":k=clickdesk_is_valid_proactive_condition(g,window.location.href,h);break;case"page_title":k=clickdesk_is_valid_proactive_condition(g,document.title,h);break;case"referer_url":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Visitor_Info.get_referrer_link(),h);break;case"visitor_name":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Storage.get_prefs("visitor_name"),h);break;case"visitor_email":k=clickdesk_is_valid_proactive_condition(g,ClickDesk_Storage.get_prefs("visitor_email"),h);break;case"visitor_browser":k=clickdesk_is_valid_proactive_condition(g,BrowserDetect.browser,h);break;case"visitor_os":k=clickdesk_is_valid_proactive_condition(g,BrowserDetect.OS.toLowerCase(),(h?h.toLowerCase():h));break;case"custom_variable":var b=f.custom_variable_name;k=clickdesk_is_valid_proactive_condition(g,ClickDesk_JS_Plugin.evaluate_variable(b),(h?h.toLowerCase():h));break}return k}function clickdesk_is_valid_proactive_condition(d,b,c){var a=false;b=clickdesk_proactive_lowercase_value(b);c=clickdesk_proactive_lowercase_value(c);if(d=="all"||c=="all"||b=="unknown"){return true}switch(d){case"neq":a=(b!=c);break;case"eq":a=((b=="mozilla"||b=="firefox")&&(c=="mozilla"||c=="firefox"))?true:(b==c);break;case"contains":a=(b.indexOf(c)>-1);break;case"not_contains":a=(b.indexOf(c)==-1);break;case"lt":a=(b<c);break;case"gt":a=(b>c);break;case"regex":a=(ClickDesk_Proactive_Rule_Conditions.match_urls(b,c));break}return a}function clickdesk_proactive_lowercase_value(a){try{a=a.toLowerCase()}catch(b){}return a}function clickdesk_check_agent_replied_condition(d,f,g){var c=true;var b=ClickDesk_Widget_Session.get_active_session();if(!b||(b&&b.session_id.indexOf("BD")!=0)){c=false}var a=clickdesk_get_auto_response_cookie_val();if((new Date().getTime()-a)<(g*1000)){c=false}return c}function clickdesk_get_auto_response_cookie_val(){var a="auto_response_ck";var b=ClickDesk_Storage.get_prefs(a);if(!b){b=new Date().getTime();ClickDesk_Storage.set_prefs(a,b)}return b}function clickdesk_remove_auto_response_cookie_val(){ClickDesk_Storage.delete_prefs("auto_response_ck")}var ClickDesk_Proactive_Rule_Conditions={visit_count_pref_name:"visit_count",website_time:"site_visit_time",history_visit_count_pref_name:"history_visit_count",previous_chats_count:0,returning_visitor_type:"clickdesk_returning_visitor",frequency:function(b){if(!b){return false}var d=b.frequency;if(!d||d=="everytime"){return true}var f=b.id;var c=f+d+ClickDesk_Storage.get_prefs(f+this.returning_visitor_type);var a=ClickDesk_Storage.get_prefs(c);if(!a){if(d=="once_per_day"){ClickDesk_Storage.set_prefs(c,"true",1)}else{ClickDesk_Storage.create_cookie(c,"true")}}return(a==null)},is_referer_domain_same:function(){try{if(new URL(document.location.href).hostname=="localhost"){return true}return new URL(document.location.href).hostname==new URL(document.referrer).hostname}catch(a){return false}},match_urls:function(b,c,d){b=clickdesk_proactive_lowercase_value(b);c=clickdesk_proactive_lowercase_value(c);if(!b||!c||b=="all"||c=="all"){return true}b=b.replace(/\?/g,"/");c=c.replace(/\?/g,"/");b=b.replace(/\/$/,"");c=c.replace(/\/$/,"");if(c.indexOf("*")==-1){if(d){return(b.indexOf(c)!=-1)}return(b==c)}var a=c.replace(/\*/g,"<");a=a.replace(/</g,"[a-zA-Z0-9\\-\\:\\%\\?\\&\\=_./#]*");return !(b.match(a)==null)},get_visit_count_cookie_prefs:function(){var a=ClickDesk_Storage.get_prefs(this.visit_count_pref_name);a=(!a)?{}:a;try{a=JSON.parse(a)}catch(b){}return a},sort_and_update_visit_count:function(c){var b=this.get_visit_count_cookie_prefs();b=this.update_prefs(b,c);ClickDesk_Storage.create_cookie(this.visit_count_pref_name,JSON.stringify(b));var a=this.get_history_visit_prefs();a=this.update_prefs(a,c);ClickDesk_Storage.get_prefs(this.history_visit_count_pref_name,JSON.stringify(a))},update_prefs:function(a,c){for(key in c){var d=0;if(a[key]){d=a[key]}a[key]=d+1}var b=0;if(a.website_count){b=a.website_count}a.website_count=b+1;return a},get_page_visits:function(d){var c=this.get_visit_count_cookie_prefs();if(d=="website"){return c.website_count}var a=window.location.href.split("?")[0];for(var b in c){if(clickdesk_is_valid_proactive_condition("regex",a,b)){return c[b]}}return 1},set_website_time_stamps:function(){var a=ClickDesk_Storage.get_prefs(this.website_time);if(!a){ClickDesk_Storage.create_cookie(this.website_time,new Date().getTime());return}else{if(!this.is_referer_domain_same()){ClickDesk_Storage.create_cookie(this.website_time,new Date().getTime())}}},get_website_time_stamps:function(){var a=ClickDesk_Storage.get_prefs(this.website_time);if(!a){a=new Date().getTime()}return a},get_history_page_visits:function(d){var c=this.get_history_visit_prefs();if(d=="website"){return c.website_count}var a=window.location.href.split("?")[0];for(var b in c){if(clickdesk_is_valid_proactive_condition("regex",a,b)){return c[b]}}return 1},get_history_visit_prefs:function(){var a=ClickDesk_Storage.get_prefs(this.visit_count_pref_name);a=(!a)?{}:a;try{a=JSON.parse(a)}catch(b){}return a},get_visitor_previous_chats:function(c,a){if(!a||this.previous_chats_count>0){return c(0)}var b={};b.email_id=a;b.widget_id=ClickDesk_Widget_Util.widget_id;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/proactive/chats-count",b,function(d){return c(d)})},filter_rules_on_page_url:function(a){var q=[];for(var l=0;l<a.length;l++){var r=a[l];var s=r.conditions;for(var h=0;h<s.length;h++){var d=s[h];if(d.action_type!="page_url"){continue}try{var c=d.action_data.action_value;if(!c||!ClickDesk_Proactive_Rule_Conditions.match_urls(window.location.href,c)){continue}var u={};u.id=r.id;u.created_time=r.created_time;u.url_regex=c;q.push(u)}catch(o){clickdesk_log(o)}}}q=this.sort_by_key(q,"url_regex");var n={};for(var g=0;g<q.length;g++){var m=q[g];n[m.id]="1"}var b=[];for(var t in n){var f=this.get_proactive_rule_from_id(a,t);if(!f){continue}b.push(f)}for(var g=0;g<a.length;g++){if(n[a[g].id]){continue}b.push(a[g])}return b},get_proactive_rule_from_id:function(b,c){for(var a=0;a<b.length;a++){if(b[a].id==c){return b[a]}}return null},sort_by_key:function(b,a){return b.sort(function(f,d){var c=f[a];var g=d[a];if(a=="url_regex"){return((c==g)?(f.created_time<d.created_time?1:0):(((c.length<g.length)?1:0)))}})}};var ClickDesk_Proactive_Handler={session_cookie:"proactive_session_cookie",visitor_details_cookie:"proactive_visitor_winow",rules_cookie:"proactive_rules_cookie",rules_session_cookie:"proactive_rules_session_cookie",is_session_exists:false,prefs:"",session_time_out:"",agent_reply_timer:"",set_cookie_prefs:false,req_for_prefs:false,triggers_cookie:"chat_triggers_cookie",show_message:function(b,a,c){if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){return}try{b=JSON.parse(b)}catch(f){}var d=ClickDesk_Widget_Session.get_active_session();if(!b||b==null||(d&&d.session_id.indexOf("BD")!=0)){return false}clickdesk_log("I am out");if(!a){a=clickdesk_get_proactive_action_message(b)}if(!a){return false}a=clickdesk_replace_special_characters(a);CLICKDESK_CHAT_WINDOW_UI.show_chat_box();ClickDesk_Chat_Window_Util.append_message(unescape(a),"srvstaticmsg","proactive");ClickDesk_GA.trigger_event("proactive_triggered",((widgetPrefsJSON.status=="online")?"Online":"Offline"));ClickDesk_Sounds.play_send(b.sound_url);ClickDesk_Proactive_Handler.is_session_exists=true;ClickDesk_Proactive_Handler.prefs=b},remove_time_out:function(){clearTimeout(ClickDesk_Proactive_Handler.session_time_out)},set_agent_reply_timer:function(b,a){ClickDesk_Proactive_Handler.agent_reply_timer=setTimeout(function(c){},a*1000)},remove_agent_reply_timer:function(){clearTimeout(ClickDesk_Proactive_Handler.agent_reply_timer)},initialize_window:function(a){try{var c=ClickDesk_Widget_Session.get_active_session();if(c){return}ClickDesk_Proactive_Rule_Conditions.get_visitor_previous_chats(function(d){ClickDesk_Proactive_Rule_Conditions.previous_chats_count=d;ClickDesk_Proactive_Handler.get_message(function(f){console.log("proactiveJSON = "+f);clickdesk_execute_trigger_on_action(f)},a)},ClickDesk_Storage.get_prefs("visitor_email"))}catch(b){clickdesk_log("exception while executing proactive rules: "+b.description)}},get_message:function(f,d){var a=ClickDesk_Storage.get_prefs(ClickDesk_Proactive_Handler.triggers_cookie);var c=widgetPrefsJSON.proactive_rules_updated;if(a&&a!=null&&!c){return f(ClickDesk_Proactive_Handler.satisfied_rule(a,d))}if(c&&ClickDesk_Proactive_Handler.req_for_prefs){return f(ClickDesk_Proactive_Handler.satisfied_rule(a,d))}ClickDesk_Proactive_Handler.req_for_prefs=true;var b={};b.widget_id=ClickDesk_Widget_Util.widget_id;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/proactive",b,function(h){clickdesk_log(h.length);var g=CLICKDESK_CHAT_WINDOW_UI.stringify(h);ClickDesk_Storage.set_prefs(ClickDesk_Proactive_Handler.triggers_cookie,g);return f(ClickDesk_Proactive_Handler.satisfied_rule(g,d))})},satisfied_rule:function(a,c){if(!a||a==null){return null}if(typeof a==="string"){a=JSON.parse(a)}try{a=JSON.parse(a)}catch(f){}if(c=="start"&&!ClickDesk_Proactive_Handler.set_cookie_prefs){ClickDesk_Proactive_Handler.set_cookie_prefs=true;ClickDesk_Proactive_Rule_Conditions.set_website_time_stamps();var g=clickdesk_same_domain_urls_json(a);ClickDesk_Proactive_Rule_Conditions.sort_and_update_visit_count(g)}a=clickdesk_get_action_based_rules(a,c);if(!a||a.length<=0){return}a=ClickDesk_Proactive_Rule_Conditions.filter_rules_on_page_url(a);for(var b=0;b<a.length;b++){var d=a[b];if(clickdesk_check_proactive_conditions(d)&&ClickDesk_Proactive_Rule_Conditions.frequency(d)){clickdesk_log("satisfied"+d);return d}}return null},show_proactive_visitor_details_window:function(f){var b=widgetPrefsJSON.online_form_prefs;if(b&&b.show_proactive_visitor_info_form&&b.show_proactive_visitor_info_form!="true"){return}var a=ClickDesk_Widget_Session.get_active_session();if(f&&f=="chat_box"&&!a){return}if(!(ClickDesk_Storage.get_prefs(ClickDesk_Proactive_Handler.session_cookie))){return false}if(ClickDesk_Storage.get_prefs(ClickDesk_Proactive_Handler.visitor_details_cookie)){return false}clickdesk_cd_fill_form_fields_with_cookie_values("clickdesk_proactive_visitor_details_window");if(clickdesk_is_all_fields_has_value("clickdesk_proactive_visitor_details_window")){return false}if(ClickDesk_Custom_CSS.is_customization_enabled_in_popup()){try{ClickDesk_DOM.wrap("#clickdesk_proactive_visitor_details_window")[0].innerHTML=convert_string_to_html(CD_Live_Chat.get_custom_prefs().cd_custom_widget_template).getElementById("clickdesk_proactive_visitor_details_window").innerHTML;clickdesk_initialize_proactive_form_events()}catch(d){}}if(clickdesk_is_any_field_required("clickdesk_proactive_visitor_details_window")){try{ClickDesk_DOM.set_style_by_id("cd_proactive_visitor_info_cancel",{display:"none !important"})}catch(d){}}try{ClickDesk_DOM.set_style_by_id("clickdesk_proactive_visitor_details_window",{display:"block"});ClickDesk_DOM.wrap("#cd_proactive_visitor_name")[0].focus()}catch(c){}},hide_proactive_visitor_details_window:function(){ClickDesk_DOM.set_style_by_id("clickdesk_proactive_visitor_details_window",{display:"none"})},is_visitor_details_window_open:function(){try{return(ClickDesk_DOM.wrap("#clickdesk_proactive_visitor_details_window")[0].style.display!="none")}catch(a){}return false}};function clickdesk_execute_trigger_on_action(a){if(!a){return false}if(widgetPrefsJSON.status=="offline"&&a.show_offline=="false"){return false}clickdesk_execute_proactive_triggers(a)}function clickdesk_get_proactive_action_message(d){try{d=JSON.parse(d)}catch(c){}if(!d.triggers&&d.message){return d.message}var b=d.triggers;if(!b){return}for(var a=0;a<b.length;a++){if(b[a].action_type=="message"){return b[a].action_data.message}}}function clickdesk_get_action_based_rules(b,a){if(!b){return}if(a=="start"){a="when_widget_loaded"}else{if(a=="open"){a="clicking_on_bubble"}else{if(a=="message"){a="when_chat_initiated"}}}var f=new Array();for(var c=0;c<b.length;c++){var d=b[c];if(d.run_trigger==a){f.push(d)}}return f}function clickdesk_same_domain_urls_json(a){var l={};for(var d=0;d<a.length;d++){var g=a[d];var h=g.conditions;if(!h||h.length==0){continue}for(var c=0;c<h.length;c++){if(h[c].action_type!="page_url"){continue}var f=h[c].action_data;if(!f){continue}var k=f.action_condition;if(k=="neq"||k=="not_contains"){continue}var b=window.location.href.split("?")[0];if(clickdesk_is_valid_proactive_condition(k,window.location.href,f.action_value)){l[f.action_value]="yes"}}}return l}function clickdesk_execute_proactive_triggers(d){var b=d.triggers;if(!b||b.length<=0){return true}for(var a=0;a<b.length;a++){var f=b[a].action_type;var c=b[a].action_data;if(f=="hide_chat"){setTimeout(function(){ClickDesk_Window_Callback.hide();clickdesk_hide_bubble()},100);return}else{if(f=="expand_chat"){CLICKDESK_LIVECHAT.show()}else{if(f=="message"){if(!c){return}clickdesk_fire_trigger_when(d.run_trigger,c,function(g){ClickDesk_Proactive_Handler.show_message(JSON.stringify(d),g.message,d.sound_url)})}}}}}function clickdesk_fire_trigger_when(c,b,f){var d=b.trigger_condition;if(d=="immediately"){setTimeout(function(){f(b)},10);return}var a=b.trigger_delay;a=(!a)?0:a;if(c=="when_widget_loaded"){ClickDesk_Proactive_Handler.session_time_out=setTimeout(function(){f(b)},(parseInt(a)*1000))}else{setTimeout(function(){f(b)},(parseInt(a)*1000))}}function clickdesk_refresh_clickdesk_window(c){if(!c){return false}var b=ClickDesk_Storage.get_prefs(ClickDesk_Widget_Channel.channel_id);if((b!=null&&!ClickDesk_Widget_Channel.widget_socket)||ClickDesk_Widget_Channel.is_channel_closed){clickdesk_log("clickdesk_establish_channel");ClickDesk_Widget_Channel.create_socket(b)}if(ClickDesk_Widget_Channel.is_channel_service_restricted_user()){var a=ClickDesk_Storage.get_prefs(ClickDesk_Widget_Pusher_Visitor.pusher_channel_token);Clickdesk_Client_Connection_Ping_Pong.is_socket_instance=false;ClickDesk_Widget_Pusher_Visitor.channal_subscribe(a)}CLICKDESK_CHAT_WINDOW_UI.show_chat_box();clickdesk_toggle_loading_icon("show");ClickDesk_Queue_Chat_Manage.validateSession(c.trim())}function clickdesk_get_server_session_status(a,b){ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/session/validate",a,function(f){ClickDesk_Queue_Chat_Manage.stopPoll();clickdesk_toggle_loading_icon("hide");if(f.status!="success"){clickdesk_log("Deleting old session values");ClickDesk_DOM.wrap("#clickdesk_session")[0].innerHTML="";ClickDesk_Storage.delete_prefs(ClickDesk_Widget_Session.active_session);ClickDesk_Storage.delete_prefs(ClickDesk_Widget_Channel.channel_id);CLICKDESK_CHAT_WINDOW_UI.show_prechat_window();return false}clickdesk_log("Session valid at server");ClickDesk_Widget_Pusher_Visitor.push_message("chat_session_initiated");var h=f.response.agent;clickdesk_set_session_agent_info(h,"refresh");clickdesk_render_session_window(f.response.archive);ClickDesk_Proactive_Handler.show_proactive_visitor_details_window();ClickDesk_Message_Auto_Response.initilaize_message_auto_response_timer();var c=f.response.session_status;if(!c||c!="queued"){return}ClickDesk_Queue_Chat_Manage.startPoll();ClickDesk_Widget_Session.queued_session=true;ClickDesk_DOM.wrap("#clickdesk_chat_session").addClass("queued");var g=f.response.queue_message;g=(!g)?ClickDesk_Globals.custom_messages.session_queued_message:g;ClickDesk_Chat_Window_Util.append_message(g,"srvstaticmsg");var d=(widgetPrefsJSON.system_message_prefs&&widgetPrefsJSON.system_message_prefs.QUEUED_OFFLINE_MESSAGE_LABEL)?widgetPrefsJSON.system_message_prefs.QUEUED_OFFLINE_MESSAGE_LABEL:ClickDesk_Globals.custom_messages_new.queued_offline_message_label;CLICKDESK_CHAT_WINDOW_UI.show_offline_window_link(d);setTimeout(function(){ClickDesk_DOM.wrap("#clickdesk_session")[0].scrollTop=ClickDesk_DOM.wrap("#clickdesk_session")[0].scrollHeight},500)})}function clickdesk_render_session_window(j){if(!j){return false}clickdesk_log(j);var b="";try{if(cd_visitor_typing_msg){b=cd_visitor_typing_msg}}catch(d){}ClickDesk_DOM.wrap("#broadcastchat")[0].value=b;for(var a=0;a<j.length;a++){var f=j[a];if(!f.message){continue}var c=f.from;var h=f.message;try{h=isNaN(h)?JSON.parse(h):h}catch(g){}if(c=="visitor"){c=ClickDesk_Globals.visitor_name}else{if(c=="agent"){c=ClickDesk_Globals.agent_nick_name}}ClickDesk_Chat_Window_Util.append_message(h,c,f.epoch_time)}CLICKDESK_CHAT_WINDOW_UI.agilethemevent()}function clickdesk_toggle_loading_icon(a){switch(a){case"show":var b=ClickDesk_DOM.wrap("#clickdesk_session")[0];b.innerHTML='<img src="'+ClickDesk_Globals.img_cloud_path+'/images/archiveLoad.gif"  style="position:absolute;top:35%;left:38%;display:block;" />';break;case"hide":var b=ClickDesk_DOM.wrap("#clickdesk_session")[0];b.innerHTML="";break}}var ClickDesk_Queue_Chat_Manage={isQueuedChat:false,defaultTime:60000,timer:null,getSessionId:function(){var sessionJSON=ClickDesk_Widget_Session.get_active_session();return eval("sessionJSON."+ClickDesk_Widget_Session.session_id)},isSessionInQueue:function(){var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON){return false}var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);if(!sessionId||sessionId.indexOf("BD")!=0){return false}return true},startPoll:function(a){this.isQueuedChat=true;if(!a){a=this.defaultTime}this.timer=setTimeout(function(){if(!ClickDesk_Queue_Chat_Manage.isQueuedChat){return}if(!ClickDesk_Queue_Chat_Manage.isSessionInQueue()){ClickDesk_Queue_Chat_Manage.stopPoll();return}var b=ClickDesk_Queue_Chat_Manage.getSessionId();ClickDesk_Queue_Chat_Manage.validateSession(b)},a)},stopPoll:function(){try{clearTimeout(this.timer);this.timer=null}catch(a){}this.isQueuedChat=false},validateSession:function(b){var a={};a.session_id=b.trim();a.visitor_url=window.location.href;clickdesk_get_server_session_status(a)}};var ClickDesk_Widget_Session={active_session:"active_session",session_id:"session_id",visitor_token:"visitor_token",sent_session_request_count:0,blocked:"block_chat",blocked_period:30,history:"archive_session_id",history_period:30,queued_session:false,archived_messages:new Array(),get_active_session:function(){var a=ClickDesk_Storage.get_prefs(ClickDesk_Widget_Session.active_session);if(a){return JSON.parse(a)}return null},check_and_render_active_session:function(){clickdesk_log("Checking session");var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(sessionJSON){var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);clickdesk_log(sessionId);if(!sessionId){return CLICKDESK_CHAT_WINDOW_UI.show_prechat_window()}return clickdesk_refresh_clickdesk_window(sessionId)}if(widgetPrefsJSON.status=="offline"){CLICKDESK_CHAT_WINDOW_UI.show_offline_window()}else{CLICKDESK_CHAT_WINDOW_UI.show_prechat_window()}return false},initialize_session:function(b,a,c){try{ClickDesk_DOM.set_style_by_id("clickdesk_close",{pointerEvents:"all"});ClickDesk_DOM.set_style_by_id("clickdesk_popout",{pointerEvents:"all"})}catch(d){}ClickDesk_Widget_Channel.get_channel_token(function(h){var j=clickdesk_serialize_form_data("ClickdeskprechatForm");if(ClickDesk_Proactive_Handler.is_session_exists){j.proactive_chat="proactive";ClickDesk_Storage.set_prefs(ClickDesk_Proactive_Handler.session_cookie,"proactive_session");ClickDesk_Proactive_Handler.show_proactive_visitor_details_window()}if(ClickDesk_Proactive_Handler.is_session_exists&&(!a||ClickDesk_Proactive_Handler.prefs)){j.user_proactive_message=clickdesk_get_proactive_action_message(ClickDesk_Proactive_Handler.prefs)}j.visitor_token=h;j.user_message=b;j.visitor_info=ClickDesk_Visitor_Info.get_visitor_info();if(ClickDesk_Globals.forced_chat_agent_id){j.forced_chat_agent_id=ClickDesk_Globals.forced_chat_agent_id}j.widget_id=CLICKDESK_CHAT_WINDOW_UI.get_user_seleted_department("prechat");var l=clickdesk_serialize_form_fields("ClickdeskprechatForm");j.prechat_fields=CLICKDESK_CHAT_WINDOW_UI.stringify(l);var f=ClickDesk_Widget_Session.get_active_session();if(f){return}var k=ClickDesk_Widget_Session.sent_session_request_count;if(!k){ClickDesk_Widget_Session.sent_session_request_count++}else{j.duplicate_request="true"}try{if(ClickDesk_Global_Users.HTC_customers.indexOf(widgetPrefsJSON.userid)!=-1){j.prechat_fields=""}}catch(m){}ClickDesk_JSONP_Tips.jsonp(CLICKDESK_SERVER_PATH+"/rest/visitor/chat/startbroadcast",j,function n(o){ClickDesk_Widget_Session.handle_create_session_response(o)},function g(o){clickdesk_log("error");clickdesk_log(o)},c)})},handle_create_session_response:function(c){clickdesk_log(c);try{ClickDesk_DOM.set_style_by_id("clickdesk_close",{pointerEvents:"all"});ClickDesk_DOM.set_style_by_id("clickdesk_popout",{pointerEvents:"all"})}catch(f){}if(c.response){clickdesk_set_focus_to_message_box();clearTimeout(ClickDesk_Globals.session_timeout_timer)}if(!c.status){return false}if(c.status=="success"||c.status=="queued"){var b=c.response.broadcast_id;ClickDesk_Widget_Session.create_session_cookie(b,ClickDesk_Widget_Channel.visitor_token);ClickDesk_Widget_Session.send_archived_messages();if(c.status=="queued"){ClickDesk_Queue_Chat_Manage.startPoll();ClickDesk_Widget_Session.queued_session=true;var a=(widgetPrefsJSON.system_message_prefs&&widgetPrefsJSON.system_message_prefs.QUEUED_OFFLINE_MESSAGE_LABEL)?widgetPrefsJSON.system_message_prefs.QUEUED_OFFLINE_MESSAGE_LABEL:ClickDesk_Globals.custom_messages_new.queued_offline_message_label;ClickDesk_Chat_Window_Util.append_message(c.response.message,"srvstaticmsg");CLICKDESK_CHAT_WINDOW_UI.show_offline_window_link(a);ClickDesk_DOM.wrap("#clickdesk_chat_session").addClass("queued");ClickDesk_GA.trigger_event("queued_chat","-")}else{ClickDesk_Message_Auto_Response.set_auto_response_prefs();CLICKDESK_CHAT_WINDOW_UI.toggle_file_uploader();ClickDesk_Shopify.get_current_cart_("force")}return false}var d=c.errormssg;if(d=="agents_not_available"){ClickDesk_Globals.offline_prechat_session_id=c.session_id;clearTimeout(ClickDesk_Globals.session_timeout_timer);setTimeout("CLICKDESK_CHAT_WINDOW_UI.show_offline_window_link();",15000);if(c.message){ClickDesk_Chat_Window_Util.append_message(c.message,"srvstaticmsg")}}else{ClickDesk_Chat_Window_Util.append_message(d,"srvstaticmsg")}ClickDesk_DOM.wrap("#broadcastchat")[0].setAttribute("disabled",true);ClickDesk_Widget_Channel.close_socket()},add_client_id:function(){var a={};a.visitor_token=ClickDesk_Widget_Channel.visitor_token;a.user_message=message;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/channel/add-clientid",a,function(b){clickdesk_log(b)})},create_session_cookie:function(d,b){var c={};c.session_id=d;c.visitor_token=b;ClickDesk_Storage.set_prefs(ClickDesk_Widget_Session.active_session,JSON.stringify(c));if(d.indexOf("BD")==0){return}var a=ClickDesk_Storage.get_prefs(ClickDesk_Widget_Session.archived_messages);if(!a||a.split(",").length>=40){a=d}else{a+=(", "+d)}ClickDesk_Storage.set_prefs(ClickDesk_Widget_Session.history,a,ClickDesk_Widget_Session.history_period)},delete_session:function(c){if(c){this.close_chat()}var a=ClickDesk_Widget_Session.get_active_session();if(a){ClickDesk_Widget_Pusher_Visitor.push_message("chat_session_closed");ClickDesk_Postchat.show_window(a);ClickDesk_Globals.forced_chat_agent_id=null;ClickDesk_Globals.forced_chat_messages=[]}try{ClickDesk_DOM.wrap(".clickdesk_b").removeClass("min")}catch(b){}try{clickdesk_set_agent_name_and_image(ClickDesk_Globals.window_title,ClickDesk_Globals.company_logo);clickdesk_show_browser_phone_option()}catch(b){}ClickDesk_Storage.delete_prefs(ClickDesk_Widget_Session.active_session);ClickDesk_Storage.delete_prefs(ClickDesk_Widget_Channel.channel_id);ClickDesk_Storage.delete_prefs(ClickDesk_Rating.user_session_rating);ClickDesk_Storage.erase_cookie(ClickDesk_Proactive_Handler.visitor_details_cookie);ClickDesk_Storage.delete_prefs(ClickDesk_Proactive_Handler.session_cookie);ClickDesk_Storage.delete_prefs("active_popup");ClickDesk_Storage.delete_prefs("cd_agent_pics");ClickDesk_Widget_Session.archived_messages=new Array();ClickDesk_Rating.set_ui(0);clearTimeout(ClickDesk_Globals.session_timeout_timer);ClickDesk_DOM.find_and_remove("clickdesk_session","clickdesk-agent-typing");CLICKDESK_CHAT_WINDOW_UI.toggle_file_uploader();clickdesk_reset_form_select();ClickDesk_Globals.agent_id=null,ClickDesk_Globals.agent_json=null,ClickDesk_Globals.is_call_req_for_audio=null;ClickDesk_Widget_Session.sent_session_request_count=0;ClickDesk_Queue_Chat_Manage.stopPoll();ClickDesk_Call.hide_error();if(ClickDesk_Call.call_window){ClickDesk_Call.call_window.close()}},close_chat:function(){var b={};if(ClickDesk_Globals.offline_prechat_session_id){b.visitor_token=ClickDesk_Globals.offline_prechat_session_id;ClickDesk_Globals.offline_prechat_session_id=""}else{var a=ClickDesk_Widget_Session.get_active_session();if(!a){return false}b.visitor_token=a.visitor_token}ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/session/close",b,function(c){})},send_archived_messages:function(){if(!ClickDesk_Widget_Session.archived_messages||ClickDesk_Widget_Session.archived_messages.length==0){return}var length=ClickDesk_Widget_Session.archived_messages.length;for(var i=0;i<length;i++){var visitor_message=ClickDesk_Widget_Session.archived_messages.shift();if(i==0){continue}var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON){return false}var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);if(!sessionId){return false}ClickDesk_Message_Util.send_chat(sessionId,visitor_message.message,visitor_message.callback_id)}},init_check_session:function(){var a=ClickDesk_Widget_Session.get_active_session();var b=ClickDesk_Storage.get_prefs("active_popup");if(ClickDesk_Window_Popout.is_window_in_popup()||a){b=true}var c=widgetPrefsJSON.status;if(b||(c=="online"&&a)){if(ClickDesk_Window_Popout.is_window_in_popup()&&c=="online"){try{ClickDesk_Proactive_Handler.show_message(proactiveJSON);return false}catch(d){}}if(clickdesk_is_bubble_enabled()||ClickDesk_Window_Popout.is_window_in_popup()){CLICKDESK_LIVECHAT.show()}else{CLICKDESK_LIVECHAT.show()}return false}if(c=="online"||widgetPrefsJSON.bubble_prefs.hide_offline!="true"||widgetPrefsJSON.plan_type=="free"){ClickDesk_Proactive_Handler.initialize_window("start")}clickdesk_show_bubble()}};var CLICKDESK_Live_Chat=CLICKDESK_Live_Chat||{};CLICKDESK_Live_Chat.call_api_onload=function(){try{try{$CLICKDESK()}catch(a){}CLICKDESK_Live_Chat.on_after_load()}catch(a){}};CLICKDESK_Live_Chat.setName=function(a){try{this.fill_api_prefs_values(a,"text");ClickDesk_Storage.set_prefs("visitor_name",a)}catch(b){clickdesk_log("err in API = "+b)}return false};CLICKDESK_Live_Chat.setEmail=function(a){try{this.fill_api_prefs_values(a,"email");ClickDesk_Storage.set_prefs("visitor_email",a)}catch(b){clickdesk_log("err in API = "+b)}return false};CLICKDESK_Live_Chat.setMessage=function(b){try{ClickDesk_DOM.wrap("#cd_prechat_msg")[0].value=b;ClickDesk_DOM.wrap("#cd_offline_msg")[0].value=b}catch(a){clickdesk_log("err in API = "+a)}return false};CLICKDESK_Live_Chat.setPrefs=function(b,a){try{if(typeof(b)=="object"){for(key in b){if(key=="name"){CLICKDESK_Live_Chat.setName(b[key])}if(key=="email"){CLICKDESK_Live_Chat.setEmail(b[key])}if(key=="message"){CLICKDESK_Live_Chat.setMessage(b[key])}if(key=="onStatus"){CLICKDESK_Live_Chat.onStatus(b[key])}if(key=="bubbleText"){CLICKDESK_Live_Chat.setBubbleText(b[key])}}}}catch(c){clickdesk_log("err in API = "+c)}return false};CLICKDESK_Live_Chat.onStatus=function(b){var a={};a.widget_id=ClickDesk_Widget_Util.widget_id;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/widget/status",a,function(c){clickdesk_log(c);var d="";if(c.status=="success"){d=c.response.status}else{d=c.errormssg}if(b!==undefined){b(d)}})};CLICKDESK_Live_Chat.setBubbleText=function(a){try{ClickDesk_DOM.wrap(".clickdesk_bubble .cd-bar")[0].innerHTML=a}catch(b){clickdesk_log("err in API = "+b)}return false};CLICKDESK_Live_Chat.fill_api_prefs_values=function(b,a){ClickDesk_DOM.fill_values_into_input_fields(a,b)};console.log("ClickDesk_GA *****8");var ClickDesk_GA={category:"ClickDesk LiveChat",widget_prefs:{},event_labels_json:{bubble_clicked:"Chat Bubble Clicked",prechat_submitted:"Prechat Form Submitted",visitor_transcript:"Visitor Chat Transcript Sent",offline_message:"Offline Message Sent",hd_ticket_submitted:"Help Desk Ticket Submitted",proactive_chats:"Proactive Chats",agent_served:"Agent Conversations",init_video_call:"Initiated Video Call",init_voice_call:"Initiated Voice Call",proactive_triggered:"Proactive Message Triggered",agent_answered_video:"Agent Answered Video Calls",agent_answered_voice:"Agent Answered Voice Calls",visitor_answered_video:"Visitor Answered Video Calls",visitor_answered_voice:"Visitor Answered Voice Calls",transfer_chat:"Chat Transferred",twitter:"Twitter Clicked",facebook:"Facebook Clicked",helpdesk:"Help Desk Clicked",forced_chat:"Agent Initiated Chats",survey_feedback:"Survey Feedback",popout_clicked:"Pop Out",busy_offline_link:"Busy Offline Message",queued_chat:"Queued Chat",file_upload:"Send File",},get_action_text:function(b){var a=this.event_labels_json[b];if(!a){return""}return a},set_prefs:function(a){if(!a){return}this.widget_prefs=a},trigger_event:function(c,a){console.log("***trigger_event**"+c);a=(a)?a:"-";var b=this.get_action_text(c);if(!b){return}this.track_event(b,a)},track_event:function(b,a){try{try{if("object"==typeof dataLayer&&"function"==typeof dataLayer.push){dataLayer.push({event:"ClickDesk LiveChat",eventCategory:this.category,eventAction:b,eventLabel:a})}}catch(c){}try{ga("send","event",this.category,b,a)}catch(c){_gaq.push(["_trackEvent",this.category,b,a])}}catch(c){try{ga("send","event",this.category,b,a)}catch(c){ClickDesk_GA.track_custom_analytics(b,a);return}ClickDesk_GA.track_custom_analytics(b,a)}},track_custom_analytics:function(b,a){try{__gaTracker.push(["_trackEvent",this.category,b,a])}catch(c){try{__gaTracker("send","event",this.category,b,a)}catch(c){}}}};function clickdesk_set_animation_effect(){var c=clickdesk_get_animation_effect();if(!c||c=="none"){return false}ClickDesk_DOM.wrap(".clickdesk_bubble").addClass(c);var b=ClickDesk_DOM.wrap(".clickdesk_bubble");for(var a=0;a<b.length;a++){ClickDesk_DOM.set_style_by_object(b[a],{AnimationName:c,MozAnimationName:c,WebkitAnimationName:c,OAnimationName:c})}}function clickdesk_get_animation_effect(){var c="none",a="";if(!widgetPrefsJSON.bubble_prefs.online_transition_effect||!widgetPrefsJSON.bubble_prefs.offline_transition_effect){return c}var b=widgetPrefsJSON.status;c=(b=="online")?widgetPrefsJSON.bubble_prefs.online_transition_effect:widgetPrefsJSON.bubble_prefs.offline_transition_effect;if(c=="slidein"||c=="toss"){c+="_"+widgetPrefsJSON.template_prefs.position}return c}var HIDE_EYE_CATCHER_COOKIE_NAME="hide_eye_catcher";function clickdesk_construct_bubble(){if(!ClickDesk_Custom_CSS.is_customization_enabled()){document.body.appendChild(ClickDesk_Handlebars.get_template("clickdesk-ui-bar",widgetPrefsJSON))}}function clickdesk_is_bubble_enabled(){var a=widgetPrefsJSON.plan_type;a=(!a)?"":a;if(widgetPrefsJSON.status=="offline"&&widgetPrefsJSON.bubble_prefs.hide_offline=="true"&&a!="free"){return false}return true}function clickdesk_show_bubble(){if(!clickdesk_is_bubble_enabled()){clickdesk_hide_bubble();return false}var b=ClickDesk_DOM.wrap(".clickdesk_bubble");clickdesk_toggle_eyecatcher_image();clickdesk_load_bubble_images();var a="";for(var c=0;c<b.length;c++){ClickDesk_DOM.set_style_by_object(b[c],{display:"block"})}clickdesk_set_animation_effect();ClickDesk_DOM.set_style_by_id("clickdesk_"+widgetPrefsJSON.status+"_customized_bubble",{display:"block"})}function clickdesk_hide_bubble(){var a=ClickDesk_DOM.wrap(".clickdesk_bubble");for(var b=0;b<a.length;b++){ClickDesk_DOM.set_style_by_object(a[b],{display:"none",AnimationName:"",MozAnimationName:"",WebkitAnimationName:"",OAnimationName:""})}}function clickdesk_load_bubble_images(){var f="https://contactuswidget.appspot.com/images/pic.png",c="",j="//d1gwclp1pmzk26.cloudfront.net/img/gravatar/1.png";var b=widgetPrefsJSON.template_prefs;var a=ClickDesk_DOM.wrap("#cd_agent_image");if(a&&a.length>0){if(b.template!="lighten_theme"&&b.template!="minimalistic"){if(!a[0].getAttribute("src").length){if(b){c=b.custom_image;if(c==f){c=j}}c=(!c)?j:c;console.log("bubble_src is ",c);try{var g=null;if(b.template=="agilechat_theme"){g=ClickDesk_DOM.wrap(".user-avatar")}else{g=ClickDesk_DOM.wrap(".click-desk-visitor img")}if(g){for(var d=0;d<g.length;d++){g[d].src=c}}}catch(h){console.log(h)}}}}}function clickdesk_render_chat_window(){clickdesk_add_misc_params_to_widget_json();setTimeout(function(){if(ClickDesk_Custom_CSS.is_customization_enabled()){ClickDesk_Custom_CSS.render_html()}else{clickdesk_render_template_to_targe_ele("clickdesk-container",document.body);var a=document.getElementById("clickdesk_popup");clickdesk_render_template_to_targe_ele("clickdesk-header",a);if(ClickDesk_Custom_CSS.is_customization_enabled_in_popup()){try{a.appendChild(convert_string_to_html(CD_Live_Chat.get_custom_prefs().cd_custom_widget_template).getElementById("ClickdeskprechatForm"));ClickDesk_Custom_CSS.add_dept_dropdown()}catch(c){clickdesk_render_template_to_targe_ele("clickdesk-prechat",a)}}else{clickdesk_render_template_to_targe_ele("clickdesk-prechat",a)}clickdesk_render_template_to_targe_ele("helpdesk-email",a);clickdesk_render_template_to_targe_ele("clickdesk-phone-options",a);clickdesk_render_template_to_targe_ele("clickdesk-offline",a);clickdesk_render_template_to_targe_ele("clickdesk-social",a);clickdesk_render_template_to_targe_ele("clickdesk-email-to-visitor",a);clickdesk_render_template_to_targe_ele("clickdesk-offline-sent-success",a);clickdesk_render_template_to_targe_ele("clickdesk-chat-session",a);clickdesk_render_template_to_targe_ele("custom-popup",a);clickdesk_render_template_to_targe_ele("agiletheme-form",a);clickdesk_render_template_to_targe_ele("clickdesk-footer",a);clickdesk_render_template_to_targe_ele("clickdesk-sound",a);clickdesk_render_template_to_targe_ele("clickdesk-bubblehover",a)}if(ClickDesk_Custom_CSS.is_customization_enabled()){var b=ClickDesk_DOM.wrap("#cd_agent_name")[0];if(b){ClickDesk_Globals.window_title=(b.innerHTML&&b.innerHTML.toString().trim())?b.innerHTML:ClickDesk_Globals.window_title}}ClickDesk_Globals.agent_nick_name=ClickDesk_Globals.window_title;clickdesk_initialize_events();ClickDesk_Handlebars.hb_tmp_backup=ClickDeskHandlebars.templates||Handlebars.templates;ClickDesk_Handlebars.hb_helpers_backup=Handlebars.helpers},1)}function clickdesk_add_misc_params_to_widget_json(){if((ClickDesk_Mobile_Util.is_mobile_browser()&&ClickDesk_Mobile_Util.is_mobile_optimized_widget())||ClickDesk_Mobile_Util.is_third_party_app()){widgetPrefsJSON.mobile_browser="true"}if(clickdesk_get_ie_version()){widgetPrefsJSON.ie_browser="true"}if(ClickDesk_Window_Popout.is_window_in_popup()){widgetPrefsJSON.popout_window="true"}if(!widgetPrefsJSON.customvalidationmssgs_prefs){ClickDesk_Globals.custom_messages=JSON.parse(ClickDesk_Globals.custom_messages)}else{ClickDesk_Globals.custom_messages=widgetPrefsJSON.customvalidationmssgs_prefs}try{ClickDesk_Globals.custom_messages_new=JSON.parse(ClickDesk_Globals.custom_messages_new);for(key in ClickDesk_Globals.custom_messages_new){if(ClickDesk_Globals.custom_messages[key]){continue}ClickDesk_Globals.custom_messages[key]=ClickDesk_Globals.custom_messages_new[key]}if(widgetPrefsJSON.system_message_prefs&&widgetPrefsJSON.system_message_prefs.SESSION_BLOCKED_MESSAGE_BY_AGENT_TO_VISITOR){ClickDesk_Globals.custom_messages.visitor_blocked=widgetPrefsJSON.system_message_prefs.SESSION_BLOCKED_MESSAGE_BY_AGENT_TO_VISITOR}}catch(a){}var b=widgetPrefsJSON.template_prefs.custom_image;ClickDesk_Globals.company_logo=(b&&b!="https://contactuswidget.appspot.com/images/pic.png")?b:ClickDesk_Globals.agent_pic;ClickDesk_Globals.agent_pic=ClickDesk_Globals.company_logo;if(ClickDesk_Globals.custom_messages.customstatusmssgs_chat_window_label){ClickDesk_Globals.window_title=ClickDesk_Globals.custom_messages.customstatusmssgs_chat_window_label}if(ClickDesk_Globals.custom_messages.customstatusmssgs_chat_visitor_label){ClickDesk_Globals.visitor_name=ClickDesk_Globals.custom_messages.customstatusmssgs_chat_visitor_label}}function convert_string_to_html(c){var f=document.createDocumentFragment(),b=document.createElement("body"),d,a;b.innerHTML=c;if(!b.firstChild){return clickdesk_construct_script_node_from_string(c)}while(d=b.firstChild){f.appendChild(d)}a=f;f=b=null;return a}function clickdesk_render_template_to_targe_ele(c,b){try{b.appendChild(ClickDesk_Handlebars.get_template(c,widgetPrefsJSON))}catch(a){}}ClickDesk_Custom_CSS={is_customization_enabled:function(){var a=CD_Live_Chat.get_custom_prefs();if(a&&a.cd_apply_custom_css=="true"&&(!ClickDesk_Window_Popout.is_window_in_popup())){return true}return false},is_customization_enabled_in_popup:function(){var a=CD_Live_Chat.get_custom_prefs();if(a&&a.cd_apply_custom_css=="true"&&ClickDesk_Window_Popout.is_window_in_popup()){return true}return false},is_bubble_available:function(){var a=ClickDesk_DOM.wrap("#clickdesk_"+widgetPrefsJSON.status+"_customized_bubble")[0];if(a&&a.toString().trim()){return true}return false},show_custom_bubble:function(){if(this.is_bubble_available()){ClickDesk_DOM.set_style_by_id("clickdesk_"+widgetPrefsJSON.status+"_customized_bubble",{display:"block"})}else{document.body.appendChild(ClickDesk_Handlebars.get_template("clickdesk-ui-bar",widgetPrefsJSON))}},add_dept_dropdown:function(){try{if(widgetPrefsJSON.status!="online"){return}this.reset_dept_dropdown();if(!widgetPrefsJSON.user_departments){return}var a=ClickDesk_DOM.wrap("#clickdesk_prechat_custom_dept_dropdown")[0];a.appendChild(ClickDesk_Handlebars.get_template("widget-dropdown",widgetPrefsJSON))}catch(b){}},render_html:function(){try{var a=CD_Live_Chat.get_custom_prefs();var c=document.createElement("div");c.innerHTML=a.cd_custom_widget_template;document.body.appendChild(c);this.show_custom_bubble();this.add_dept_dropdown()}catch(b){}},reset_dept_dropdown:function(){try{var a=ClickDesk_DOM.wrap("#clickdesk_prechat_custom_dept_dropdown")[0];a.innerHTML=""}catch(b){}}};function clickdesk_show_custom_images(){try{var g=ClickDesk_DOM.wrap(".ClickdeskChatLink");for(var c=0;c<g.length;c++){var b=g[c];if(!(!b||b.getAttribute("image"))){b.innerHTML="";b.appendChild(ClickDesk_Mobile_Util.is_mobile_browser()?cd_get_custom_images():ClickDesk_Handlebars.get_template("clickdesk-custom-images-template",widgetPrefsJSON))}var f=glcpath.replace("clickdesk-ui/browser/","");var a=f+"cdMob?id="+ClickDesk_Widget_Util.widget_id;if(ClickDesk_Mobile_Util.is_mobile_browser()){b.setAttribute("href",a);b.setAttribute("target","_blank");b.setAttribute("onclick","")}}}catch(d){clickdesk_log(d)}}function cd_get_custom_images(){widgetPrefsJSON=ClickDesk_Widget_Util.parse_widget_prefs();if(!clickdesk_is_bubble_enabled()){return""}var a=widgetPrefsJSON.status;var d=widgetPrefsJSON.custom_images_prefs;var c=(d)?((a=="online")?d.custom_online_image_url:d.custom_offline_image_url):"//my.clickdesk.com/images/ss/live-"+a+".png";var b=document.createElement("img");b.style="cursor:pointer;border:none;";b.src=c;return b}function clickdesk_toggle_eyecatcher_image(){var b=(!ClickDesk_Storage.get_prefs(HIDE_EYE_CATCHER_COOKIE_NAME))?"block":"none";var a=widgetPrefsJSON.status;if(widgetPrefsJSON.bubble_prefs.online_hide_eyecatcher&&b!="none"){b=(a=="offline")?(widgetPrefsJSON.bubble_prefs.offline_hide_eyecatcher):(widgetPrefsJSON.bubble_prefs.online_hide_eyecatcher);b=(b=="true")?"none":"block"}if(b=="block"){clickdesk_load_eyecatcher_images()}ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap(".cd-eye-catcher")[0],{display:b})}function clickdesk_hide_eyecatcher_image(){ClickDesk_Storage.create_cookie(HIDE_EYE_CATCHER_COOKIE_NAME,"hide");clickdesk_toggle_eyecatcher_image()}function clickdesk_init_eyecatcher_events(){try{var a=ClickDesk_DOM.wrap(".cd-eye-catcher");for(var c=0;c<a.length;c++){var b=a[c];if(!b){continue}b.onmouseover=function(f){ClickDesk_DOM.wrap("#clickdesk_close_eye_catcher_image")[0].style.display="block"};b.onmouseout=function(f){ClickDesk_DOM.wrap("#clickdesk_close_eye_catcher_image")[0].style.display="none"}}}catch(d){clickdesk_log(d)}}function clickdesk_load_eyecatcher_images(){var f="",b=widgetPrefsJSON.bubble_prefs;var a=widgetPrefsJSON.status;if(a=="online"){f=(b.online_image)?b.online_image:"//d1gwclp1pmzk26.cloudfront.net/img/popups/popup-1c.png"}else{f=(b.offline_image)?b.offline_image:"//d1gwclp1pmzk26.cloudfront.net/img/popups/popup-3d.png"}var d=ClickDesk_DOM.wrap(".cd-eye-catcher img");if(d){for(var c=0;c<d.length;c++){d[c].src=f}}}function clickdesk_get_mobile_view(){var g=ClickDesk_Widget_Util.parse_widget_prefs().template_prefs;var f=g.position;f=(!f)?"bottom_right":f;f=(f.indexOf("bottom")==-1)?("bottom_"+f):f;var b="block";widgetPrefsJSON=ClickDesk_Widget_Util.parse_widget_prefs();if(widgetPrefsJSON.status=="offline"&&(widgetPrefsJSON.bubble_prefs&&widgetPrefsJSON.bubble_prefs.hide_offline=="true")){b="none"}var k=g.color;var c="@font-face {font-family: 'cd-icons';src: url('"+glcpath+"css/font-icons/IcoMoon.eot?#') format('eot'),url('"+glcpath+"css/font-icons/IcoMoon.ttf') format('truetype');}.cd-mob-icon:before {font-family: cd-icons;content: attr(data-cdicon);speak: none;}";var a="<style>"+c+".cd-mob-chat-widget {position:fixed;bottom:15px;font-size: 20px;margin:0px 10px !important;z-index:2147483638;background:"+k+" !important;max-width:100%!important;padding: 8px 5px;border-radius: 15px;-moz-border-radius: 15px;-webkit-border-radius: 15px;color: white;font-weight: bold;font-family: verdana, arial,sans-serif;line-height: 25px;"+((f=="bottom_left")?"left:0px;":"right: 0px;")+"}.cd-mob-icon {margin: 0 15px;vertical-align: middle;float: left;}.cd-mob-text {margin-right: 20px;margin-bottom: 3px;float: right;}</style>";var j=glcpath.replace("clickdesk-ui/browser/","");j=j.replace("contactuswidget.appspot.com","my.clickdesk.com");var h=document.createElement("a");h.setAttribute("href",j+"cdMob?id="+ClickDesk_Widget_Util.widget_id+"&widget_type="+ClickDesk_Widget_Util.get_user_template());h.setAttribute("target","_blank");h.setAttribute("style","display:"+b);h.setAttribute("class","clickdesk_bubble");var d="Chat";d=(widgetPrefsJSON.status=="online")?((widgetPrefsJSON.bubble_prefs&&widgetPrefsJSON.bubble_prefs.mobile_online_text)?widgetPrefsJSON.bubble_prefs.mobile_online_text:"Chat"):((widgetPrefsJSON.bubble_prefs&&widgetPrefsJSON.bubble_prefs.mobile_offline_text)?widgetPrefsJSON.bubble_prefs.mobile_offline_text:"Chat");h.innerHTML=a+"<div class='cd-mob-chat-widget'><div class='cd-mob-icon' data-cdicon='&#x25cc;'></div><div class='cd-mob-text'>"+d+"</div></div>";return h}var ClickDesk_Mobile_Util={is_mobile_browser:function(){if(this.is_third_party_app()){return true}return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},is_mobile_optimized_widget:function(){widgetPrefsJSON=ClickDesk_Widget_Util.parse_widget_prefs();var a=widgetPrefsJSON.template_prefs.mobile_optimized_chat;if(!a||(a&&a=="true")){return true}return false},is_third_party_app:function(){return(typeof ClickDesk_ThirdParty_App!=="undefined"&&ClickDesk_ThirdParty_App)?true:false}};var email_success_msg=0;var CLICKDESK_CHAT_WINDOW_UI={window_popup_form_ids:["clickdesk_session clickdesk_chat_session","ClickdeskofflineForm","ClickdeskofflinethxMsg","ClickdeskprechatForm","emailChatToVisitorForm","ClickdeskhelpdeskForm","ClickdeskPhoneForm","ClickdeskcustompopupForm","AgilethemeForm","clickdesk-bubblehover"],show_chat_box:function(){try{CLICKDESK_CHAT_WINDOW_UI.agilethemevent();this.show_window("clickdesk_session");ClickDesk_DOM.set_style_by_id("clickdesk_ratingdiv",{display:"none"});this.execute_common_functions("cd_chat");this.toggle_file_uploader();ClickDesk_Proactive_Handler.show_proactive_visitor_details_window("chat_box")}catch(a){clickdesk_log("clickdesk_show_chat_box"+a)}},show_phone_window:function(){try{this.show_window("ClickdeskPhoneForm");try{var a=ClickDesk_DOM.wrap("#ClickdeskPhoneForm img");for(var b=0;b<a.length;b++){a[b].src=a[b].getAttribute("data-src")}}catch(d){}this.execute_common_functions()}catch(c){clickdesk_log("show_phone_window"+c)}},show_prechat_window:function(){try{var b=widgetPrefsJSON.online_form_prefs;if(b&&b.show_prechat_form&&b.show_prechat_form=="false"){this.show_chat_box();return}if(widgetPrefsJSON.customchatpopup_form_prefs){this.show_window("ClickdeskcustompopupForm")}else{if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){CLICKDESK_CHAT_WINDOW_UI.agilethemeimage()}this.show_window("ClickdeskprechatForm")}this.execute_common_functions();ClickDesk_DOM.set_style_by_id("ClickdeskprechatForm",{position:"relative",zIndex:"10000"})}catch(a){clickdesk_log("clickdesk_show_prechat_form "+a)}},show_offline_window:function(){try{if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_offline_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#bubble_offline_header")[0].innerHTML="WELCOME TO SUPPORT"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_offline_header_success")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#bubble_offline_header_success")[0].innerHTML="WELCOME TO SUPPORT"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_helpdesk_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#bubble_helpdesk_header")[0].innerHTML="WELCOME TO SUPPORT"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#chattranscript_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#chattranscript_header")[0].innerHTML="WELCOME TO SUPPORT"}}this.show_window("ClickdeskofflineForm");this.execute_common_functions();ClickDesk_DOM.set_style_by_id("cd_loading",{display:"none"});ClickDesk_DOM.set_style_by_id("loadingp",{marginTop:"-6px"})}catch(a){clickdesk_log("clickdesk_show_offline_form"+a)}},show_offline_success_window:function(c){try{this.show_window("ClickdeskofflinethxMsg");this.execute_common_functions();Cd_Add_Wesite_Screenshot.reset_form();var b=ClickDesk_Storage.get_prefs("visitor_name");b=(b==null)?"visitor":b;var a=widgetPrefsJSON.offline_form_prefs.offline_send_success_salutation;if(c=="helpdesk"){a=widgetPrefsJSON.ticket_form_prefs.ticket_send_success_salutation;ClickDesk_DOM.wrap("#ClickdeskofflinethxMsgVal")[0].innerHTML=widgetPrefsJSON.ticket_form_prefs.ticket_form_send_success_text}a=(!a)?"Dear":a;ClickDesk_DOM.wrap("#ClickdeskofflinethxMsgName")[0].innerHTML=a+" "+b+",";ClickDesk_DOM.wrap("#ClickdeskofflinethxMsg img")[0].src="//my.clickdesk.com/clickdesk-ui/browser/img/email-offline.png"}catch(d){clickdesk_log("clickdesk_show_offline_form"+d)}},show_email_to_visitor_window:function(){try{this.show_window("emailChatToVisitorForm");this.execute_common_functions();ClickDesk_DOM.wrap("#cd_emailToVistitor_status")[0].innerHTML="";ClickDesk_DOM.set_style_by_id("cd_emailToVistitor_status",{display:"none"});ClickDesk_DOM.set_style_by_id("emailChatToVisitorForm",{position:"relative",zIndex:"1000"});clickdesk_reset_forms()}catch(a){clickdesk_log("show_email_to_visitor_window"+a)}},show_helpdesk_window:function(){try{this.show_window("ClickdeskhelpdeskForm");this.execute_common_functions()}catch(a){clickdesk_log("clickdesk_helpdesk_form "+a)}},show_offline_response_window:function(){this.show_window("ClickdeskofflinethxMsg")},hide_eye_catcher:function(b){try{if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}}catch(a){}clickdesk_hide_eyecatcher_image()},get_user_seleted_department:function(b){var a=ClickDesk_Widget_Util.widget_id;try{switch(b){case"prechat":var d=ClickDesk_DOM.wrap("#ClickdeskprechatForm select#cd_department")[0];a=(d&&d.value)?d.value:ClickDesk_Widget_Util.widget_id;break;case"offline":var d=ClickDesk_DOM.wrap("#ClickdeskofflineForm select#cd_department")[0];a=(d&&d.value)?d.value:ClickDesk_Widget_Util.widget_id;break;case"helpdesk":var d=ClickDesk_DOM.wrap("#ClickdeskhelpdeskForm select#cd_department")[0];a=(d&&d.value)?d.value:ClickDesk_Widget_Util.widget_id;break;default:a=ClickDesk_Widget_Util.widget_id;break}}catch(c){}return a},execute_common_functions:function(a){this.update_chat_header_logo_and_name();ClickDesk_Social_Tab_Ui.hide_window();ClickDesk_JS_Plugin.show_variable_values();clickdesk_cd_fill_form_fields_with_cookie_values();if(a){ClickDesk_DOM.wrap("#clickdesk_footer_tabs li").removeClass("ClickDeskActive");ClickDesk_DOM.wrap("#"+a)[0].parentNode.className="ClickDeskActive"}ClickDesk_Window_Callback.show()},show_window:function(h){clickdesk_log("id = "+h);if(h===undefined||h==null){return false}var b=this.window_popup_form_ids.length;for(var a=0;a<b;a++){var f=this.window_popup_form_ids[a];var d="block";if(!this.contains(f.split(" "),h)){d="none"}if(ClickDesk_Window_Popout.is_window_in_popup()&&d=="block"){d="table-row"}var g=f.split(" ").length;while(g--){ClickDesk_DOM.set_style_by_id(f.split(" ")[g],{display:(f.split(" ")[g]=="clickdesk_session"&&d=="table-row")?"block":d})}try{ClickDesk_DOM.wrap(".clickdesk-tabs-option")[0].className="clickdesk-tabs-option";if(h&&h=="clickdesk_session"){ClickDesk_DOM.wrap(".clickdesk-tabs-option").addClass("clickdesk-tabs-expand")}}catch(c){}}},update_chat_header_logo_and_name:function(){ClickDesk_DOM.set_style_by_id("ClickDeskSocialLogo",{display:"none"});ClickDesk_DOM.set_style_by_id("cd-liviliyheadingtop",{display:"block"});if(!ClickDesk_Widget_Session.get_active_session()||!ClickDesk_Globals.agent_nick_name||!ClickDesk_Globals.agent_pic){ClickDesk_Globals.agent_nick_name=ClickDesk_Globals.window_title;ClickDesk_Globals.agent_pic=ClickDesk_Globals.company_logo}ClickDesk_Social_Tab_Ui.update_header(ClickDesk_Globals.agent_nick_name,ClickDesk_Globals.agent_pic)},contains:function(c,b){var a=c.length;while(a--){if(c[a]===b){return true}}return false},stringify:function(b){if(!b){return b}if(typeof(window.MooTools)!="object"){return JSON.stringify(b)}var c="[";for(var a=0;a<b.length;a++){if(b[a] instanceof Array){CLICKDESK_CHAT_WINDOW_UI.stringify(b[a])}else{c+=JSON.stringify(b[a])+((a!=(b.length-1))?",":"")}}c+="]";return c},toggle_file_uploader:function(){try{var a=ClickDesk_Widget_Typing_Noty.get_visitor_noty_session_id();if(cd_ie_browser_version&&cd_ie_browser_version>1&&cd_ie_browser_version<10){a=undefined}ClickDesk_DOM.set_style_by_id("cd_file_upload_container",{display:(!a)?"none":"block"});if(!a){ClickDesk_File_Upload.toggle_uploading_image("none")}}catch(b){}},show_offline_window_link:function(b){ClickDesk_DOM.find_and_remove("clickdesk_session","cd_remove");var a=ClickDesk_Handlebars.get_template("clickdesk-rewrite-entry-template",{}).childNodes[0];a.id="";a.className=(b)?"queued-offline":"cd_remove";a.innerHTML=(b)?'<span id="session_timeout_link" onclick="CLICKDESK_CHAT_WINDOW_UI.show_offline_window();ClickDesk_GA.trigger_event(\'busy_offline_link\', \'-\');" style="color:#0096C0 !important;cursor:pointer!important;font-size:11px !important;">'+clickdesk_replace_special_characters(b)+"</span>":'<span id="session_timeout_link" onclick="CLICKDESK_CHAT_WINDOW_UI.show_offline_window();ClickDesk_GA.trigger_event(\'busy_offline_link\', \'-\');" style="color:#0096C0 !important;cursor:pointer!important;font-size:13px;color:#000;">['+clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_agent_exceeded_time_label))+"]</span>";ClickDesk_DOM.set_style_by_object(a,{display:"block"});ClickDesk_DOM.wrap("#clickdesk_session")[0].appendChild(a)},agilethemevent:function(){ClickDesk_DOM.attach_event("a.cd_agile_button","click",function(event){var ele=ClickDesk_DOM.wrap("#cd_prechat_email");var element=document.getElementById("#cd_prechat_email");var text=ele[0].value;var type=ele[0].type;clickdesk_validate_form("clickdesk_chat_session","cd_valid_email_agile");if(type=="email"){var result=clickdesk_is_valid_email_address(text)}if(result){ClickDesk_Storage.set_prefs("visitor_email",text);var json=clickdesk_serialize_form_data("AgileThemeEmailBox");var callbackId=ClickDesk_JSONP.__callbackId++;var sessionJSON=ClickDesk_Widget_Session.get_active_session();var sessionId;if(sessionJSON){sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id)}json.session_id=sessionId;ClickDesk_JSONP_Tips.jsonp(CLICKDESK_SERVER_PATH+"/rest/visitor/chat/update-email?widget_id="+ClickDesk_Widget_Util.widget_id+"",json,function success(response){document.getElementById("AgileThemeEmailBox").style.display="none";email_success_msg=email_success_msg+1;if(email_success_msg==1){document.getElementById("clickdesk_session").innerHTML+="<span style='text-align:center;background: #dde1e3;color: #686868;padding: 12px 20px !important;line-height: 30px;word-wrap: break-word;border-radius: 3px;margin-left: 20px;'>Your Email is Submitted Successfully</span>"}document.getElementById("broadcastchat").removeAttribute("disabled")},function failure(error){clickdesk_log("error");clickdesk_log(error)},callbackId)}})},agilethemeimage:function(){try{if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#cd_bubble_image")[0].src=widgetPrefsJSON.bubble_agiletheme_form_prefs.custom_image}else{ClickDesk_DOM.wrap("#cd_bubble_image")[0].src="https://doxhze3l6s7v9.cloudfront.net/img/livechat/chat-guy.svg"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#bubble_header")[0].innerHTML="WELCOME TO SUPPORT"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_desc")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_description}else{ClickDesk_DOM.wrap("#bubble_desc")[0].innerHTML="Live chat is the easiest and fastest way to reach our friendly agents"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#bubble_helpdesk_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#bubble_helpdesk_header")[0].innerHTML="WELCOME TO SUPPORT"}if(widgetPrefsJSON.bubble_agiletheme_form_prefs){ClickDesk_DOM.wrap("#chattranscript_header")[0].innerHTML=widgetPrefsJSON.bubble_agiletheme_form_prefs.bubble_agiletheme_header_label}else{ClickDesk_DOM.wrap("#chattranscript_header")[0].innerHTML="WELCOME TO SUPPORT"}}catch(a){}}};function clickdesk_initialize_agiletheme_form_events(){ClickDesk_DOM.attach_event(".agilethemesend","click",function(c){var b=document.getElementById("ClickdeskprechatForm");var a=document.getElementById("clickdesk_popup");var d=document.getElementById("ClickdeskhelpdeskForm");b.parentNode.removeChild(b);a.insertBefore(ClickDesk_Handlebars.get_template("clickdesk-prechat",widgetPrefsJSON),d);clickdesk_initialize_events();CLICKDESK_CHAT_WINDOW_UI.show_window("ClickdeskprechatForm")})}function clickdesk_initialize_call_events(){ClickDesk_DOM.attach_event("#clickdesk_video_call","click",function(a){a.returnValue=false;clickdesk_check_permissions_for_audio_and_video("video");ClickDesk_GA.trigger_event("init_video_call","Visitor")});ClickDesk_DOM.attach_event("#clickdesk_audio_call","click",function(a){a.returnValue=false;clickdesk_check_permissions_for_audio_and_video("audio");ClickDesk_GA.trigger_event("init_voice_call","Visitor")});ClickDesk_DOM.attach_event("#cd_voice_phone","click",function(a){a.returnValue=false;clickdesk_check_permissions_for_audio_and_video("audio");ClickDesk_GA.trigger_event("init_voice_call","Visitor")});ClickDesk_DOM.attach_event("#cd_video_phone","click",function(a){a.returnValue=false;clickdesk_check_permissions_for_audio_and_video("video");ClickDesk_GA.trigger_event("init_video_call","Visitor")})}function clickdesk_initialize_chat_box_events(){try{document.getElementById("broadcastchat").onkeydown=function(c){c=c||event;if(c.keyCode===13&&!c.ctrlKey){ClickDesk_DOM.stop_event(c);setTimeout(function(){return ClickDesk_Message_Util.submit_chat_form()},0);return false}return true}}catch(a){clickdesk_log(a)}try{ClickDesk_DOM.attach_event("#clickdesk_mobile_close_chat","click",function(c){ClickDesk_Widget_Session.delete_session("visitor_closed");setTimeout(function(){ClickDesk_Social_Tab_Ui.show_social_network_tab("cd_chat");try{ClickDesk_DOM.wrap("#clickdesk_session")[0].innerHTML=""}catch(d){}},15000)})}catch(b){}clickdesk_initialize_proactive_form_events()}function clickdesk_initialize_proactive_form_events(){ClickDesk_DOM.attach_event("#cd_proactive_visitor_info_cancel","click",function(event){ClickDesk_Proactive_Handler.hide_proactive_visitor_details_window();ClickDesk_Storage.create_cookie(ClickDesk_Proactive_Handler.visitor_details_cookie,"closed")});ClickDesk_DOM.attach_event("#cd_proactive_visitor_info_save","click",function(event){if(document.getElementById("cd_custom_checkbox_chatbox")&&document.getElementById("cd_custom_checkbox_chatbox").checked){document.getElementById("cd_custom_checkbox_chatbox").value="Agreed to Share Info"}else{if(document.getElementById("cd_custom_checkbox_chatbox")){document.getElementById("cd_custom_checkbox_chatbox").value="Disagreed to Share Info"}}clickdesk_reset_forms();var sendForm=clickdesk_validate_form("clickdesk_proactive_visitor_details_window","cd_proactive_visitor_error");if(!sendForm){return false}sendForm=clickdesk_valid_data_form("clickdesk_proactive_visitor_details_window","cd_proactive_visitor_error");if(!sendForm){return false}var status_ele=ClickDesk_DOM.wrap("#cd_proactive_visitor_error")[0];ClickDesk_DOM.set_style_by_object(status_ele,{display:"block"});status_ele.innerHTML="<img src='https://my.clickdesk.com/img/21-0.gif' style='width:18px;height:18px;display:inline'/>";ClickDesk_DOM.wrap("#cd_proactive_visitor_info_save")[0].setAttribute("disabled",true);clickdesk_store_form_fields_in_browser_cache("clickdesk_proactive_visitor_details_window");var json=clickdesk_serialize_form_data("clickdesk_proactive_visitor_details_window");var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!ClickDesk_Globals.offline_prechat_session_id&&(!sessionJSON||!eval("sessionJSON."+ClickDesk_Widget_Session.session_id))){var status_ele=ClickDesk_DOM.wrap("#cd_proactive_visitor_error")[0];if(status_ele){ClickDesk_DOM.set_style_by_object(status_ele,{display:"none"});status_ele.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_nosession_label))}ClickDesk_Proactive_Handler.hide_proactive_visitor_details_window();return false}var sessionId=(sessionJSON)?eval("sessionJSON."+ClickDesk_Widget_Session.session_id):"";sessionId=(!sessionId)?ClickDesk_Globals.offline_prechat_session_id:sessionId;var fieldsArray=clickdesk_serialize_form_fields("clickdesk_proactive_visitor_details_window");json.prechat_fields=CLICKDESK_CHAT_WINDOW_UI.stringify(fieldsArray);json.widget_id=ClickDesk_Widget_Util.widget_id;json.visitor_token=(sessionJSON)?eval("sessionJSON."+ClickDesk_Widget_Session.visitor_token):"";json.session_id=sessionId;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/session/send-visitor-details-in-proactive",json,function(response){clickdesk_handle_proactive_visitor_details_server_response(response)})})}function clickdesk_handle_proactive_visitor_details_server_response(a){ClickDesk_DOM.wrap("#cd_proactive_visitor_info_save")[0].removeAttribute("disabled");var b=ClickDesk_DOM.wrap("#cd_proactive_visitor_error")[0];b.innerHTML="";if(a&&a.status!="success"){clickdesk_log(clickdesk_replace_special_characters(ClickDesk_Globals.custom_messages.customstatusmssgs_send_failure_mssg_label))}ClickDesk_Storage.create_cookie(ClickDesk_Proactive_Handler.visitor_details_cookie,"saved");ClickDesk_Proactive_Handler.hide_proactive_visitor_details_window()}var cd_custom_popup_enabled="";function clickdesk_initialize_custompopup_form_events(){ClickDesk_DOM.attach_event("#cd_custom-popup_yes","click",function(b){cd_custom_popup_enabled=true;var a=undefined;clickdesk_re_rendering()});ClickDesk_DOM.attach_event("#cd_custom-popup_no","click",function(a){cd_custom_popup_enabled=false;clickdesk_re_rendering()})}function clickdesk_re_rendering(){var b=document.getElementById("ClickdeskprechatForm");var a=document.getElementById("clickdesk_popup");var c=document.getElementById("ClickdeskhelpdeskForm");b.parentNode.removeChild(b);a.insertBefore(ClickDesk_Handlebars.get_template("clickdesk-prechat",widgetPrefsJSON),c);clickdesk_initialize_events();CLICKDESK_CHAT_WINDOW_UI.show_window("ClickdeskprechatForm")}function clickdesk_initialize_email_to_visitor_form_events(){ClickDesk_DOM.attach_event("#cd_send_email_to_visitor","click",function(event){event.returnValue=false;CLICKDESK_CHAT_WINDOW_UI.show_email_to_visitor_window()});ClickDesk_DOM.attach_event("#cd_emailToVistitor_acl","click",function(event){CLICKDESK_CHAT_WINDOW_UI.show_chat_box()});ClickDesk_DOM.attach_event("#emailChatTsToVisitor_submit","click",function(event){clickdesk_reset_forms();var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON||!eval("sessionJSON."+ClickDesk_Widget_Session.session_id)){var status_ele=ClickDesk_DOM.wrap("#cd_emailToVistitor_status")[0];if(status_ele){ClickDesk_DOM.set_style_by_object(status_ele,{display:"block"});status_ele.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_nosession_label))}return false}var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);var sendForm=clickdesk_validate_form("emailChatToVisitorForm","cd_emailToVistitor_status");if(!sendForm){return false}var status_ele=ClickDesk_DOM.wrap("#cd_emailToVistitor_status")[0];ClickDesk_DOM.set_style_by_object(status_ele,{display:"block"});status_ele.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_send_request_label));ClickDesk_DOM.wrap("#emailChatTsToVisitor_submit")[0].setAttribute("disabled",true);var json=clickdesk_serialize_form_data("emailChatToVisitorForm");json.widget_id=ClickDesk_Widget_Util.widget_id;json.visitor_token=eval("sessionJSON."+ClickDesk_Widget_Session.visitor_token);json.session_id=sessionId;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/session/send-email-on-demand",json,function(response){clickdesk_handle_email_to_visitor_server_response(response)})})}function clickdesk_handle_email_to_visitor_server_response(a){ClickDesk_DOM.wrap("#emailChatTsToVisitor_submit")[0].removeAttribute("disabled");var b=ClickDesk_DOM.wrap("#cd_emailToVistitor_status")[0];if(a.status!="success"){b.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_send_failure_mssg_label));return}CLICKDESK_CHAT_WINDOW_UI.show_chat_box();ClickDesk_GA.trigger_event("visitor_transcript","-")}function clickdesk_initialize_events(){clickdesk_init_placeholders();clickdesk_show_custom_images();clickdesk_show_browser_phone_option(widgetPrefsJSON);ClickDesk_Sounds.init();clickdesk_init_social_tabs();ClickDesk_Rating.init();ClickDesk_Smilies.init();ClickDesk_Widget_Session.init_check_session();ClickDesk_DOM.attach_event("a#clickdesk_min","click",function(f){f.returnValue=false;CD_Live_Chat.minimize()});ClickDesk_DOM.attach_event("a#clickdesk_close","click",function(f){f.returnValue=false;CD_Live_Chat.close()});clickdesk_initialize_bubble_events();ClickDesk_DOM.attach_event("#clickdesk_tool","click",function(f){CLICKDESK_LIVECHAT.show()});try{var a=ClickDesk_DOM.wrap(".ClickdeskChatLink");for(var c=0;c<a.length;c++){var b=a[c];if(!b){continue}b.onclick=function(f){CLICKDESK_LIVECHAT.show()}}}catch(d){clickdesk_log(d)}ClickDesk_Widget_Typing_Noty.init_notifier("#broadcastchat");clickdesk_initialize_email_to_visitor_form_events();clickdesk_initialize_helpdesk_form_events();clickdesk_initialize_offline_form_events();clickdesk_initialize_prechat_form_events();clickdesk_initialize_call_events();clickdesk_initialize_chat_box_events();clickdesk_initialize_custompopup_form_events();clickdesk_initialize_agiletheme_form_events();try{ClickDesk_DOM.attach_event("#clickdesk_popin","click",function(g){g.returnValue=false;try{window.opener.visitor_typing_msg=ClickDesk_DOM.wrap("#broadcastchat")[0].value}catch(f){}});clickdesk_init_popout_theme_options();ClickDesk_Dragger.setup_dragger_handler()}catch(d){}clickdesk_log("End Of initializeOptions")}function clickdesk_initialize_bubble_events(){ClickDesk_DOM.attach_event(".clickdesk_bubble","click",function(a){ClickDesk_GA.trigger_event("bubble_clicked","-");if(!ClickDesk_DOM.has_class("clickdesk_b","min")){ClickDesk_Proactive_Handler.initialize_window("open")}CLICKDESK_LIVECHAT.show()});ClickDesk_DOM.attach_event("#clickdesk_bub","click",function(a){if(!ClickDesk_DOM.has_class("clickdesk_b","min")){ClickDesk_Proactive_Handler.initialize_window("open")}CLICKDESK_LIVECHAT.show()});clickdesk_init_eyecatcher_events()}function clickdesk_initialize_helpdesk_form_events(){ClickDesk_DOM.attach_event("#cd_helpdesk_submit","click",function(d){clickdesk_reset_forms();var c=clickdesk_validate_form("ClickdeskhelpdeskForm","helpdesk_valid_email");if(!c){return false}var b=clickdesk_serialize_form_data("ClickdeskhelpdeskForm");b.widget_id=CLICKDESK_CHAT_WINDOW_UI.get_user_seleted_department("helpdesk");b.visitor_subject="Ticket created by "+b.visitor_email;clickdesk_store_form_fields_in_browser_cache("ClickdeskhelpdeskForm");var a=ClickDesk_DOM.wrap("#ClickdeskhelpdeskForm big img")[0];if(a){a.src="//d25wh3ilibgxb0.cloudfront.net/images/spinner-big.gif"}ClickDesk_DOM.wrap("#ClickdeskhelpdeskForm big")[0].style.display="block";ClickDesk_DOM.wrap("#cd_helpdesk_submit")[0].setAttribute("disabled",true);ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/ticket/sendticket",b,function(f){clickdesk_handle_helpdesk_server_response(f)})})}function clickdesk_handle_helpdesk_server_response(a){try{ClickDesk_DOM.wrap("#ClickdeskhelpdeskForm big")[0].style.display="none";ClickDesk_DOM.wrap("#cd_helpdesk_submit")[0].removeAttribute("disabled");if(a.status!="success"){ClickDesk_DOM.wrap("#cd_loading")[0].innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_send_failure_mssg_label));return}CLICKDESK_CHAT_WINDOW_UI.show_offline_success_window("helpdesk");ClickDesk_GA.trigger_event("hd_ticket_submitted","-")}catch(b){}}function clickdesk_initialize_offline_form_events(){ClickDesk_DOM.attach_event("#cd_offline_button","click",function(c){if(document.getElementById("cd_custom_checkbox2")&&document.getElementById("cd_custom_checkbox2").checked){document.getElementById("cd_custom_checkbox2").value="Agreed to Share Info"}else{if(document.getElementById("cd_custom_checkbox2")){document.getElementById("cd_custom_checkbox2").value="Disagreed to Share Info"}}clickdesk_reset_forms();var f=true;var f=clickdesk_validate_form("ClickdeskofflineForm","offline_valid_email");if(!f){return false}var a=clickdesk_serialize_form_data("ClickdeskofflineForm");a.visitor_info=ClickDesk_Visitor_Info.get_visitor_info();a.widget_id=CLICKDESK_CHAT_WINDOW_UI.get_user_seleted_department("offline");if(Cd_Add_Wesite_Screenshot.get_attached_src()){a.attached_snap_url=Cd_Add_Wesite_Screenshot.get_attached_src()}var b=clickdesk_serialize_form_fields("ClickdeskofflineForm");a.offline_fields=CLICKDESK_CHAT_WINDOW_UI.stringify(b);clickdesk_store_form_fields_in_browser_cache("ClickdeskofflineForm");ClickDesk_DOM.wrap("#cd_offline_button")[0].setAttribute("disabled",true);var d=ClickDesk_DOM.wrap("#cd_loading")[0];d.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_send_request_label));ClickDesk_DOM.set_style_by_object(d,{display:"inline"});if(ClickDesk_Globals.offline_prechat_session_id){a.session_id=ClickDesk_Globals.offline_prechat_session_id;ClickDesk_Globals.offline_prechat_session_id=""}ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/offline",a,function(g){clickdesk_handle_offline_server_response(g)})})}function clickdesk_handle_offline_server_response(a){try{ClickDesk_DOM.wrap("#cd_offline_button")[0].removeAttribute("disabled");var b=ClickDesk_DOM.wrap("#cd_loading")[0];if(a.status!="success"){b.innerHTML=clickdesk_replace_special_characters((ClickDesk_Globals.custom_messages.customstatusmssgs_send_failure_mssg_label));return}CLICKDESK_CHAT_WINDOW_UI.show_offline_success_window();ClickDesk_GA.trigger_event("offline_message","-")}catch(c){clickdesk_log(c)}}var agiletheme_emailverif="";var agile_smilie_check="";function clickdesk_initialize_prechat_form_events(){document.getElementById("cd_prechat_msg").onkeydown=function(a){a=a||event;if(a.keyCode===13&&!a.ctrlKey){ClickDesk_DOM.wrap("#cd_prechat_msg")[0].blur();ClickDesk_DOM.wrap("#cd_prechat_button")[0].click();ClickDesk_DOM.stop_event(a)}return true};ClickDesk_DOM.attach_event("#cd_prechat_button","click",function(f){if(document.getElementById("cd_custom_checkbox1")&&document.getElementById("cd_custom_checkbox1").checked){document.getElementById("cd_custom_checkbox1").value="Agreed to Share Info"}else{if(document.getElementById("cd_custom_checkbox1")){document.getElementById("cd_custom_checkbox1").value="Disagreed to Share Info"}}clickdesk_reset_forms();var d=clickdesk_validate_form("ClickdeskprechatForm","cd_valid_email");if(!d){return false}clickdesk_store_form_fields_in_browser_cache("ClickdeskprechatForm");var c=ClickDesk_DOM.wrap("#cd_prechat_msg")[0].value;var a=new Date();try{ClickDesk_Message_Util.send_message(c,ClickDesk_Globals.visitor_name,"broadCast",a.getTime());ClickDesk_GA.trigger_event("prechat_submitted","-");ClickDesk_Proactive_Handler.initialize_window("message");if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){if(clickdesk_is_any_field_required("clickdesk_proactive_visitor_details_window")){try{ClickDesk_DOM.set_style_by_id("clickdesk_proactive_visitor_details_window",{display:"block !important"})}catch(g){}}}}catch(b){clickdesk_log(b)}CLICKDESK_CHAT_WINDOW_UI.show_chat_box()})}function clickdesk_init_popout_theme_options(){ClickDesk_DOM.attach_event("#click-desk-options","click",function(a){clickdesk_toggle_element_by_id("clickdesk_popout_footer_options")});ClickDesk_DOM.attach_event("#clickdesk_popup","click",function(a){handle_clickdesk_chat_window_click(a)})}function clickdesk_toggle_element_by_id(a){var b=ClickDesk_DOM.wrap("#"+a)[0].style.display;b=(b&&b=="none")?"block":"none";ClickDesk_DOM.set_style_by_id(a,{display:b})}function handle_clickdesk_chat_window_click(d){var c=["cd-options-img","cd_send_email_to_visitor","clickdesk_popout_footer_options","cd_voice","cd_file_upload_container","cd_upload","click-desk-options","cd_file_upload_option"];var a=d.srcElement||d.target||d.toElement;if(!a){ClickDesk_DOM.set_style_by_id("clickdesk_popout_footer_options",{display:"none"});return false}try{if(a.id&&c.indexOf(a.id)>-1){return false}ClickDesk_DOM.set_style_by_id("clickdesk_popout_footer_options",{display:"none"})}catch(b){clickdesk_log("error in chat window click = "+b)}}var ClickDesk_Title_Blinker={timer:"",original_title:document.title,trigger:function(b,a){b=(typeof b=="object"&&b.file_url)?"File Received - "+b.file_name:b;b=this.parse_message(b);this.blink(a,b,true)},reset:function(){document.title=ClickDesk_Title_Blinker.original_title;if(ClickDesk_Title_Blinker.timer){clearTimeout(ClickDesk_Title_Blinker.timer)}ClickDesk_Call.focus_window()},blink:function(c,b,a){if(a){document.title=b}else{document.title=this.original_title;c--;clearTimeout(this.timer)}if(c>0){this.timer=setTimeout("ClickDesk_Title_Blinker.blink("+c+", '"+b+"', "+!a+")",800)}},parse_message:function(a){try{if(a.indexOf("[Agent is inviting")!=-1||a.indexOf("[Agent is co-browsing")!=-1){var b=a.substring(a.indexOf("["),a.indexOf("]")+1);a=(!b)?a:b}}catch(c){}return a}};if(cd_ie_browser_version>5){document.onfocusin=ClickDesk_Title_Blinker.reset}else{window.onfocus=ClickDesk_Title_Blinker.reset}function clickdesk_save_agent_pic(d,b){if(!d){return}var a="cd_agent_pics";var c=ClickDesk_Storage.get_prefs(a);c=(!c)?{}:JSON.parse(c);c[d.toLowerCase()]=b;ClickDesk_Storage.set_prefs(a,JSON.stringify(c))}function clickdesk_get_agent_pic(g){if(!g){return}var b="cd_agent_pics";var c=ClickDesk_Globals.agent_json;var a=(c&&c.img_url)?c.img_url:"https://contactuswidget.appspot.com/images/pic.png";var d=ClickDesk_Storage.get_prefs(b);d=(!d)?{}:JSON.parse(d);var f=d[g.toLowerCase()];return(!f)?a:f}function clickdesk_set_agent_name_and_image(b,d){try{if(widgetPrefsJSON.template_prefs.template=="novelty"&&!ClickDesk_Globals.agent_json){b=" "}d=glcp+d.substring(d.indexOf("://")+3);ClickDesk_DOM.wrap("#cd_agent_name")[0].innerHTML=b;if(widgetPrefsJSON.template_prefs.template=="agilechat_theme"){ClickDesk_DOM.wrap("#cd_agent_name_social")[0].innerHTML=b;ClickDesk_DOM.wrap("#cd_agent_image_social")[0].src=d}var a=ClickDesk_DOM.wrap("#cd_agent_image");if(a){if(a.length>0){if(!a[0].getAttribute("src").length){a[0].src=d}}}}catch(c){}}function clickdesk_set_session_agent_info(f,d){ClickDesk_Globals.agent_nick_name=ClickDesk_Globals.window_title;ClickDesk_Globals.agent_pic=ClickDesk_Globals.company_logo;if(f){ClickDesk_Globals.agent_nick_name=f.nick_name;ClickDesk_Globals.agent_pic=f.img_url.replace("http://","https://");ClickDesk_Globals.agent_nick_name=ClickDesk_Globals.agent_nick_name.slice(0,1).toUpperCase()+ClickDesk_Globals.agent_nick_name.slice(1);if(!d&&!ClickDesk_Globals.agent_json){ClickDesk_GA.trigger_event("agent_served",ClickDesk_Globals.agent_nick_name)}else{if(!d&&ClickDesk_Globals.agent_json){ClickDesk_GA.trigger_event("transfer_chat",ClickDesk_Globals.agent_nick_name)}}ClickDesk_Globals.agent_id=f.id;ClickDesk_Globals.agent_json=f}var a=ClickDesk_Globals.agent_nick_name.slice(0,1).toUpperCase()+ClickDesk_Globals.agent_nick_name.slice(1);clickdesk_set_agent_name_and_image(a,ClickDesk_Globals.agent_pic);clickdesk_show_browser_phone_option(f);ClickDesk_Rating.init();var c=widgetPrefsJSON.template_prefs.template;var b=CD_Live_Chat.get_custom_prefs();if(b&&b.cd_apply_custom_css=="true"&&(!ClickDesk_Window_Popout.is_window_in_popup())){c=b.cd_template_type}if(c=="webrtc_theme"||c=="ultra_theme"||c.indexOf("minimalistic")==0){return}if(widgetPrefsJSON.template_prefs.template!="agilechat_theme"){ClickDesk_DOM.set_style_by_id("cd_user_rating",{display:"block"})}}var ClickDesk_Rating={user_session_rating:"cd_rating",user_rating_nill:"sprite-icons-star-half",user_rated:"sprite-icons-star",attach_event:function(a){a.onclick=function(b){try{ClickDesk_Rating.set_rating(a,b)}catch(c){}}},set_rating:function(element,eve,event_type){var eve=eve||event;eve.returnValue=false;if(!element){return false}var rate=element.rel;if(!rate){return false}rate=parseInt(rate);this.set_ui(rate,event_type);var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(sessionJSON==null){return false}var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);if(sessionId.indexOf("BD")==0){return false}this.send_chat_rating_to_server(sessionId)},set_ui:function(b,h){clickdesk_log("userrate = "+b+" : event_type = "+h);if(b===undefined||b==null){b=0}try{ClickDesk_DOM.wrap("#cd_user_rating a").removeClass(this.user_rated);ClickDesk_DOM.wrap("#cd_user_rating a").addClass(this.user_rating_nill);if(!h){document.getElementById("cd_rating").innerHTML=b}var f=ClickDesk_DOM.wrap("#cd_user_rating a");for(var d=0;d<f.length;d++){var c=f[d];var a=c.rel;if(a>b){continue}c.className=this.user_rated}}catch(g){}},send_chat_rating_to_server:function(f){if(!f){return false}var b={};b.session_id=f;b.user_message=" ";var d=ClickDesk_DOM.wrap("#cd_rating")[0].innerHTML;var c=true;var a=ClickDesk_Storage.get_prefs(this.user_session_rating);if((a==null||a===undefined)&&(parseInt(d)>0)){ClickDesk_Storage.set_prefs(this.user_session_rating,d);b.user_rate=d;c=false}a=ClickDesk_Storage.get_prefs(this.user_session_rating);if((a!=null&&a!==undefined)&&(parseInt(d)!=parseInt(a))&&(parseInt(d)!=0)){ClickDesk_Storage.set_prefs(this.user_session_rating,d);b.user_rate=d;c=false}if(!c){ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/userrating",b,function(g){clickdesk_log("Rating sent "+d)})}},delete_ui:function(){set_ui(0)},init:function(){try{var f=ClickDesk_DOM.wrap("#cd_user_rating a");for(var c=0;c<f.length;c++){var b=f[c];this.attach_event(b)}}catch(d){clickdesk_log(d)}try{var a=ClickDesk_Storage.get_prefs(this.user_session_rating);this.set_ui(a)}catch(g){}}};var CLICKDESK_ANOTHER_TAB_COOKIE_NAME="newTabSelect";var Clickdesk_Random_Value;function clickdesk_check_active_tab(){if(Clickdesk_Random_Value==ClickDesk_Storage.get_prefs(CLICKDESK_ANOTHER_TAB_COOKIE_NAME)){setTimeout("clickdesk_check_active_tab()",4000)}else{ClickDesk_DOM.remove(".clickdesk_cdw_j")}}function clickdesk_check_tab(){Clickdesk_Random_Value=Math.floor(Math.random()*100);ClickDesk_Storage.set_prefs(CLICKDESK_ANOTHER_TAB_COOKIE_NAME,Clickdesk_Random_Value);clickdesk_check_active_tab()}function initialize_check_active_tab(){cd_ie_browser_version=clickdesk_get_ie_version();if(ClickDesk_Window_Popout.is_window_in_popup()){return}clickdesk_check_tab()}var cd_ie_browser_version;function clickdesk_construct_script_node_from_string(d){var b=d.split("<\/script>");for(var c=0;c<b.length;c++){try{var f=b[c],a,h,j;f=f.replace(/<!--(.*?)-->/g,"");f=f.trim();h=f.substring(f.indexOf(">")+1);a=f.substring(0,f.indexOf(">"));j=a.split(" ")[1].split("=")[1].replace(/'/g,"").replace(/"/g,"");a=document.createElement("script");a.text=h;a.type="text/html";a.id=j;document.body.appendChild(a)}catch(g){clickdesk_log(g)}}return"<div></div>"}function clickdesk_hide_or_display_time_on_hover(b,a){if(true){return false}}var ClickDesk_DOM={alias_jquey_variable:"",create_element:function(a,d,b){var c;if(a){c=document.createElement(a);if(d){c.setAttribute("id",d)}if(b){c.className=b}}return c},wrap:function(b){try{try{var f=(jQuery!==undefined)?jQuery:this.get_jQuery_alias_variable();var a=f(b);if(!a){throw"Invalid jQuery"}return a}catch(d){if(typeof(window.MooTools)=="object"){return $$(b)}else{return snack.wrap(b)}}}catch(c){clickdesk_log("clickdeskWrap = "+c)}},has_class:function(b,a){var d;if(b.charAt("0")=="#"){d=this.wrap(b)}else{d=this.wrap("."+b)}var c=false;snack.each(d,function(g){var f=new RegExp("(^| )"+a+"( |$)");if(f.test(g.className)){c=true}});return c},find_and_remove:function(h,f){try{var c=this.wrap("#"+h)[0];if(!this.is_valid_element(c)||!c.childNodes){return false}for(var b=0;b<c.childNodes.length;b++){var g=c.childNodes[b].className;if(!g){continue}g=g.split(" ");for(var a=0;a<g.length;a++){if(!g[a]||g[a]!=f){continue}c.childNodes[b].parentNode.removeChild(c.childNodes[b])}}}catch(d){clickdesk_log("find_and_remove clickdesk_find_and_remove_element = "+d)}},find_inner_element:function(d,k){try{var a=d.childNodes;for(var f=0;f<a.length;f++){var l=a[f];if(l.id&&l.id==k){return l}var g=l.childNodes;for(var c=0;c<g.length;c++){var h=g[c];if(h.id&&h.id==k){return h}}}}catch(b){clickdesk_log("find_inner_element clickdesk_find_and_remove_element = "+b)}},remove:function(d){if(!d){return false}var b=this.wrap(d);for(var a=0;a<b.length;a++){try{document.body.removeChild(b[a])}catch(c){}}},remove_child_elements:function(b,a){try{b=b.parentNode;while(b){if(b.className.indexOf(a)!=-1){break}b=b.parentNode}b.parentNode.removeChild(b)}catch(c){}},set_style_by_id:function(b,a){try{var d=this.wrap("#"+b)[0];this.set_style_by_object(d,a)}catch(c){}},set_style_by_object:function(d,a){try{if(!this.is_valid_element(d)){return false}for(var c in a){if(a[c].indexOf("!important")==-1){d.style[c]=a[c]}else{d.style.cssText=c+":"+a[c]}}}catch(b){}},is_valid_node:function(a){return(this.wrap("#"+a)[0]!==undefined)},is_valid_element:function(a){if(a!=null&&a!==undefined){return true}else{return false}},get_jQuery_alias_variable:function(){try{if(this.alias_jquey_variable){return this.alias_jquey_variable}if(jQuery){this.alias_jquey_variable=jQuery;return this.alias_jquey_variable}for(var b in window){var a=window[b];b=(b)?b.toLowerCase():b;if(b&&b.indexOf("clickdesk")!=-1){continue}if(b=="document"||!a||typeof a=="string"||a instanceof Array){continue}if(a&&typeof a=="function"&&typeof a.noConflict=="function"){this.alias_jquey_variable=b;return this.alias_jquey_variable}if(a&&typeof a=="object"){for(var c in a){var f=a[c];if(f&&typeof f=="function"&&typeof f.noConflict=="function"){this.alias_jquey_variable=a[c];return this.alias_jquey_variable}}}}}catch(d){}return this.alias_jquey_variable},attach_event:function(b,a,g){try{try{var f=(jQuery!==undefined)?jQuery:this.get_jQuery_alias_variable();f(b).unbind().bind(a,function(h){if(g!==undefined&&g!=null){g(h)}})}catch(d){if(typeof(window.MooTools)=="object"){$$(b).addEvent(a,function(h){if(g!==undefined&&g!=null){g(h)}})}else{snack.wrap(b).attach(a,function(h){if(g!==undefined&&g!=null){g(h)}})}}}catch(c){clickdesk_log("attachEvent ="+c)}},fire_event:function(c,a){if(!c||!a){return}var d=c;if(document.createEvent){var b=document.createEvent("MouseEvents");b.initEvent(a,true,false);d.dispatchEvent(b)}else{if(document.createEventObject){var b=document.createEventObject();d.fireEvent("on"+a,b)}}},fill_values_into_input_fields:function(b,f){try{var d=this.wrap("#clickdesk_popup input[type="+b+"]");for(var a=0;a<d.length;a++){d[a].value=f}}catch(c){clickdesk_log("Api error = "+c)}},cancel_event:function(b){var a=b||window.event||{};a.cancelBubble=true;a.returnValue=false;a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();return false},stop_event:function(b){var a=b||window.event||{};if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},prevent_default_nature:function(a){a=a||window.event;if(a&&a.preventDefault){a.preventDefault()}else{a.returnValue=false}},add_class:function(h,g){try{var c=ClickDesk_DOM.wrap("."+h);for(var a=0;a<c.length;a++){var b=c[a];var f=b.className;f=f.replace(g,"");b.className=f+" "+g}}catch(d){}},remove_class:function(f,d){try{var b=ClickDesk_DOM.wrap("."+f);for(var a=0;a<b.length;a++){b[a].className=b[a].className.replace(d,"")}}catch(c){}},};var ClickDesk_JS_Plugin={evaluate_variable:function(exp){try{var variable_value=eval(exp);if(!variable_value){return null}return variable_value}catch(err){}return null},get_plugin_data:function(){var a={};var c=false;var g=widgetPrefsJSON.javascript_plugin_prefs;if(!g){return a}var d={};for(var f in g){if(!f||f.indexOf("_name")==-1||!this.is_valid(f)){continue}var b=g[f.replace("_name","_value")];if(!this.is_valid(b)){continue}d[f]=g[f];d[f.replace("_name","_value")]=this.evaluate_variable(g[f.replace("_name","_value")]);c=true}if(c){a.jsplugin=d}return a},assign_value_to_field:function(f,g){if(!this.is_valid(g)){return false}var b=ClickDesk_DOM.wrap("#clickdesk_popup input");for(var d=0;d<b.length;d++){var c=b[d];if(b[d].type=="submit"||b[d].type=="button"){continue}var a=ClickDesk_Globals.default_place_holders[c.id];if(!a){continue}a=a.replace(/ /g,"");if(a==g){b[d].value=this.evaluate_variable(g)}}},show_variable_values:function(){var b=widgetPrefsJSON.javascript_plugin_prefs;if(!b){return false}for(var a in b){if(a.indexOf("_value")!=-1){this.assign_value_to_field(b,b[a])}}},is_valid:function(a){return(a&&a.length>0)}};function clickdesk_enable_console_logging(){var a=true;if(typeof console==="undefined"||!a){console={log:function(){}}}if(typeof(console.log)==="undefined"||!a){console.log=function(){return 0}}}function clickdesk_log(c){var b=_glc.debug;if(b){try{console.log(c)}catch(a){}}}(function(){clickdesk_enable_console_logging()})();function clickdesk_check_default(a){if(a.value==ClickDesk_Globals.default_place_holders[a.id]){a.value=""}}function clickdesk_set_default(a){if(a.value==""&&!isNaN(cd_ie_browser_version)&&cd_ie_browser_version>5&&cd_ie_browser_version<10){a.value=ClickDesk_Globals.default_place_holders[a.id]}}function clickdesk_on_focus(a){a.onfocus=function(){clickdesk_check_default(a)};a.onblur=function(){clickdesk_set_default(a)}}function clickdesk_init_placeholders(){var b=ClickDesk_DOM.wrap("#clickdesk_popup input");for(var d=0;d<b.length;d++){var c=b[d];if(c.type=="button"||c.type=="submit"){continue}var g=c.value;var f=get_element_placeholder_attr(c);if(f){g=f}ClickDesk_Globals.default_place_holders[c.id]=g;clickdesk_on_focus(c)}var a=ClickDesk_DOM.wrap("#clickdesk_popup textarea");for(var d=0;d<a.length;d++){var c=a[d];var g=c.value;var f=get_element_placeholder_attr(c);if(f){g=f}ClickDesk_Globals.default_place_holders[c.id]=g;clickdesk_on_focus(c)}}function get_element_placeholder_attr(a){return(a.placeholder)?a.placeholder:(a.getAttribute("placeholder")?a.getAttribute("placeholder"):"")}var ClickDesk_Storage={get_prefs:function(a){var b=this.read_cookie(a);if(!b&&typeof(localStorage)){try{b=localStorage.getItem(ClickDesk_Widget_Util.widget_id+"-"+a)}catch(c){}}return b},prefs_encode:function(b){try{b=JSON.parse(b);if(b instanceof Array){for(var a=0;a<b.length;a++){b[a]=Cd_Xss_Util.escape_json_values(b[a])}}else{if(typeof b=="object"){return CLICKDESK_CHAT_WINDOW_UI.stringify(Cd_Xss_Util.escape_json_values(b))}}return CLICKDESK_CHAT_WINDOW_UI.stringify(b)}catch(c){return Cd_Xss_Util.escape_html(b)}return b},set_prefs:function(a,b,d){if(!d&&typeof(localStorage)){try{localStorage.setItem(ClickDesk_Widget_Util.widget_id+"-"+a,b)}catch(c){ClickDesk_Storage.create_cookie(a,b,d)}}else{ClickDesk_Storage.create_cookie(a,b,d)}},delete_prefs:function(a){if(typeof(localStorage)){try{localStorage.removeItem(ClickDesk_Widget_Util.widget_id+"-"+a)}catch(b){}}this.erase_cookie(a)},create_cookie:function(c,d,f){c=ClickDesk_Widget_Util.widget_id+"-"+c;c=this.get_cookie_name(c);c=encodeURIComponent(c);if(f){var b=new Date();b.setTime(b.getTime()+(f*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+escape(d)+a+"; path=/"},read_cookie:function(b){try{b=ClickDesk_Widget_Util.widget_id+"-"+b;b=this.get_cookie_name(b);b=encodeURIComponent(b);var g=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var h=a[d];while(h.charAt(0)==" "){h=h.substring(1,h.length)}if(h.indexOf(g)==0){return unescape(h.substring(g.length,h.length))}}}catch(f){}return null},erase_cookie:function(a){ClickDesk_Storage.create_cookie(a,"",-1)},get_cookie_name:function(a){return a.replace("ag9jb250YWN0dXN3aWRnZX","").replace("ag9zfmNsaWNrZGVza2NoYX","")}};var ClickDesk_Smilies={emotions:{":)":"cd-Smile",":D":"cd-Laugh","B-)":"cd-Cool",":C":"cd-Counter",";)":"cd-Wink",":P":"cd-Cheeky","(:L":"cd-Sweating",";(":"cd-Crying","X-(":"cd-Angry",":G":"cd-Giggle",":F":"cd-Allforyou","L-(":"cd-Hmm",":H":"cd-Heart","(*)":"cd-Star","(Y)":"cd-Yes","(N)":"cd-No"},attach_events:function(a){if(!a){return}try{a.onmouseover=function(c){try{ClickDesk_Smilies.set_image(a,c)}catch(d){clickdesk_log("smily hover error = "+d)}};a.onclick=function(c){try{ClickDesk_Smilies.set_image(a,c,"clicked")}catch(d){clickdesk_log("smily click error = "+d)}}}catch(b){}},handle_click:function(b){b=b||event;var a=b.srcElement||b.target||element.toElement;if(!a){ClickDesk_Smilies.hide();return false}if(a.id=="cd_smile"){return false}ClickDesk_Smilies.hide()},hide:function(){try{ClickDesk_DOM.set_style_by_id("clickdesk_smilediv",{display:"none"});ClickDesk_DOM.wrap("#cd_smile")[0].className="sprite-icons-icon-smiley"}catch(a){}},set_image:function(c,g,h){if(!c){return false}var a="";var f=c.className;if(!f){return false}f=f.replace("cd-smiley-container","").trim();for(var b in ClickDesk_Smilies.emotions){if(ClickDesk_Smilies.emotions[b]==f){a=b;break}}ClickDesk_DOM.wrap("#cd_set_smilyName")[0].innerHTML=f.replace("cd-","");ClickDesk_DOM.wrap("#cd_set_smilySymbol")[0].innerHTML=a;if(!h){return false}var d=ClickDesk_DOM.wrap("#broadcastchat")[0].getAttribute("disabled");if(d!=null&&d.length>0){return false}ClickDesk_DOM.set_style_by_id("clickdesk_smilediv",{display:"none"});ClickDesk_DOM.wrap("#cd_smile")[0].className="sprite-icons-icon-smiley";ClickDesk_DOM.wrap("#broadcastchat")[0].focus();var j=ClickDesk_DOM.wrap("#broadcastchat")[0].value;if(a&&j!=ClickDesk_Globals.default_place_holders.broadcastchat){j=j+a}else{j=a}ClickDesk_DOM.wrap("#broadcastchat")[0].value=j},convert_emotions:function(f){var c=[],b=/[[\]{}()*+?.\\|^$\-,&#\s]/gi;try{for(var a in ClickDesk_Smilies.emotions){if(ClickDesk_Smilies.emotions.hasOwnProperty(a)){c.push("("+a.replace(b,"\\$&")+")")}}return f.replace(new RegExp(c.join("|"),"gi"),function(g){g=(g===undefined)?g:g.toUpperCase();return typeof ClickDesk_Smilies.emotions[g]!="undefined"?'<span class="cd-smiley-container '+ClickDesk_Smilies.emotions[g]+'" title="'+ClickDesk_Smilies.emotions[g].replace("cd-","")+" "+g+'" style="vertical-align: middle!important;float:none!important;"></span>':g})}catch(d){}return f},init:function(){try{ClickDesk_DOM.attach_event("#cd_smile","click",function(h){h.returnValue=false;try{var d=ClickDesk_DOM.wrap("#clickdesk_smilediv")[0];var f=d.style.display;f=(!f||f=="block")?"none":"block";d.style.display=f;ClickDesk_DOM.wrap("#cd_smile")[0].className="sprite-icons-icon-smiley"}catch(g){clickdesk_log("err = "+g)}});try{document.body.onclick=ClickDesk_Smilies.handle_click}catch(c){}var b=ClickDesk_DOM.wrap("#clickdesk_smilediv span");for(var a=0;a<b.length;a++){ClickDesk_Smilies.attach_events(b[a])}}catch(c){}},};var ClickDesk_Sounds={default_sound_file:"https://d1gwclp1pmzk26.cloudfront.net/clickdeskcdn/sounds/sound.mp3",is_volume_enable_by_visitor:true,get_sound_file:function(b){var a=this.default_sound_file;var c=widgetPrefsJSON.message_sounds;if(b=="in"){a=(c&&c.chat_message_in)?c.chat_message_in:a}else{if(b=="out"){a=(c&&c.chat_message_out)?c.chat_message_out:a}}return a},play_recv:function(){if(this.is_volume_enable_by_visitor){this.play_sound(this.get_sound_file("in"))}},play_send:function(a){if(!this.is_volume_enable_by_visitor||(a&&a=="no")){return false}var b;b=a;b=(b)?b:this.get_sound_file("out");this.play_sound(b)},play_sound:function(c){if(!this.is_volume_enable_by_visitor){return false}if(c&&c=="no"){return false}var a=(c.indexOf("http")==0)?c:ClickDesk_CloudFront_URL+"/clickdeskcdn/sounds/"+((c)?c:"sound")+".mp3";try{new Audio(a).play()}catch(b){this.play_with_flash(a)}},play_with_flash:function(a){try{if(isNaN(cd_ie_browser_version)||Number(cd_ie_browser_version)<=9){return}if(!FlashDetect.installed||(BrowserDetect.browser=="Firefox"&&BrowserDetect.version<3.6)){return}document.getElementById("cd_clickdesk_play_sound").innerHTML=this.get_object_src(a)}catch(b){clickdesk_log("clickdesk_play_sound in flash :"+b)}},get_object_src:function(a){return'<object width="0" height="0"><param name="src" value="'+a+'"><param name="autoplay" value="true"><param name="autostart" value="true"><param name="controller" value="true"><embed src="'+a+'" controller="true" autoplay="true" autostart="True" type="audio/mp3" /></object>'},init:function(){ClickDesk_DOM.attach_event("#cd_voice","click",function(b){try{b.returnValue=false;ClickDesk_Sounds.is_volume_enable_by_visitor=ClickDesk_DOM.has_class("#cd_voice","sprite-icons-mute");ClickDesk_Sounds.set_icon()}catch(a){clickdesk_log("err = "+a)}})},set_icon:function(){if(!ClickDesk_Sounds.is_volume_enable_by_visitor){ClickDesk_DOM.wrap("#cd_voice").removeClass("sprite-icons-icon-first").addClass("sprite-icons-mute")}else{ClickDesk_DOM.wrap("#cd_voice").removeClass("sprite-icons-mute").addClass("sprite-icons-icon-first")}}};var ClickDesk_Visitor_Info={visitor_info:"",referrer:"clickdesk_referrer",client_details:"cd_client_details",getGeoPrefs:function(a){this.visitor_info=widgetPrefsJSON.visitor_geo;visitor_info=this.visitor_info;return(!visitor_info[a])?this.get_unknown_info():visitor_info[a]},get_visitor_info:function(d){var c={};c.browser=BrowserDetect.browser;c.browser_version=BrowserDetect.version;c.os=BrowserDetect.OS;c.city=this.getGeoPrefs("city");c.country=this.getGeoPrefs("country");c.country_code=this.getGeoPrefs("country_code");c.region=this.getGeoPrefs("region");c.latitude=this.getGeoPrefs("latitude");c.longitude=this.getGeoPrefs("longitude");var b=document.location.href;if(b){c.url=encodeURIComponent(b)}var a=document.title;if(a){a=(a.length>100)?a.substring(0,100):a;c.page_title=encodeURIComponent(a)}c.is_blob_supported=Cd_Add_Wesite_Screenshot.is_blob_supported();c.is_mobile_browser=ClickDesk_Mobile_Util.is_mobile_browser();var g=this.get_referrer_link();if(!g){g=document.referrer}g=(!g)?"":g;c.referrer=encodeURIComponent(g);c.visitor_pubnub_token=ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();c.plugins=ClickDesk_JS_Plugin.get_plugin_data();try{c.webrtc_supported=ClickDesk_Call.browser_has_call_support()}catch(f){}if(ClickDesk_Globals.forced_chat_agent_id){c.forced_chat_agent_id=ClickDesk_Globals.forced_chat_agent_id}if(ClickDesk_Globals.forced_chat_messages&&ClickDesk_Globals.forced_chat_messages.length>0){c.forced_chat_messages=ClickDesk_Globals.forced_chat_messages}return JSON.stringify(c)},get_referrer_link:function(){var a=ClickDesk_Storage.get_prefs(this.referrer);clickdesk_log("referrer = "+a);if(a){return a}var b=document.referrer;if(!b||b==""){return null}if(b.length>100){b=b.substring(0,100)}ClickDesk_Storage.create_cookie(this.referrer,b);return ClickDesk_Storage.get_prefs(this.referrer)},get_unknown_info:function(){return"unknown"}};function clickdesk_co_browse_url(ele,command){ClickDesk_DOM.remove_child_elements(ele,"cd_rewrite");if(command=="accept"){return}var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON){return}var sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);var json={};json.session_id=sessionId;json.user_message="[Visitor has declined to open the link you have sent.]";ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/chat/announcement-to-agent",json,function(response){clickdesk_log("Text sent "+response)})}var ClickDesk_Dragger={dragging:false,drager_enabled:false,iframeMouseOver:false,setup_dragger_handler:function(){try{var f=document.getElementById("clickdesk_popup");var d=ClickDesk_DOM.wrap(".ClickDesk_Dragger");for(var b=0;b<d.length;b++){var a=d[b];if(!a){continue}a.onmousedown=function(g){ClickDesk_DOM.prevent_default_nature(g);ClickDesk_Dragger.dragging=true;ClickDesk_Dragger.drager_enabled=true;if(document.getElementById&&!document.all){ClickDesk_Dragger.dragFromX=g.pageX;ClickDesk_Dragger.dragFromY=g.pageY}else{ClickDesk_Dragger.dragFromX=g.clientX;ClickDesk_Dragger.dragFromY=g.clientY}}}document.onmouseup=function(g){ClickDesk_Dragger.dragging=false};document.onmousemove=function(h){if(ClickDesk_Dragger.dragging){ClickDesk_DOM.prevent_default_nature(h);var g=clickdesk_get_ie_version();if(!h.which&&!(g&&g<9)){ClickDesk_Dragger.dragging=false}var k=0,j=0;if(document.getElementById&&!document.all){k=(f.offsetLeft-10)+h.pageX-ClickDesk_Dragger.dragFromX;j=f.offsetTop+h.pageY-ClickDesk_Dragger.dragFromY;ClickDesk_Dragger.dragFromX=h.pageX;ClickDesk_Dragger.dragFromY=h.pageY}else{k=(f.offsetLeft-10)+h.clientX-ClickDesk_Dragger.dragFromX;j=f.offsetTop+h.clientY-ClickDesk_Dragger.dragFromY;ClickDesk_Dragger.dragFromX=h.clientX;ClickDesk_Dragger.dragFromY=h.clientY}ClickDesk_Dragger.moveWindow(k,j);return !1}}}catch(c){clickdesk_log(c)}},moveWindow:function(g,f){try{var a=document.getElementById("clickdesk_popup");var b=widgetPrefsJSON.template_prefs.template,c=0;c=(b=="ultra_theme")?"20":((b=="webrtc_theme")?"35":((b=="lighten_theme")?"10":c));0>g&&(g=0);g>this.getWindowWidth()-a.offsetWidth-20&&(g=this.getWindowWidth()-a.offsetWidth-20);0+c>f&&(f=0+c);f>this.getWindowHeight()-a.offsetHeight&&(f=this.getWindowHeight()-a.offsetHeight);0+c>f&&(f=0+c);a.style.left=g+"px";a.style.top=f+"px";a.style.bottom="auto"}catch(d){}},getWindowWidth:function(){var a=0;window.innerWidth?a=window.innerWidth:self.innerWidth?a=self.innerWidth:document.documentElement&&document.documentElement.clientWidth?a=document.documentElement.clientWidth:document.body&&(a=document.body.clientWidth);return a},getWindowHeight:function(){var a=0;window.innerHeight?a=window.innerHeight:self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight);return a},setDraggerPosition:function(d){try{var b=widgetPrefsJSON.template_prefs.template;if(b=="lighten_theme"||b.indexOf("minimalistic")>=0){return}try{var a=ClickDesk_DOM.wrap("#ClickDesk_Dragger")[0].style.height.replace("px","")}catch(c){var a=10}a=(a&&ClickDesk_DOM.wrap("#clickdesk_header")[0].offsetHeight<20)?a:ClickDesk_DOM.wrap("#clickdesk_header")[0].offsetHeight;d&&(a=a-30);ClickDesk_DOM.set_style_by_id("ClickDesk_Dragger",{height:(a)+"px"})}catch(f){}},setWindowTopPosition:function(){try{if(!this.drager_enabled){return}var b=document.getElementById("clickdesk_popup");var a=b.style.top.replace("px","");a>ClickDesk_Dragger.getWindowHeight()-b.offsetHeight&&(a=ClickDesk_Dragger.getWindowHeight()-b.offsetHeight);b.style.top=a+"px"}catch(c){}}};var ClickDesk_File_Upload={uploaded_file_size:0,uploaded_file_count:0,uploaded_success_file_count:0,upload_file:function(a){var b=a.files;if(!b){file=[];file.push({name:a.value.substring(a.value.lastIndexOf("\\")+1),size:0,type:a.value.substring(a.value.lastIndexOf(".")+1)})}clickdesk_log("file");clickdesk_log(b);this.construct_form(b);a.value=""},construct_form:function(d){if(!d||d.length==0){return}this.uploaded_file_size=0;for(var c=0;d.length>c;c++){var b=d[c];if(!b||!b.name){continue}if(!b.size){ClickDesk_Chat_Window_Util.append_message("Sorry, File size not detected. Please use a different browser.",ClickDesk_Globals.visitor_name,"","warning");continue}var g=b.name;var f=g.split(".").pop();if(!f||f.indexOf("exe")==0){ClickDesk_Chat_Window_Util.append_message("Sorry, you cannot send such files.",ClickDesk_Globals.visitor_name,"","warning");continue}if(b.size<100){ClickDesk_Chat_Window_Util.append_message("Sorry, file size should be atleast 100 bytes.",ClickDesk_Globals.visitor_name,"","warning");continue}if(b.size>5242880){ClickDesk_Chat_Window_Util.append_message("Sorry, you cannot send files larger than 5 MB.",ClickDesk_Globals.visitor_name,"","warning");continue}this.uploaded_file_size+=1;this.uploaded_file_count+=1;b.file_resource="cd-uploaded-files/"+new Date().getTime()+"-"+g.replace(/ /g,"");this.toggle_uploading_image("inline-block");var a=this.construct_form_data(b);a.append("file",b);this.upload_to_amazon(a,b)}},construct_form_data:function(b){var a=new FormData();a.append("key",b.file_resource);a.append("acl","public-read");a.append("AWSAccessKeyId","AKIA6MFDOFPITRNCUDAF");a.append("policy","ewogICJleHBpcmF0aW9uIjogIjIwNDAtMDEtMDFUMTI6MDA6MDAuMDAwWiIsCiAgImNvbmRpdGlvbnMiOiBbCiAgICB7ImJ1Y2tldCI6ICJhZ2lsZWNybSIgfSwKICAgIHsiYWNsIjogInB1YmxpYy1yZWFkIiB9LAogICAgWyJzdGFydHMtd2l0aCIsICIka2V5IiwgImNkLXVwbG9hZGVkLWZpbGVzLyJdCiAgXQp9Cg==");a.append("signature","p5NFrb+fi9Qx55oLQiLeJJUSEUc=");return a},upload_to_amazon:function(c,a){var b=new window.XMLHttpRequest();b.upload.addEventListener("progress",function(d){ClickDesk_File_Upload.progress(d,a)},false);b.addEventListener("load",function(d){ClickDesk_File_Upload.complete(d,a)},false);b.addEventListener("error",function(d){ClickDesk_File_Upload.failed(d,a)},false);b.addEventListener("abort",function(d){ClickDesk_File_Upload.canceled(d,a)},false);b.open("POST","https://agilecrm.s3.amazonaws.com/",true);b.send(c)},progress:function(a,b){if(a.lengthComputable){var c=Math.round(a.loaded*100/a.total)}else{}},complete:function(a,b){if(!b||!b.file_resource){return}var c={};c.file_url="https://s3.amazonaws.com/agilecrm/"+b.file_resource;c.file_name=b.name;c.file_size=this.get_file_size(b.size);c.file_extension=b.name.split(".").pop();if(b.success_callback){return Cd_Add_Wesite_Screenshot.amazon_callback(b,c)}ClickDesk_Message_Util.send_message(c,ClickDesk_Globals.visitor_name);this.check_uploaded_count();ClickDesk_GA.trigger_event("file_upload","-")},failed:function(a,b){var c="There was an error attempting to upload the file.";if(b.success_callback){Cd_Add_Wesite_Screenshot.amazon_callback(b,c)}else{ClickDesk_Chat_Window_Util.append_message(c,ClickDesk_Globals.visitor_name,"","warning")}this.check_uploaded_count()},canceled:function(a,b){var c="The upload has been canceled by the user or the browser dropped the connection.";if(b.success_callback){Cd_Add_Wesite_Screenshot.amazon_callback(b,c)}else{ClickDesk_Chat_Window_Util.append_message(c,ClickDesk_Globals.visitor_name,"","warning")}this.check_uploaded_count()},check_uploaded_count:function(){if(this.uploaded_file_size>0){this.uploaded_file_size-=1}if(this.uploaded_success_file_count<this.uploaded_file_count){this.uploaded_success_file_count+=1}if(this.uploaded_file_size<=0&&this.uploaded_success_file_count>=this.uploaded_file_count){this.toggle_uploading_image("none")}clickdesk_log("uploaded_success_file_count = "+this.uploaded_success_file_count+", uploaded_file_count = "+this.uploaded_file_count)},toggle_uploading_image:function(b){var a=ClickDesk_DOM.wrap("#cd_file_upload_process")[0];if(a&&b!="none"){a=(a.tagName.toLowerCase()!="img")?ClickDesk_DOM.wrap("#cd_file_upload_process img")[0]:a;var d=(ClickDesk_Widget_Util.get_user_template().indexOf("webrtc")==-1)?"https://my.clickdesk.com/img/21-0.gif":"https://my.clickdesk.com/clickdesk-ui/browser/img/file_upload.gif";a.src=d}ClickDesk_DOM.set_style_by_id("cd_file_upload_process",{display:b});try{if(b=="none"){ClickDesk_DOM.set_style_by_id("clickdesk_popout_footer_options",{display:b})}}catch(c){}},get_file_size:function(a){if(!a){return""}if(a<1024){return a+"Bytes"}else{if(a<1024*1024){return this.trim_file_size(a/1024)+"KB"}else{return this.trim_file_size(a/(1024*1024))+"MB"}}},trim_file_size:function(a){return Math.round(a*100)/100}};function clickdesk_is_browser_support_fixed_css(b){b=(!b)?"fixed":b;var c=document.createElement("div");c.id="testingPositionFixed";var a=(b=="fixed")?{position:"fixed",top:"0px",right:"0px"}:{width:"auto"};ClickDesk_DOM.set_style_by_object(c,a);document.body.appendChild(c);var d=1;if(b=="fixed"&&typeof c.offsetTop=="number"&&c.offsetTop!=null&&c.offsetTop!="undefined"){d=parseInt(c.offsetTop)}else{if(typeof c.clientWidth=="number"&&c.clientWidth!=null&&c.clientWidth!="undefined"){d=parseInt(c.clientWidth)}}if(d==0){return true}return false}function clickdesk_check_doctype_in_ie(){if(isNaN(cd_ie_browser_version)||cd_ie_browser_version<=5){return false}if(cd_ie_browser_version==7||clickdesk_is_browser_support_fixed_css("width")){ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap(".clickdesk_bubble")[0],{width:"260px",maxWidth:"280px"})}if(cd_ie_browser_version>6&&clickdesk_is_browser_support_fixed_css()){return false}var b=widgetPrefsJSON.template_prefs.position;if(!b){return false}ClickDesk_DOM.wrap(".clickdesk_bubble").addClass("clickdesk-fixed-"+b.split("_")[0]+" clickdesk-fixed-"+b.split("_")[1]);ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap(".clickdesk_bubble")[0],{width:"260px",maxWidth:"280px"});ClickDesk_DOM.wrap("#clickdesk_container").addClass("clickdesk-fixed-bottom clickdesk-fixed-"+b.split("_")[1]);var a=widgetPrefsJSON.button_prefs.alignment;ClickDesk_DOM.wrap(".clickdesk_tool").addClass("clickdesk-fixed-"+a)}function clickdesk_get_ie_version(){var b=window.navigator&&window.navigator.appVersion.split("MSIE");if(parseFloat(b[1])){return parseFloat(b[1])}var a=navigator.userAgent.match(/Trident.*rv[ :]*11\./);if(a){return a}return null}var ClickDesk_Iframe_Submit={submit:function(d,g){console.log(d);console.log(g);var h=this.insert_and_get_frame_id();var f=document.getElementById(h);var c=(f.contentDocument)?f.contentDocument:f.contentWindow.document;c.open();c.appendChild(this.get_form_html(d,g));this.deserialize_from(c,g);c.close();var b=document.getElementById(h);var a=(b.contentWindow||b.contentDocument);if(a.document){a=a.document}if(d.indexOf("postchat-survey-feedback")>-1){a.getElementById("mybutton").name="submit111";a.getElementById("clickdesk_frame_form").submit();a.getElementById("mybutton").name="submit"}else{a.getElementById("mybutton").click()}},insert_and_get_frame_id:function(){var b="clickdesk_"+new Date().getTime();var a=document.createElement("iframe");a.id=b;a.setAttribute("src","javascript:void(0)");a.style.display="none";a.style.height="0px";a.style.width="0px";document.body.appendChild(a);return b},deserialize_from:function(c,g){var f=c.body||c;var d=f.getElementById("clickdesk_frame_form");var a=d.getElementsByTagName("textarea");for(var b=0;b<a.length;b++){a[b].value=g[a[b].name]}},get_form_html:function(b,f){var d={};d.url=b;var a=[];for(var c in f){a.push({name:c})}d.keys=a;return ClickDesk_Handlebars.get_template("clickdesk-iframe-form",d)}};var JSON=JSON||{};JSON.parse=JSON.parse||function(str){if(str===""){str='""'}eval("var p="+str+";");return p};JSON.stringify=JSON.stringify||function(f){var d=typeof(f);if(d!="object"||f===null){if(d=="string"){f='"'+f+'"'}return String(f)}else{var g,b,c=[],a=(f&&f.constructor==Array);for(g in f){b=f[g];d=typeof(b);if(d=="string"){b='"'+b+'"'}else{if(d=="object"&&b!==null){b=JSON.stringify(b)}}c.push((a?"":'"'+g+'":')+String(b))}return(a?"[":"{")+String(c)+(a?"]":"}")}};var ClickDesk_JSONP={construct_callback_request:function(c,a){if(c){c.callback="?"}var f="";for(var b in c){var d=c[b];if(d&&typeof d!="string"){continue}d=(b=="callback")?d:encodeURIComponent(d);f+=b+"="+d+"&"}a=((a.indexOf("?")==-1)?a+"?":a+"&")+f;return((a.lastIndexOf("&")!=a.length-1)?a:a.slice(0,a.length-1))},send_request:function(a,b,d,c){if(c){this.iframe_submit(a,b,d);return}var a=this.construct_callback_request(b,a);this.send_JSONP_Request(a,function(f){clickdesk_log(f);if(d){d(f)}})},send_JSONP_Request:function(a,c){var b="json"+(Math.random()*100).toString().replace(/\./g,"");window[b]=function(d){c&&c(d)};document.getElementsByTagName("body")[0].appendChild((function(){var d=document.createElement("script");d.type="text/javascript";d.src=a.replace("callback=?","callback="+b);return d})())},resend_req:function(a){a=a.replace("clickdesk_request_sending","").replace("clickdesk_request_failed","").replace("clickdesk_request_progress","");a=a.trim();if(a.indexOf("_")!=0){a="_"+a}if(a===undefined||!this.jsonp_urls[a]){return}var c=this.jsonp_urls[a];if(c.url.indexOf("/startbroadcast")!=-1&&ClickDesk_Widget_Session.sent_session_request_count){c.params.duplicate_request="true"}ClickDesk_JSONP_Tips.jsonp(c.url,c.params,function d(f){},function b(f){},c.callback_id)},iframe_submit:function(a,c,d){try{ClickDesk_Iframe_Submit.submit(a,c)}catch(b){console.info(b)}if(d){d()}},__callbackId:0,jsonp_urls:{}};var ClickDesk_JSONP_Tips=ClickDesk_JSONP_Tips||{};(function(a){var b=a.jsonp=function(d,o,n,j,g,l){if(g===undefined){g=ClickDesk_JSONP.__callbackId++}var m="_callback"+g;ClickDesk_JSONP.jsonp_urls[m]={url:d,params:o,callback_id:g};var c=ClickDesk_JSONP.construct_callback_request(o,d);c=c.replace("callback=?","callback=ClickDesk_JSONP_Tips.jsonp."+m);var f=m.replace("_","");b[m]=function(q){delete b[m];delete ClickDesk_JSONP.jsonp_urls[m];ClickDesk_DOM.remove_class(f,"clickdesk_request_sending");ClickDesk_DOM.remove_class(f,f);if(q.error){if(j){q.error.callback=m;j(q.error)}}else{n(q)}};var h=document.createElement("script");h.type="text/javascript";h.src=c;var k=document.getElementsByTagName("head")[0];k.insertBefore(h,k.firstChild);ClickDesk_DOM.remove_class(f,"clickdesk_request_failed");ClickDesk_DOM.add_class(f,"clickdesk_request_sending");l=l||8000;window.setTimeout(function(){if(typeof b[m]=="function"){b[m]=function(s){};try{var q=m.replace("_","");ClickDesk_DOM.remove_class(q,"clickdesk_request_sending");ClickDesk_DOM.add_class(q,"clickdesk_request_failed")}catch(r){}j({code:408,message:"Request Timeout",callback:m});window.setTimeout(function(){if(typeof b[m]=="function"){}},60000)}},l)}})(ClickDesk_JSONP_Tips);function clickdesk_resend_JSONP_request(){}var Cd_Xss_Util={is_valid_to_escape:function(a){if(a.indexOf("[Agent is inviting")!=-1||a.indexOf("[Agent has sent you a link")!=-1){return false}return true},escape_html:function(a){try{if(!this.is_valid_to_escape(a)){return a}a=a.replace(/&amp;/g,"&");return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}catch(b){}return a},escape_json_values:function(a){if(!a){return}for(key in a){a[key]=this.escape_html(a[key])}return a}};var Clickdesk_Facebook_Response=false;var Clickdesk_Facebook_Response_Counter=0;function clickdesk_get_user_facebook_likes(){var a=widgetPrefsJSON.social_network.facebook_url;a=a.replace("http://facebook.com/","");var c=widgetPrefsJSON.template_prefs.template;var d=(c=="cd_small_template"||c=="cd_small_image_template")?8:12;Clickdesk_Facebook_Response=false;Clickdesk_Facebook_Response_Counter=setTimeout("clickdesk_handle_social_tab_response_delay('facebook');",10000);var b={};ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/social_prefs/facebook",b,function(f){b={};b.command="facebook";b.access_token=f.response.access_token;ClickDesk_JSONP.send_request("https://graph.facebook.com/"+a,b,function(g){clearTimeout(Clickdesk_Facebook_Response_Counter);if(g.error){clickdesk_handle_social_tab_response_delay("facebook",g.error.message);Clickdesk_Facebook_Response=true;return false}Clickdesk_Facebook_Response=true;var h=(g.id!=null&&g.id!=undefined)?g.id:"";ClickDesk_DOM.wrap("#clickdeskchat_social_template iframe#cd_facebook_frame")[0].src=glcp+"www.facebook.com/plugins/fan.php?logobar=false&connections=8&id="+h})})}function clickdesk_show_browser_phone_option(f){var a="",b="";var d=true,c=true;if(f&&f.webrtc_video!==undefined&&f.webrtc_audio!==undefined){d=f.webrtc_video;c=f.webrtc_audio}clickdesk_show_call_option(d,c)}function clickdesk_toggle_webrtc_call_options(d,c){var a=ClickDesk_Globals.agent_json;if(!a||!ClickDesk_Call.browser_has_call_support()){c=false;d=false}if(widgetPrefsJSON.userid=="2rDk1z"||widgetPrefsJSON.userid=="22hxjr"){c=false;d=false}clickdesk_log("clickdesk_toggle_webrtc_call_options"+c+" : "+d);ClickDesk_DOM.set_style_by_id("clickdesk_video_call",{display:((d&&(d=="true"||d==true))?"block":"none")});ClickDesk_DOM.set_style_by_id("clickdesk_audio_call",{display:((c&&(c=="true"||c==true))?"block":"none")});var b="none";if((d&&(d=="true"||d==true))||(c&&(c=="true"||c==true))){b="block"}if(widgetPrefsJSON.userid=="2rDk1z"||widgetPrefsJSON.userid=="22hxjr"){b="none"}ClickDesk_DOM.set_style_by_id("cd_phone",{display:b})}function clickdesk_show_call_option(b,a){ClickDesk_DOM.set_style_by_id("cd_phone",{display:"block"});clickdesk_toggle_webrtc_call_options(b,a)}function clickdesk_hide_call_option(b,a){ClickDesk_DOM.set_style_by_id("cd_phone",{display:"none"});clickdesk_toggle_webrtc_call_options(b,a)}function clickdesk_process_visitor_action_on_agent_call_req(ele,command,type){if(!command){return}ClickDesk_DOM.remove_child_elements(ele,"cd_rewrite");if(command=="accepted"){clickdesk_check_permissions_for_audio_and_video(type,command);return}var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(sessionJSON==null){return}sessionId=eval("sessionJSON."+ClickDesk_Widget_Session.session_id);ClickDesk_Message_Util.send_chat(sessionId,"[Visitor declined call request.]")}function clickdesk_check_permissions_for_audio_and_video(audio_or_video,accepted_command){if(ClickDesk_Call.call_window){ClickDesk_Call.call_window.focus()}if(!ClickDesk_Call.browser_has_call_support()){ClickDesk_Call.show_call_error("Your browser/OS doesn't support this feature.");return}var sessionJSON=ClickDesk_Widget_Session.get_active_session();if(!sessionJSON||eval("sessionJSON."+ClickDesk_Widget_Session.session_id).indexOf("BD")==0){ClickDesk_Call.show_call_error();return false}ClickDesk_Globals.is_call_req_for_audio=audio_or_video;ClickDesk_Call.open_window(accepted_command);ClickDesk_Call.hide_error()}function clickdesk_filter_phone_call_option(){if(!ClickDesk_Globals.agent_json){return}var a=ClickDesk_Globals.agent_json;var c=a.webrtc_audio,b=a.webrtc_video;if((c===undefined&&b===undefined)||(b=="true"&&c=="true")){CLICKDESK_CHAT_WINDOW_UI.show_phone_window()}else{if(b=="true"){clickdesk_check_permissions_for_audio_and_video("video")}else{if(c=="true"){clickdesk_check_permissions_for_audio_and_video("audio")}}}}CLICKDESK_Live_Chat_Social={};CLICKDESK_Live_Chat_Social.twitterLogin=function(){var a=ClickDesk_Widget_Pusher_Visitor.get_channel()+ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();var b=window.open("https://my.clickdesk.com/cd_twitter.jsp?clickdesk-token="+a,"twitter","height=700,width=700,location=1");if(window.focus){b.focus()}return false};CLICKDESK_Live_Chat_Social.fbLogin=function(){var c=ClickDesk_Widget_Pusher_Visitor.get_channel()+ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();var f="575730259135499",a="https://beta2.clickdesk.com/cd_facebook_callback.jsp?clickdesk-token="+c;var b="https://www.facebook.com/dialog/oauth?client_id="+f+"&display=popup&scope=email&response_type=code&redirect_uri="+a;var d=window.open(b,"facebook","height=500,width=500,location=1");if(window.focus){d.focus()}return false};function clickdesk_popupLoginCallback(b,a){CLICKDESK_Live_Chat.setName(b);CLICKDESK_Live_Chat.setEmail(a)}var Clickdesk_Twitter_Response=false;var Clickdesk_Twitter_Response_Counter=0;function clickdesk_get_user_tweets(){var a=widgetPrefsJSON.social_network.twitter_url;var f=a.substring(a.lastIndexOf("/")+1);var c=glcp+"api.twitter.com/1/statuses/user_timeline.json";Clickdesk_Twitter_Response=false;Clickdesk_Twitter_Response_Counter=setTimeout("clickdesk_handle_social_tab_response_delay('twitter');",10000);var d=widgetPrefsJSON.social_network.twitter_token;if(!d){clickdesk_handle_social_tab_response_delay("twitter","Dear Admin, <br/><br/> Due to the recent API updates by twitter, you need to link your twitter account by logging in to the ClickDesk's dashboard.");return false}var b={};b.widget_id=ClickDesk_Widget_Util.widget_id;ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/social_prefs/twitter",b,function(g){Clickdesk_Twitter_Response=true;clearTimeout(Clickdesk_Twitter_Response_Counter);ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap("#clickdeskchat_social_template big")[0],{display:"none"});clickdesk_twitter_tweets_resp(g)})}function clickdesk_twitter_tweets_resp(h){clickdesk_log(h);var a=document.createElement("script");a.type="text/javascript";a.src="//platform.twitter.com/widgets.js";document.getElementsByTagName("body")[0].appendChild(a);var c=[];for(var g=0;g<h.length;g++){var f=h[g].user.screenName;var b="",d="";var k=h[g].retweetedStatus,j="";j=(k)?k:h[g];f=j.user.screenName;b=j.user.profileImageUrlHttps;d=h[g].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(m){m=m.replace("http://","https://");return'<a style="text-decoration: none;" target="_blank" href="'+m+'" >'+m+"</a>"}).replace(/\B@([_a-z0-9]+)/ig,function(m){return m.charAt(0)+'<a style="text-decoration: none;display:inline;" target="_blank" href="https://twitter.com/'+m.substring(1)+'"> '+m.substring(1)+"</a>"});c.push('<div class="tweetdiv" ><div class="tweetleft"><img src="'+b+'"/></div><div class="tweetright">'+d+'<a target="_blank" href="https://twitter.com/'+f+"/statuses/"+h[g].id+'"><div style="margin:0px;">'+clickdesk_relative_time(h[g].createdAt)+"</div></a></div></div>")}var l=(!ClickDesk_Window_Popout.is_window_in_popup())?"clickdesk_twitter":"clickdesk_twitter_popout";ClickDesk_DOM.wrap("#"+l)[0].innerHTML=c.join("")}function clickdesk_relative_time(c){c=new Date(c)+"";var b=c.split(" ");c=b[1]+" "+b[2]+", "+b[5]+" "+b[3];var a=Date.parse(c);var d=(arguments.length>1)?arguments[1]:new Date();var f=parseInt((d.getTime()-a)/1000);f=f+(d.getTimezoneOffset()*60);if(f<60){return"less than a minute ago"}else{if(f<120){return"about a minute ago"}else{if(f<(60*60)){return(parseInt(f/60)).toString()+" minutes ago"}else{if(f<(120*60)){return"about an hour ago"}else{if(f<(24*60*60)){return"about "+(parseInt(f/3600)).toString()+" hours ago"}else{if(f<(48*60*60)){return"1 day ago"}else{return(parseInt(f/86400)).toString()+" days ago"}}}}}}}var ClickDesk_Social_Tab_Ui={show_window:function(){ClickDesk_DOM.wrap("#clickdeskchat_social_template")[0].style.display=(!ClickDesk_Window_Popout.is_window_in_popup())?"block":"table-row";var b=(!ClickDesk_Window_Popout.is_window_in_popup())?"clickdesk_twitter":"clickdesk_twitter_popout";ClickDesk_DOM.wrap("#"+b)[0].innerHTML="";var a=ClickDesk_DOM.wrap("#clickdeskchat_social_template big img")[0];if(a){a.src="//my.clickdesk.com/clickdesk-ui/browser/images/loading-image.gif"}ClickDesk_DOM.wrap("#clickdeskchat_social_template big")[0].style.display="block"},hide_window:function(){ClickDesk_DOM.set_style_by_id("clickdeskchat_social_template",{display:"none"});ClickDesk_DOM.set_style_by_id("clickdesk_twitter",{display:"none"});ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap("#clickdeskchat_social_template big")[0],{display:"none"});ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap("#clickdeskchat_social_template iframe#cd_facebook_frame")[0],{display:"none"});ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap("#clickdeskchat_social_template iframe#cd_phone_frame")[0],{display:"none"})},show_social_network_details:function(d){CLICKDESK_CHAT_WINDOW_UI.show_window("");var f="",c="",b="",a="";if(d=="twitter"){a=widgetPrefsJSON.social_network.twitter_url;f=a.replace("http://twitter.com/","");c=ClickDesk_Globals.img_cloud_path+"/images/twitterLogo.png";this.update_header(f,c,true)}else{if(d=="facebook"){b=widgetPrefsJSON.social_network.facebook_url;f=b.replace("http://facebook.com/","");c=ClickDesk_Globals.img_cloud_path+"/images/facebookLogo.png";this.update_header(f,c,false)}else{if(d=="phone"){f="Call Us";c=ClickDesk_Globals.img_cloud_path+"/images/3-bg.png";this.update_header(f,c,false)}}}this.show_window()},show_social_network_tab:function(b){clickdesk_log(b);if(!b){return false}ClickDesk_DOM.wrap("#clickdesk_footer_tabs li").removeClass("ClickDeskActive");ClickDesk_DOM.wrap("#"+b)[0].parentNode.className="ClickDeskActive";if(b=="cd_twitter"){this.hide_window();this.show_social_network_details("twitter");setTimeout(function(){ClickDesk_Dragger.setDraggerPosition("twitter")},1000);ClickDesk_DOM.wrap("#clickdesk_twitter")[0].style.display="block";clickdesk_get_user_tweets();ClickDesk_GA.trigger_event("twitter","-");ClickDesk_Dragger.setWindowTopPosition()}else{if(b=="cd_chat"){var a=ClickDesk_Widget_Session.get_active_session();if(a||ClickDesk_Proactive_Handler.is_session_exists){CLICKDESK_CHAT_WINDOW_UI.show_chat_box()}else{if(widgetPrefsJSON.status=="offline"){CLICKDESK_CHAT_WINDOW_UI.show_offline_window()}else{CLICKDESK_CHAT_WINDOW_UI.show_prechat_window()}}}else{if(b=="cd_phone"){clickdesk_filter_phone_call_option()}else{if(b=="cd_facebook"){this.hide_window();this.show_social_network_details("facebook");ClickDesk_Dragger.setDraggerPosition();ClickDesk_DOM.wrap("#clickdeskchat_social_template iframe#cd_facebook_frame")[0].style.display="block";clickdesk_get_user_facebook_likes();ClickDesk_GA.trigger_event("facebook","-");ClickDesk_Dragger.setWindowTopPosition()}else{if(b=="cd_youtube"){Push2Call.show()}else{if(b=="cd_helpdesk"){CLICKDESK_CHAT_WINDOW_UI.show_helpdesk_window();ClickDesk_GA.trigger_event("helpdesk","-")}}}}}}},update_header:function(c,g,b){ClickDesk_DOM.set_style_by_id("ClickDeskSocialLogo",{display:"block"});ClickDesk_DOM.set_style_by_id("cd-liviliyheadingtop",{display:"none"});clickdesk_set_agent_name_and_image(c,g);ClickDesk_DOM.set_style_by_id("social_nw_fallow_image",{display:"none"});ClickDesk_DOM.set_style_by_id("cd-twitter-block",{display:"none"});if(!b){return}try{if(widgetPrefsJSON.template_prefs.template=="novelty"){ClickDesk_DOM.set_style_by_id("cd-twitter-block",{display:"block"});var d=ClickDesk_DOM.wrap("#cd_twitter_name");snack.each(d,function(h){if(h.length!=0){h.innerHTML=c}});var a=ClickDesk_DOM.wrap("#cd_twitter_image");snack.each(a,function(h){if(h.length!=0){h.src=g}})}}catch(f){}ClickDesk_DOM.set_style_by_id("social_nw_fallow_image",{display:"block"})}};function clickdesk_handle_social_tab_response_delay(b,c){if(b=="twitter"){if(Clickdesk_Twitter_Response){return false}c=(c)?c:"We are unable to process your request at this moment. Please verify your "+b+" ID before processing.";clearTimeout(Clickdesk_Twitter_Response_Counter);clickdesk_social_network_hide_loading();var a='<div style="width: 100%;" ><div class="twitterErrorRedUI">'+c+"</div></div>";ClickDesk_DOM.wrap("#clickdesk_twitter")[0].innerHTML=a}else{if(b=="facebook"){if(Clickdesk_Facebook_Response){return false}clearTimeout(Clickdesk_Facebook_Response_Counter);clickdesk_social_network_hide_loading();ClickDesk_DOM.wrap("#clickdeskchat_social_template iframe#cd_facebook_frame")[0].src=glcp+(location.hostname=="localhost"?location.hostname+":8888":"my.clickdesk.com")+"/cd_facebook_invalid_user.jsp?message="+c.replace("#","")}}}function clickdesk_social_network_hide_loading(){try{ClickDesk_DOM.wrap("#clickdeskchat_social_template big")[0].style.display="none"}catch(a){}}function clickdesk_init_social_tabs(){var a=ClickDesk_DOM.wrap("#clickdesk_footer_tabs a");for(var b=0;b<a.length;b++){var f=a[b].id;ClickDesk_DOM.attach_event("#"+f,"click",function(g){g.returnValue=false;var h=g.srcElement||g.target||g.toElement;if(ClickDesk_DOM.is_valid_node(h.id)){ClickDesk_Social_Tab_Ui.show_social_network_tab(h.id)}})}try{var c=widgetPrefsJSON.social_network;if(c.show_facebook=="no"){ClickDesk_DOM.wrap("#cd_facebook")[0].remove()}if(c.show_twitter=="no"){ClickDesk_DOM.wrap("#cd_twitter")[0].remove()}}catch(d){}try{if(c.twitter_url){ClickDesk_DOM.wrap(".twitter-share-button")[0].href=ClickDesk_DOM.wrap(".twitter-follow-button")[0].href=c.twitter_url}}catch(d){clickdesk_log(d)}}var Cd_Add_Wesite_Screenshot={already_attached:false,agent_id:"",error_info:"Sorry, the visitor is currently using a browser which does not allow to take screenshots.",attach:function(b,f){var a=ClickDesk_DOM.wrap("#cd_attach_screenshot_source")[0];var c=a.value;var d=b.checked;if(!d){ClickDesk_DOM.set_style_by_id("cd_attach_screenshot_imagesrc",{display:"none"});return false}ClickDesk_DOM.set_style_by_id("cd_attach_screenshot_imagesrc",{display:"block"});if(c){return false}this.render_canvas(f)},render_canvas:function(b,a){if(!this.is_blob_supported()||ClickDesk_Mobile_Util.is_mobile_browser()){return b(Cd_Add_Wesite_Screenshot.error_info,a)}ClickDesk_Widget_Util.loadJS(glcpath.replace("/browser","")+"plugins/html2canvas.js",function(){html2canvas(document.body,{onrendered:function(c){try{var f=c.toDataURL("image/png");Cd_Add_Wesite_Screenshot.add_to_amazon_cloud(f,b,a)}catch(d){return b(Cd_Add_Wesite_Screenshot.error_info,a)}},letterRendering:true,useCORS:clickdesk_get_ie_version(),})})},add_to_amazon_cloud:function(f,g,d){if(!f){return false}clickdesk_log(f);var b=this.dataURItoBlob(f);clickdesk_log(b);var c={};c.file_resource="cd-uploaded-files/"+new Date().getTime()+"-screenshot.png";c.success_callback="success_callback";if(g){c.agent_request=g}if(d){c.hide_upload="true"}var a=ClickDesk_File_Upload.construct_form_data(c);a.append("file",b);c.size=b.size;c.name="website-screenshot.png";clickdesk_log(a);ClickDesk_File_Upload.upload_to_amazon(a,c)},dataURItoBlob:function(a){var f=atob(a.split(",")[1]);var d=new ArrayBuffer(f.length);var b=new Uint8Array(d);for(var c=0;c<f.length;c++){b[c]=f.charCodeAt(c)}return new Blob([d],{type:"image/png"})},convert_to_object:function(a){if(typeof a!="object"){var b=a+"";b=(b.indexOf("upload")!=-1)?"Sorry, something went wrong. Please try again.":b;a={};a.message="["+b+"]"}a.hide_upload=true;return a},amazon_callback:function(b,f){clickdesk_log(b);var a=f.file_url;if(b.agent_request){var d=b.agent_request;try{if(b.hide_upload){f=this.convert_to_object(f)}}catch(c){}return d(f)}ClickDesk_DOM.wrap("#cd_attach_screenshot_source")[0].value=a;ClickDesk_DOM.wrap("#cd_attach_screenshot_imagesrc")[0].src=a;ClickDesk_DOM.set_style_by_id("cd_attach_screenshot_imagesrc",{width:"175px",height:"100px"})},send_attachment_to_agent:function(d,b){var a=ClickDesk_Widget_Session.get_active_session();if(a==null){return}try{if(b){d=Cd_Add_Wesite_Screenshot.convert_to_object(d)}}catch(c){}if(typeof d=="object"){d.website_screenshot="true"}ClickDesk_Message_Util.send_message(d,ClickDesk_Globals.visitor_name,"web_rtc_request")},reset_form:function(){var a=this.is_input_checked();if(a){a.checked=false}ClickDesk_DOM.set_style_by_id("cd_attach_screenshot_imagesrc",{display:"none"})},get_attached_src:function(){if(this.is_input_checked()){return ClickDesk_DOM.wrap("#cd_attach_screenshot_source")[0].value}},is_input_checked:function(){try{var a=ClickDesk_DOM.wrap("#cd_attach_screenshot")[0];var c=a.checked;return(c)?a:null}catch(b){}return null},is_blob_supported:function(){try{var b=new Blob();return true}catch(a){}return false},send_attachment_url_to_agent:function(b){if(!Cd_Add_Wesite_Screenshot.agent_id||!b){return}var a={};if(b.file_url){a.file_src=b.file_url}else{a.error=b}a.agent_id=Cd_Add_Wesite_Screenshot.agent_id;ClickDesk_Widget_Pusher_Visitor.push_message("screenshot_attachment",{message:JSON.stringify(a)})}};var ClickDesk_Pusher_Message={handle:function(q){if(!q){return}if(q.type&&q.type=="status_change"){clickdesk_log(q);var m=q.current_status;if(!m){return}if(m=="online"){widgetPrefsJSON.user_departments=q.user_departments;var a=CLICKDESK_CHAT_WINDOW_UI.get_user_seleted_department();clickdesk_log("widget_id = "+a);setTimeout(function(r){try{ClickDesk_Custom_CSS.add_dept_dropdown();ClickDesk_DOM.wrap("#cd_department")[0].value=(r.indexOf("all_")==0)?"":r}catch(s){}},1,a)}var h=widgetPrefsJSON.status;if(m=="online"&&h=="online"){return}else{if(m=="offline"&&h=="offline"){return}}this.change_pres_and_ui(q)}if(q.type&&q.type=="third_party_login"){var b=q.token;if(this.get_visitor_unique_token()!=b){return false}clickdesk_popupLoginCallback(q.name,q.email);return}if(q.type&&q.type=="send_screenshot"){var c=q.agent_id;if(!c){return}var o={};o.agent_id=c;o.visitorId=ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();ClickDesk_Widget_Pusher_Visitor.push_message("screenshot_attachment_ackment",o);Cd_Add_Wesite_Screenshot.agent_id=c;return Cd_Add_Wesite_Screenshot.render_canvas(Cd_Add_Wesite_Screenshot.send_attachment_url_to_agent);return}if(q.type=="webrtc_accept"){var d=q.webrtc_type;d=(d=="audio")?"voice":"video";var f=q.agent_name;f=f.slice(0,1).toUpperCase()+f.slice(1);ClickDesk_GA.trigger_event("agent_answered_"+d,f);return}if(!q.agent_name||!q.token){return}var l=ClickDesk_Widget_Session.get_active_session();if(l){return}var k=ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();var b=q.token;if(k!=b){return false}var g=q.agent_name;var n=q.message;if(q.type=="forced_chat"){ClickDesk_GA.trigger_event("forced_chat",g.slice(0,1).toUpperCase()+g.slice(1));this.handle_forced_chat_events(q)}if(!ClickDesk_Storage.get_prefs("window_popout")){CLICKDESK_CHAT_WINDOW_UI.show_chat_box()}ClickDesk_Chat_Window_Util.append_message(n,g);try{CLICKDESK_POPOUT_WINDOW.ClickDesk_Chat_Window_Util.append_message(n,g);CLICKDESK_POPOUT_WINDOW.CLICKDESK_CHAT_WINDOW_UI.show_chat_box()}catch(j){}ClickDesk_Title_Blinker.trigger(n,20);ClickDesk_Sounds.play_send()},change_pres_and_ui:function(b){var a=b.current_status;if(!a){return}widgetPrefsJSON.status=a;this.handle_opened_window_changes(b);this.handle_bubble_status_changes(b);if(a=="offline"){return}if(widgetPrefsJSON.webchat_status){return}if(!b.webchat_status){return}widgetPrefsJSON.webchat_status=b.webchat_status;if(ClickDesk_Window_Popout.is_window_in_popup()){return}ClickDesk_Widget_Pusher_Visitor.subscribe()},handle_opened_window_changes:function(h){var b=h.current_status;if(!b){return}var g=ClickDesk_Window_Popout.is_window_in_popup();try{var f="",d="";if(b=="offline"&&document.getElementById("ClickdeskprechatForm").style.display!="none"){f="none",d=(!g)?"block":"table-row"}if(b=="online"&&document.getElementById("ClickdeskofflineForm").style.display!="none"){f=(!g)?"block":"table-row",d="none"}if(f&&d){ClickDesk_DOM.set_style_by_id("ClickdeskprechatForm",{display:f});ClickDesk_DOM.set_style_by_id("ClickdeskofflineForm",{display:d})}}catch(j){}if(g||ClickDesk_Widget_Session.get_active_session()){return}var a=ClickDesk_Storage.get_prefs("active_popup");if(!a){return}var c=ClickDesk_DOM.wrap("#clickdesk_container")[0].style.display;if(b=="offline"&&this.hide_when_offline_prop_enabled()){c="none"}else{if(b=="online"){c="block"}}clickdesk_log("window_status = "+c);ClickDesk_DOM.wrap("#clickdesk_container")[0].style.display=c},handle_bubble_status_changes:function(g){try{var d=ClickDesk_Window_Popout.is_window_in_popup();var b=g.current_status;if(ClickDesk_Mobile_Util.is_mobile_browser()&&ClickDesk_Mobile_Util.is_mobile_optimized_widget()&&!d){try{ClickDesk_DOM.wrap(".clickdesk_bubble")[0].remove()}catch(h){}document.body.appendChild(clickdesk_get_mobile_view());clickdesk_show_custom_images();return}if(d){return}var f=ClickDesk_DOM.wrap(".clickdesk_bubble")[0].style.display;var a=ClickDesk_Storage.get_prefs("active_popup");if(!a&&this.hide_when_offline_enabled()){f="none"}else{if(!a&&b=="online"){f="block"}}if(ClickDesk_Custom_CSS.is_customization_enabled()&&ClickDesk_Custom_CSS.is_bubble_available()){ClickDesk_DOM.set_style_by_id("clickdesk_offline_customized_bubble",{display:"none"});ClickDesk_DOM.set_style_by_id("clickdesk_online_customized_bubble",{display:"none"});if(b=="offline"&&this.hide_when_offline_enabled()){f="none"}clickdesk_log("1 = "+f);setTimeout(function(j){ClickDesk_DOM.set_style_by_id("clickdesk_"+b+"_customized_bubble",{display:j})},1,f)}else{var c=document.getElementById("clickdesk-appendable-bubble");c.innerHTML="";c.appendChild(ClickDesk_Handlebars.get_template("clickdesk-ui-bar",widgetPrefsJSON));ClickDesk_DOM.set_style_by_object(ClickDesk_DOM.wrap(".clickdesk_bubble")[0],{display:f})}}catch(h){clickdesk_log(h)}try{clickdesk_show_custom_images()}catch(h){}try{clickdesk_load_bubble_images();clickdesk_toggle_eyecatcher_image()}catch(h){}try{clickdesk_initialize_bubble_events()}catch(h){}},handle_forced_chat_events:function(b){ClickDesk_Globals.forced_chat_agent_id=b.agent_id;var a={};a.agent_id=b.agent_id;a.message=b.message;a.agent_name=b.agent_name;a.time=b.time;ClickDesk_Globals.forced_chat_messages.push(a)},hide_when_offline_enabled:function(){var a=widgetPrefsJSON.bubble_prefs.hide_offline;return(widgetPrefsJSON.status=="offline"&&a&&a=="true")},hide_when_offline_prop_enabled:function(){var a=widgetPrefsJSON.bubble_prefs.hide_offline;return(a&&a=="true")},};var ClickDesk_Widget_Pusher_Obj,ClickDesk_Widget_Pusher_Channel_Obj,ClickDesk_Widget_Pusher_Channel_Obj_Channel;var ClickDesk_Widget_Pusher_Visitor={visitor_cookie_name:"cd_pubnub_visitor",cloud_file:"https://d3dy5gmtp8yhk7.cloudfront.net/2.2.0/pusher.min.js",k:"c564616eee36000be9fb",server_url:"https://clickdeskvisitors.appspot.com/visitortrack",pusher_channel_token:"pusher_channel_token",is_pusher_channel_initiated:false,client_options:function(){return{visitor_info:this.uuid()}},optional_metrics:function(){var a={};a.disableStats=true;return a},get_channel:function(){return widgetPrefsJSON.userid},get_visitor_unique_token:function(){var a=ClickDesk_Storage.read_cookie(this.visitor_cookie_name);if(a){return a}a=(!a)?new Date().getTime():a;ClickDesk_Storage.create_cookie(this.visitor_cookie_name,a);return a},uuid:function(){var b={},f=ClickDesk_Visitor_Info.get_visitor_info();f=(f)?JSON.parse(f):"";if(f){var d=widgetPrefsJSON.visitor_geo;for(var a in d){f[a]=d[a]}if(f.plugins){delete f.plugins}f.browser_type=(ClickDesk_Mobile_Util.is_mobile_browser())?"mobile":"desktop";var c=widgetPrefsJSON.created_time;if(c){f.created_time=c}}b.widget_id=ClickDesk_Widget_Util.widget_id;b.visitor_info=(f)?f:widgetPrefsJSON.visitor_geo;b.visitorId=this.get_visitor_unique_token();b.visitor_info.name=ClickDesk_Storage.get_prefs("visitor_name");b.visitor_info.email=ClickDesk_Storage.get_prefs("visitor_email");return JSON.stringify(b)},is_allowed_domain:function(){if(true){return true}var a=new Array("localhost","clickdesk","venkat2desk","alekhyachattest");var f=_glc.custom_domain;if(f){f=f.split(",");for(var d=0;d<f.length;d++){a.push(f[d])}}var c=window.location.href;for(var b=0;b<a.length;b++){if(c.indexOf(a[b])>-1){return true}}return false},close_channel:function(){ClickDesk_Widget_Pusher_Visitor.is_pusher_channel_initiated=false;if(ClickDesk_Widget_Pusher_Channel_Obj_Channel){ClickDesk_Widget_Pusher_Channel_Obj_Channel.disconnect();ClickDesk_Widget_Pusher_Channel_Obj.disconnect()}},channal_subscribe:function(a,b){if(!a||!this.is_allowed_domain()){return}head.js(ClickDesk_Widget_Pusher_Visitor.cloud_file,function(){ClickDesk_Storage.set_prefs(ClickDesk_Widget_Pusher_Visitor.pusher_channel_token,a);ClickDesk_Widget_Pusher_Channel_Obj=new Pusher(ClickDesk_Widget_Pusher_Visitor.k,ClickDesk_Widget_Pusher_Visitor.optional_metrics());ClickDesk_Widget_Pusher_Channel_Obj_Channel=ClickDesk_Widget_Pusher_Channel_Obj.subscribe(a);ClickDesk_Widget_Pusher_Channel_Obj_Channel.bind("pusher:subscription_succeeded",function(c){if(b&&!ClickDesk_Widget_Pusher_Visitor.is_pusher_channel_initiated){b(a)}ClickDesk_Widget_Pusher_Visitor.is_pusher_channel_initiated=true});ClickDesk_Widget_Pusher_Channel_Obj_Channel.bind("message-client-event",function(c){clickdesk_log(c);ClickDesk_Channel_Message_Listener.listen(c)})})},subscribe:function(b){if(!this.is_allowed_domain()){return}if(!widgetPrefsJSON||widgetPrefsJSON.status=="offline"){return}if(!widgetPrefsJSON.webchat_status||!widgetPrefsJSON.userid){return}var a=widgetPrefsJSON.userid+"-"+ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();if(ClickDesk_Widget_Pusher_Obj&&ClickDesk_Widget_Pusher_Obj.channels.channels[a]){if(b&&typeof b=="function"){b("chat_session_initiated")}return}head.js(ClickDesk_Widget_Pusher_Visitor.cloud_file,function(){if(!ClickDesk_Widget_Pusher_Obj){ClickDesk_Widget_Pusher_Obj=new Pusher(ClickDesk_Widget_Pusher_Visitor.k,ClickDesk_Widget_Pusher_Visitor.optional_metrics())}var c=ClickDesk_Widget_Pusher_Obj.channels;if(b&&b=="popout"){}else{if(widgetPrefsJSON.webchat_status&&c&&!c.channels[a]){pusher_channel=ClickDesk_Widget_Pusher_Obj.subscribe(a);pusher_channel.bind("pusher:subscription_succeeded",function(f){var g=ClickDesk_Widget_Pusher_Visitor.client_options();g.command="WEB_VISITOR";g.channel_name=a;ClickDesk_JSONP.send_request(ClickDesk_Widget_Pusher_Visitor.server_url,g,function(h){})});pusher_channel.bind("client-event",function(f){ClickDesk_Widget_Pusher_Visitor.inbound(f)})}}var d=widgetPrefsJSON.userid+"-"+ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token()+"-cd_widget-"+ClickDesk_Widget_Util.widget_id;if(!c.channels[d]){}if(b&&typeof b=="function"){b("chat_session_initiated")}})},unsubscribe:function(){},push_message:function(b,a){if(!b){return}var d=(a)?a:{};d.chat_type=b;d.widget_id=ClickDesk_Widget_Util.widget_id;d.visitorId=this.get_visitor_unique_token();var c="/rest/visitor/pubnub/broadcast";if(b=="screenshot_attachment"){delete d.widget_id;c="/rest/visitor/pubnub/screenshot_attachment"}else{if(b=="screenshot_attachment_ackment"){c="/rest/visitor/pubnub/screenshot_attachment_ackment"}}ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+c,d,function(f){clickdesk_log("Pubnub "+f)})},inbound:function(a){ClickDesk_Pusher_Message.handle(a)},};var ClickDesk_Shopify={clickdesk_shopify_cookie:"cd_shopify",is_site_belongs_to_shopify:function(){try{return Shopify}catch(a){clickdesk_log(a)}return false},get_current_cart_:function(b){if(!this.is_site_belongs_to_shopify()){return}try{Shopify.getCart(function(c){ClickDesk_Shopify.send_cart_info_to_agent(c,b)})}catch(a){}},send_cart_info_to_agent:function(f,c){if(!f){return}var h=ClickDesk_Widget_Session.get_active_session();if(!h){return}var b=f.total_price;var j=false;var k=ClickDesk_Storage.get_prefs(ClickDesk_Shopify.clickdesk_shopify_cookie);if(k==b&&!c){return}if(!k){k=0}else{j=true}ClickDesk_Storage.set_prefs(ClickDesk_Shopify.clickdesk_shopify_cookie,b);var g=[];var a=f.item_count;if(a>0){for(var d=0;d<f.items.length;d++){var m=f.items[d];g.push({title:m.title,price:m.price,quantity:m.quantity})}}var l={};l.total_price=b+"";l.prev_price=k+"";l.items=JSON.stringify(g);l.widget_id=ClickDesk_Widget_Util.widget_id;l.visitorId=ClickDesk_Widget_Pusher_Visitor.get_visitor_unique_token();l.sessionId=h.session_id;if(j){l.old_customer=j+""}ClickDesk_JSONP.send_request(CLICKDESK_SERVER_PATH+"/rest/visitor/pubnub/shopify_plugin",l,function(n){clickdesk_log("Response "+n)})}};var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||this.searchMobileVersion(navigator.userAgent)||"An unknown version";this.OS=this.searchString(this.dataOS)||"unknown"},searchString:function(f){for(var b=0;b<f.length;b++){var c=f[b].string;var d=f[b].prop;var a=f[b].match;this.versionSearchString=f[b].versionSearch||f[b].identity;if(a&&c.match(a)){return f[b].identity}if(c){if(c.indexOf(f[b].subString)!=-1){return f[b].identity}}else{if(d){return f[b].identity}}}},searchMobileVersion:function(a){try{match=a.match(/Mobile Safari\/([\d.]+)/);if(match){return parseFloat(match[1])}}catch(b){}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,match:/Trident.*rv[ :]*11\./,identity:"Explorer"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",},{string:navigator.userAgent,match:/Mobile Safari\/([\d.]+)/,identity:"Mobile Safari",versionSearch:"/AppleWebKit/([\d.]+)/",},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,match:/Android\s([0-9\.]*)/,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();var FlashDetect=new function(){var a=this;a.installed=false;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var b=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(j){return d(j)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(l){var j="6,0,21";try{l.AllowScriptAccess="always";j=d(l)}catch(k){}return j}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(j){return d(j)}}];var d=function(l){var j=-1;try{j=l.GetVariable("$version")}catch(k){}return j};var h=function(j){var l=-1;try{l=new ActiveXObject(j)}catch(k){l={activeXError:true}}return l};var c=function(k){var j=k.split(",");return{raw:k,major:parseInt(j[0].split(" ")[1],10),minor:parseInt(j[1],10),revision:parseInt(j[2],10),revisionStr:j[2]}};var g=function(m){var k=m.split(/ +/);var l=k[2].split(/\./);var j=k[3];return{raw:m,major:parseInt(l[0],10),minor:parseInt(l[1],10),revisionStr:j,revision:f(j)}};var f=function(j){return parseInt(j.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(j){return a.major>=j};a.minorAtLeast=function(j){return a.minor>=j};a.revisionAtLeast=function(j){return a.revision>=j};a.versionAtLeast=function(k){var l=[a.major,a.minor,a.revision];var j=Math.min(l.length,arguments.length);for(i=0;i<j;i++){if(l[i]>=arguments[i]){if(i+1<j&&l[i]==arguments[i]){continue}else{return true}}else{return false}}};a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var m="application/x-shockwave-flash";var l=navigator.mimeTypes;if(l&&l[m]&&l[m].enabledPlugin&&l[m].enabledPlugin.description){var j=l[m].enabledPlugin.description;var n=g(j);a.raw=n.raw;a.major=n.major;a.minor=n.minor;a.revisionStr=n.revisionStr;a.revision=n.revision;a.installed=true}}else{if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var j=-1;for(var k=0;k<b.length&&j==-1;k++){var o=h(b[k].name);if(!o.activeXError){a.installed=true;j=b[k].version(o);if(j!=-1){var n=c(j);a.raw=n.raw;a.major=n.major;a.minor=n.minor;a.revision=n.revision;a.revisionStr=n.revisionStr}}}}}}()};FlashDetect.JS_RELEASE="1.0.4";(function(){var b=Handlebars.template,a=ClickDeskHandlebars.templates=ClickDeskHandlebars.templates||{};a["clickdesk-agent-typing-entry"]=b(function(h,q,g,o,n){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,h.helpers);n=n||{};var l="",d,j,k="function",m=this.escapeExpression,r=this;function f(v,u){var s,t;if(t=g.message){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.message);s=typeof t===k?t.call(v,{hash:{},data:u}):t}return m(s)}function c(t,s){return"is typing..."}l+='<div class="';if(j=g.agent_id){d=j.call(q,{hash:{},data:n})}else{j=(q&&q.agent_id);d=typeof j===k?j.call(q,{hash:{},data:n}):j}l+=m(d)+'" style="margin:10px 0px 10px 0px !important;text-align:center!important;word-break: break-word !important;"><span style="color: #aaa !important;font-size: 11px !important;text-transform:capitalize !important;padding-left:15px!important;background:url(https://d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/typing.png) no-repeat left center;">';if(j=g.agent_name){d=j.call(q,{hash:{},data:n})}else{j=(q&&q.agent_name);d=typeof j===k?j.call(q,{hash:{},data:n}):j}l+=m(d)+'</span><span style="color: #aaa !important;font-size: 11px !important;"> ';d=g["if"].call(q,(q&&q.message),{hash:{},inverse:r.program(3,c,n),fn:r.program(1,f,n),data:n});if(d||d===0){l+=d}l+="</span></div>\n";return l});a["clickdesk-chat-session"]=b(function(aa,c,Z,D,am){this.compilerInfo=[4,">= 1.0.0"];Z=this.merge(Z,aa.helpers);am=am||{};var x="",G,r,z,w="function",af=this.escapeExpression,j=this,Y=Z.helperMissing,L=Z.blockHelperMissing;function X(ao,an){return'<div style="display: table-cell;position: relative;"><div style="display: table;height: 100%;width: 100%;"><div style="display: table-row;">'}function W(ap,ao){var an;an=Z["if"].call(ap,(ap&&ap.VEDIOCHAT_ICON_TITLE),{hash:{},inverse:j.program(6,R,ao),fn:j.program(4,U,ao),data:ao});if(an||an===0){return an}else{return""}}function U(aq,ap){var an,ao;if(ao=Z.VEDIOCHAT_ICON_TITLE){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.VEDIOCHAT_ICON_TITLE);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function R(ao,an){return"Video Chat"}function N(ap,ao){var an;an=Z["if"].call(ap,(ap&&ap.VOICECHAT_ICON_TITLE),{hash:{},inverse:j.program(11,P,ao),fn:j.program(9,K,ao),data:ao});if(an||an===0){return an}else{return""}}function K(aq,ap){var an,ao;if(ao=Z.VOICECHAT_ICON_TITLE){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.VOICECHAT_ICON_TITLE);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function P(ao,an){return"Voice Chat"}function J(aq,ap){var an="",ao;an+='\n               <a  id="click-desk-options" class="cdw-chat-bottom-link" onclick="return false;" title="'+af(((ao=((ao=(aq&&aq.customvalidationmssgs_prefs)),ao==null||ao===false?ao:ao.customstatusmssgs_chat_window_more_option_label)),typeof ao===w?ao.apply(aq):ao))+'"/>\n                   '+af(((ao=((ao=(aq&&aq.customvalidationmssgs_prefs)),ao==null||ao===false?ao:ao.customstatusmssgs_chat_window_more_option_label)),typeof ao===w?ao.apply(aq):ao))+"\n               </a>\n               ";return an}function F(ao,an){return"\n               </br>\n              "}function B(ao,an){return"</div>"}function y(ao,an){return' style="display: table-row!important;position: relative !important;"'}function q(ao,an){return'\n                 <div style="display: block;font-weight: normal !important;height: 100%;position: relative !important;display: table-cell;">\n                 <div style="bottom: 0;height: 100%;position: relative !important;right: 0;">\n                  <div class="cdw-chat-body" id="clickdesk_session" style="border-bottom: 1px solid #C8C8C8 !important;display: block;height: 100%;left: 0;overflow: auto;position: absolute;right: 0;visibility: visible;"></div>\n                 </div></div>\n           '}function m(ao,an){return'\n             <div class="cdw-chat-body" id="clickdesk_session"></div>\n           '}function k(ao,an){return'<div style="display: table-row!important;height: 60px;">'}function g(ao,an){return'style="padding: 5px 10px 0 !important;"'}function d(ao,an){return'style="display:block"'}function ak(ao,an){return" "}function ai(aq,ap){var an="",ao;an+='\n                <textarea placeholder="';ao=Z["if"].call(aq,((ao=(aq&&aq.online_form_prefs)),ao==null||ao===false?ao:ao.prechat_form_message_label),{hash:{},inverse:j.program(36,ad,ap),fn:j.program(34,ag,ap),data:ap});if(ao||ao===0){an+=ao}an+='" class="cdw-chat-form-text" id="broadcastchat" name="broadcastchat" maxlength="200"/></textarea>\n                <input id="broadcastchatsend" type="submit" value="Send" style="display:none!important;" />\n                ';return an}function ag(ap,ao){var an;return af(((an=((an=(ap&&ap.online_form_prefs)),an==null||an===false?an:an.prechat_form_message_label)),typeof an===w?an.apply(ap):an))}function ad(ao,an){return"Enter message"}function ab(ao,an){return'style="text-align: right;padding: 3px;position: relative !important;top: -5px !important;right: 2px !important;"'}function T(ao,an){return"-block"}function Q(ao,an){return'<a  class="clickdesk-misc clickdesk-icon" onclick="return false;" style="vertical-align: middle!important;"></a>'}function M(ao,an){return'<a  id="cd_smile" class="clickdesk-misc sprite-icons-icon-smiley" onclick="return false;" style="vertical-align: middle!important;"></a>'}function H(aq,ap){var an="",ao;an+='\n				<textarea placeholder="';ao=Z["if"].call(aq,((ao=(aq&&aq.online_form_prefs)),ao==null||ao===false?ao:ao.prechat_form_message_label),{hash:{},inverse:j.program(36,ad,ap),fn:j.program(34,ag,ap),data:ap});if(ao||ao===0){an+=ao}an+='" class="cdw-chat-form-text" id="broadcastchat" name="broadcastchat" maxlength="200"/></textarea>\n				<input class="cdw-chat-contact-send-button cd-mobile" id="broadcastchatsend" type="submit" value="" style="width: 22px!important;height: 22px;padding: 0px!important;position: absolute;right: 15px;bottom: 15px;background-image: url(https://d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/images/send-msg.png) !important;\n					background-repeat: no-repeat !important;background-position: center !important;border-radius: 50% !important;">\n                ';return an}function C(aq,ap){var an="",ao;an+='\n                        	<a  id="clickdesk_mobile_close_chat" class="cdw-chat-popup-option" title="';ao=Z["if"].call(aq,(aq&&aq.system_message_prefs),{hash:{},inverse:j.program(52,s,ap),fn:j.program(49,A,ap),data:ap});if(ao||ao===0){an+=ao}an+='">';ao=Z["if"].call(aq,(aq&&aq.system_message_prefs),{hash:{},inverse:j.program(52,s,ap),fn:j.program(49,A,ap),data:ap});if(ao||ao===0){an+=ao}an+="</a>\n                        ";return an}function A(ap,ao){var an;an=Z["if"].call(ap,((an=(ap&&ap.system_message_prefs)),an==null||an===false?an:an.CLOSE_ICON_TITLE),{hash:{},inverse:j.program(52,s,ao),fn:j.program(50,u,ao),data:ao});if(an||an===0){return an}else{return""}}function u(ap,ao){var an;return af(((an=((an=(ap&&ap.system_message_prefs)),an==null||an===false?an:an.CLOSE_ICON_TITLE)),typeof an===w?an.apply(ap):an))}function s(ao,an){return"Close"}function n(at,ar){var an="",ap,aq,ao;an+='\n           <div class="cd-info-popup">\n	         <div id="clickdesk_proactive_visitor_details_window" class="cdw-chat-popup" style="display:none">\n	            <div class="cdw-chat-popup-faded">';ap=Z["if"].call(at,(at&&at.proactive_visitor_info_form_header),{hash:{},inverse:j.program(57,h,ar),fn:j.program(55,l,ar),data:ar});if(ap||ap===0){an+=ap}an+='</div>\n				<div class="cdw-chat-popup-text">\n					<input type="';ap=Z["if"].call(at,(at&&at.prechat_namefield_emailvstext_label),{hash:{},inverse:j.program(61,al,ar),fn:j.program(59,f,ar),data:ar});if(ap||ap===0){an+=ap}an+='" placeholder="';if(aq=Z.prechat_form_name_label){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.prechat_form_name_label);ap=typeof aq===w?aq.call(at,{hash:{},data:ar}):aq}an+=af(ap);ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(63,aj,ar),data:ar},aq?aq.call(at,"prechat_form_name_required",ao):Y.call(at,"cd_if_property","prechat_form_name_required",ao));if(ap||ap===0){an+=ap}an+='" id="cd_proactive_visitor_name" class="cdw-chat-popup-form-text" maxlength="50" ';ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(65,ah,ar),data:ar},aq?aq.call(at,"prechat_form_name_required",ao):Y.call(at,"cd_if_property","prechat_form_name_required",ao));if(ap||ap===0){an+=ap}an+=' ref_cookie_name="visitor_name"\n						style="width: 100%;box-sizing: border-box;"/>\n				</div>\n				<div class="cdw-chat-popup-text">\n					<input type="';ap=Z["if"].call(at,(at&&at.prechat_emailvstext_label),{hash:{},inverse:j.program(69,ac,ar),fn:j.program(67,ae,ar),data:ar});if(ap||ap===0){an+=ap}an+='" placeholder="';if(aq=Z.prechat_form_email_label){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.prechat_form_email_label);ap=typeof aq===w?aq.call(at,{hash:{},data:ar}):aq}an+=af(ap);ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(63,aj,ar),data:ar},aq?aq.call(at,"prechat_form_email_required",ao):Y.call(at,"cd_if_property","prechat_form_email_required",ao));if(ap||ap===0){an+=ap}an+='" class="cdw-chat-popup-form-text" id="cd_proactive_visitor_email"  maxlength="50" ';ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(65,ah,ar),data:ar},aq?aq.call(at,"prechat_form_email_required",ao):Y.call(at,"cd_if_property","prechat_form_email_required",ao));if(ap||ap===0){an+=ap}an+=' ref_cookie_name="visitor_email"\n						style="width: 100%;box-sizing: border-box;"/>\n				</div>\n				';ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.noop,fn:j.program(71,V,ar),data:ar},aq?aq.call(at,"prechat_form_show_custom_field_required",ao):Y.call(at,"cd_if_property","prechat_form_show_custom_field_required",ao));if(ap||ap===0){an+=ap}an+="\n           ";ap=Z["if"].call(at,(at&&at.prechat_form_gdpr_label),{hash:{},inverse:j.noop,fn:j.program(73,S,ar),data:ar});if(ap||ap===0){an+=ap}an+='\n\n				<div class="cdw-chat-popup-error" id="cd_proactive_visitor_error"></div>\n				<div class="cdw-chat-popup-text">\n					<input type="submit" value="';ap=Z["if"].call(at,(at&&at.proactive_visitor_info_form_save_text),{hash:{},inverse:j.program(77,I,ar),fn:j.program(75,O,ar),data:ar});if(ap||ap===0){an+=ap}an+='" id="cd_proactive_visitor_info_save" class="cdw-chat-popup-form-button"> \n					<input type="submit" id="cd_proactive_visitor_info_cancel" class="cdw-chat-popup-form-button cd-cancel" onclick="return false;" value="';ap=Z["if"].call(at,(at&&at.proactive_visitor_info_form_cancel_text),{hash:{},inverse:j.program(81,v,ar),fn:j.program(79,E,ar),data:ar});if(ap||ap===0){an+=ap}an+='" />\n				</div>	    \n	         </div>\n	       </div>\n	     ';return an}function l(aq,ap){var an,ao;if(ao=Z.proactive_visitor_info_form_header){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.proactive_visitor_info_form_header);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function h(ao,an){return"Please provide contact details for better assistance"}function f(aq,ap){var an,ao;if(ao=Z.prechat_namefield_emailvstext_label){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.prechat_namefield_emailvstext_label);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function al(ao,an){return"text"}function aj(ao,an){return" *"}function ah(ao,an){return'required="required"'}function ae(aq,ap){var an,ao;if(ao=Z.prechat_emailvstext_label){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.prechat_emailvstext_label);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function ac(ao,an){return"email"}function V(at,ar){var an="",ap,aq,ao;an+='\n		            <div class="cdw-chat-popup-text">\n		               <input type="';if(aq=Z.prechat_customfield_emailvstext_label){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.prechat_customfield_emailvstext_label);ap=typeof aq===w?aq.call(at,{hash:{},data:ar}):aq}an+=af(ap)+'" placeholder="';if(aq=Z.prechat_custom_field_label){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.prechat_custom_field_label);ap=typeof aq===w?aq.call(at,{hash:{},data:ar}):aq}an+=af(ap);ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(63,aj,ar),data:ar},aq?aq.call(at,"prechat_form_custom_field_required",ao):Y.call(at,"cd_if_property","prechat_form_custom_field_required",ao));if(ap||ap===0){an+=ap}an+='" id="cd_proactive_visitor_custom" class="cdw-chat-popup-form-text" maxlength="50" ';ap=(aq=Z.cd_if_property||(at&&at.cd_if_property),ao={hash:{},inverse:j.program(31,ak,ar),fn:j.program(65,ah,ar),data:ar},aq?aq.call(at,"prechat_form_custom_field_required",ao):Y.call(at,"cd_if_property","prechat_form_custom_field_required",ao));if(ap||ap===0){an+=ap}an+=' ref_cookie_name="custom_field"\n		                style="width: 100%;box-sizing: border-box;"/>\n		            </div>\n		       ';return an}function S(ar,aq){var an="",ao,ap;an+='\n        <div class="cd-field-label" style="position: relative;box-sizing: border-box;margin-bottom: 5px!important;">\n      <label style="padding: 5px 20px;cursor: pointer;font-size: 10.6px!important;border-radius: 1px!important;line-height: 1.3!important;display: inline-block;">\n      <input type="checkbox" id="cd_custom_checkbox_chatbox" style="position: absolute;left: 3px;top: 7px;" rel="';if(ap=Z.prechat_form_gdpr_label){ao=ap.call(ar,{hash:{},data:aq})}else{ap=(ar&&ar.prechat_form_gdpr_label);ao=typeof ap===w?ap.call(ar,{hash:{},data:aq}):ap}an+=af(ao)+'" placeholder="';if(ap=Z.prechat_form_gdpr_label){ao=ap.call(ar,{hash:{},data:aq})}else{ap=(ar&&ar.prechat_form_gdpr_label);ao=typeof ap===w?ap.call(ar,{hash:{},data:aq}):ap}an+=af(ao)+'" ref_cookie_name="visitor_gdpr"/>\n      <a target="_blank" href="';if(ap=Z.prechat_form_gdpr_href_label){ao=ap.call(ar,{hash:{},data:aq})}else{ap=(ar&&ar.prechat_form_gdpr_href_label);ao=typeof ap===w?ap.call(ar,{hash:{},data:aq}):ap}an+=af(ao)+'" style="font-size: 10px!important;">';if(ap=Z.prechat_form_gdpr_label){ao=ap.call(ar,{hash:{},data:aq})}else{ap=(ar&&ar.prechat_form_gdpr_label);ao=typeof ap===w?ap.call(ar,{hash:{},data:aq}):ap}an+=af(ao)+"</a>\n      </label>\n      </div>\n      ";return an}function O(aq,ap){var an,ao;if(ao=Z.proactive_visitor_info_form_save_text){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.proactive_visitor_info_form_save_text);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function I(ao,an){return"Save"}function E(aq,ap){var an,ao;if(ao=Z.proactive_visitor_info_form_cancel_text){an=ao.call(aq,{hash:{},data:ap})}else{ao=(aq&&aq.proactive_visitor_info_form_cancel_text);an=typeof ao===w?ao.call(aq,{hash:{},data:ap}):ao}return af(an)}function v(ao,an){return"Cancel"}function t(ao,an){return"</div></div>"}function o(ar,aq){var an="",ap,ao;an+=af((ap=Z.add_cd_styles||(ar&&ar.add_cd_styles),ao={hash:{},data:aq},ap?ap.call(ar,".clickdesk-ultra .clickdesk-option a{white-space: nowrap;overflow: hidden;text-overflow: ellipsis;padding-bottom:5px !important;}.clickdesk-ultra .cd-chat-content a.cdw-chat-popup-option{width: 11em !important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;padding-right: 43px !important;}.clickdesk-ultra input.cdw-chat-contact-send-button, .clickdesk-ultra input.cdw-chat-contact-send-button:hover{-webkit-box-sizing: border-box !important;-moz-box-sizing: border-box !important;box-sizing: border-box!important;}",ao):Y.call(ar,"add_cd_styles",".clickdesk-ultra .clickdesk-option a{white-space: nowrap;overflow: hidden;text-overflow: ellipsis;padding-bottom:5px !important;}.clickdesk-ultra .cd-chat-content a.cdw-chat-popup-option{width: 11em !important;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;padding-right: 43px !important;}.clickdesk-ultra input.cdw-chat-contact-send-button, .clickdesk-ultra input.cdw-chat-contact-send-button:hover{-webkit-box-sizing: border-box !important;-moz-box-sizing: border-box !important;box-sizing: border-box!important;}",ao)))+" ";return an}x+='<div id="clickdesk_chat_session" class="cd-chat-content" style="display:none;position:relative !important;">\n         \n     ';G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(1,X,am),data:am});if(G||G===0){x+=G}x+='\n        <div class="clickdesk-calling-option">\n           <ul>\n             <li style="display: none;" id="clickdesk_video_call"><a  class="cdw-video-call" title="';G=Z["with"].call(c,(c&&c.system_message_prefs),{hash:{},inverse:j.program(6,R,am),fn:j.program(3,W,am),data:am});if(G||G===0){x+=G}x+='" onclick="return false;" style="background-position: -29px -4px !important;"></a></li>\n             <li style="display: none" id="clickdesk_audio_call"><a  class="cdw-audio-call" title="';G=Z["with"].call(c,(c&&c.system_message_prefs),{hash:{},inverse:j.program(11,P,am),fn:j.program(8,N,am),data:am});if(G||G===0){x+=G}x+='" onclick="return false;"></a></li>\n           </ul>\n           \n           \n           <div class="clickdesk-option">\n             ';z={hash:{},inverse:j.program(15,F,am),fn:j.program(13,J,am),data:am};if(r=Z.cd_is_customer_enabled){G=r.call(c,z)}else{r=(c&&c.cd_is_customer_enabled);G=typeof r===w?r.call(c,z):r}if(!Z.cd_is_customer_enabled){G=L.call(c,G,{hash:{},inverse:j.program(15,F,am),fn:j.program(13,J,am),data:am})}if(G||G===0){x+=G}x+='\n           </div>\n           \n       </div>\n       <div id="cd_valid_session_for_audio_video" class="cdw-av-errordiv" style="display:none;"></div>\n       ';G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(17,B,am),data:am});if(G||G===0){x+=G}x+=' \n        \n        <div id="clickdesk_chat_messages" ';G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(19,y,am),data:am});if(G||G===0){x+=G}x+=">\n        ";G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.program(23,m,am),fn:j.program(21,q,am),data:am});if(G||G===0){x+=G}x+="\n        </div>\n        \n        ";G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(25,k,am),data:am});if(G||G===0){x+=G}x+='\n        <div class="cdw-chat-form" ';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.noop,fn:j.program(27,g,am),data:am});if(G||G===0){x+=G}x+='>\n			<form onsubmit="return ClickDesk_Message_Util.submit_chat_form();" id="cdChatSendForm" name="broadcastchatForm" ';G=Z.unless.call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(29,d,am),data:am});if(G||G===0){x+=G}x+=">\n			    ";G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.program(33,ai,am),fn:j.program(31,ak,am),data:am});if(G||G===0){x+=G}x+='\n                \n               \n                <div class="clickdesk-chat-mislanious-controls" ';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.noop,fn:j.program(38,ab,am),data:am});if(G||G===0){x+=G}x+='>\n							<div style="position:relative !important;display: inline';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.program(40,T,am),fn:j.program(31,ak,am),data:am});if(G||G===0){x+=G}x+="!important;\" onmouseover=\"ClickDesk_DOM.set_style_by_id('cd_user_rating', {'display':'block'});\" onmouseout=\"ClickDesk_DOM.set_style_by_id('cd_user_rating', {'display' :'none'});\"> \n                             ";z={hash:{},inverse:j.noop,fn:j.program(42,Q,am),data:am};if(r=Z.cd_is_customer_enabled){G=r.call(c,z)}else{r=(c&&c.cd_is_customer_enabled);G=typeof r===w?r.call(c,z):r}if(!Z.cd_is_customer_enabled){G=L.call(c,G,{hash:{},inverse:j.noop,fn:j.program(42,Q,am),data:am})}if(G||G===0){x+=G}x+='\n                            <a id="cd_rating"  onclick="return false;" style="display: none!important;">0</a>\n								<div id="cd_user_rating" style="z-index: 100 !important;min-width: 19px !important;right: 5px !important;top: -100px !important;display:none;">  \n									<ul style="margin: 5px!important;">                            \n										<li><a  rel="5" class="sprite-icons-star" onclick="return false;"></a></li>                            \n										<li><a  rel="4" class="sprite-icons-star" onclick="return false;"></a></li>                            \n										<li><a  rel="3" class="cd-undone sprite-icons-star-half" onclick="return false;"></a></li>                            \n										<li><a  rel="2" class="cd-undone sprite-icons-star-half" onclick="return false;"></a></li>                            \n										<li><a  rel="1" class="cd-undone sprite-icons-star-half" onclick="return false;"></a></li>                        \n									</ul>                    \n								</div>\n							</div>\n                            <div style="position:relative !important;display: inline';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.program(40,T,am),fn:j.program(31,ak,am),data:am});if(G||G===0){x+=G}x+="!important;\" class=\"clickdesk-smile-option\" onmouseover=\"ClickDesk_DOM.set_style_by_id('clickdesk_smilediv', {'display':'block'});\" onmouseout=\"ClickDesk_DOM.set_style_by_id('clickdesk_smilediv', {'display':'none'});\">\n							 ";z={hash:{},inverse:j.noop,fn:j.program(44,M,am),data:am};if(r=Z.cd_is_customer_enabled){G=r.call(c,z)}else{r=(c&&c.cd_is_customer_enabled);G=typeof r===w?r.call(c,z):r}if(!Z.cd_is_customer_enabled){G=L.call(c,G,{hash:{},inverse:j.noop,fn:j.program(44,M,am),data:am})}if(G||G===0){x+=G}x+='\n                            <div id="clickdesk_smilediv" class="clickdesk-smile-option-container" style="z-index: 100 !important;min-width: 120px !important;right: 0px!important;top: -135px!important;">\n	        						<div>\n	            						<span class="cd-smiley-container cd-Smile"></span><span class="cd-smiley-container cd-Laugh"></span><span class="cd-smiley-container cd-Cool"></span><span class="cd-smiley-container cd-Counter"></span>\n	            						<span class="cd-smiley-container cd-Wink"></span><span class="cd-smiley-container cd-Cheeky"></span><span class="cd-smiley-container cd-Sweating"></span><span class="cd-smiley-container cd-Crying"></span>\n	            						<span class="cd-smiley-container cd-Angry"></span><span class="cd-smiley-container cd-Giggle"></span><span class="cd-smiley-container cd-Allforyou"></span><span class="cd-smiley-container cd-Hmm"></span>\n	            						<span class="cd-smiley-container cd-Heart"></span><span class="cd-smiley-container cd-Star"></span><span class="cd-smiley-container cd-Yes"></span><span class="cd-smiley-container cd-No"></span>\n	            							<div style="text-align:left;border-top: 1px solid whiteSmoke;padding: 2px;height:22px;">\n                   	 							<div id="cd_set_smilyName" style="color:white!important;padding-left: 7px;float:left!important;"></div>\n                     							<div id="cd_set_smilySymbol" style="color:white!important;margin-right: 12px;float:right!important;"></div>\n                							</div>\n	        						</div>\n	   						</div>\n\n                            </div>\n                            </div>\n                  \n                ';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.program(31,ak,am),fn:j.program(46,H,am),data:am});if(G||G===0){x+=G}x+="\n\n			</form>\n		</div>\n        ";G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(17,B,am),data:am});if(G||G===0){x+=G}x+='\n        \n        <div id="clickdesk_popout_footer_options" class="cdw-chat-popup" style="display: none;top:25px !important">\n					    <a  id="cd_voice" class="cdw-chat-popup-option sprite-icons-icon-first" title="'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_sound_label)),typeof G===w?G.apply(c):G))+'">'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_sound_label)),typeof G===w?G.apply(c):G))+'</a>\n                        <a  id="cd_send_email_to_visitor" class="cdw-chat-popup-option" onclick="clickdesk_toggle_element_by_id(\'clickdesk_popout_footer_options\');return false;" title="'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_send_transcript_label)),typeof G===w?G.apply(c):G))+'">'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_send_transcript_label)),typeof G===w?G.apply(c):G))+'</a>\n                        <a  id="cd_file_upload_container" class="cdw-chat-popup-option" title="'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_send_file_label)),typeof G===w?G.apply(c):G))+'" onclick="ClickDesk_DOM.fire_event(document.getElementById(\'cd_upload\'), \'click\');return false;" style="">\n								'+af(((G=((G=(c&&c.customvalidationmssgs_prefs)),G==null||G===false?G:G.customstatusmssgs_chat_window_more_option_send_file_label)),typeof G===w?G.apply(c):G))+'</a>\n  						<input type="file" multiple="multiple" name="cd_upload" id="cd_upload" class="" onchange="ClickDesk_File_Upload.upload_file(this);" style="display: none;"/>\n                        <img id="cd_file_upload_process" src="" style="display: none;width:18px;height:18px;position: absolute;bottom: 5px;right: 23px;"/>\n                        ';G=Z["if"].call(c,(c&&c.mobile_browser),{hash:{},inverse:j.noop,fn:j.program(48,C,am),data:am});if(G||G===0){x+=G}x+="\n         </div>\n         ";G=Z["with"].call(c,(c&&c.online_form_prefs),{hash:{},inverse:j.noop,fn:j.program(54,n,am),data:am});if(G||G===0){x+=G}x+="\n        \n        ";G=Z["if"].call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(83,t,am),data:am});if(G||G===0){x+=G}x+="\n";G=Z.unless.call(c,(c&&c.popout_window),{hash:{},inverse:j.noop,fn:j.program(85,o,am),data:am});if(G||G===0){x+=G}x+="\n"+af((r=Z.add_cd_styles||(c&&c.add_cd_styles),z={hash:{},data:am},r?r.call(c,".queued .cdw-chat-body-message-welcome .cd-msg::after {content: url(https://d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/ajax-load-black.gif);float: right;}.clickdesk-ultra .queued .queued-offline{margin-top:5px;}",z):Y.call(c,"add_cd_styles",".queued .cdw-chat-body-message-welcome .cd-msg::after {content: url(https://d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/ajax-load-black.gif);float: right;}.clickdesk-ultra .queued .queued-offline{margin-top:5px;}",z)))+"\n     \n</div>\n";return x});a["clickdesk-container"]=b(function(g,u,s,m,w){this.compilerInfo=[4,">= 1.0.0"];s=this.merge(s,g.helpers);w=w||{};var t="",j,c,q=this,r=s.helperMissing,f="function",d=this.escapeExpression;function o(y,x){return"bottom: 0px;position: absolute;z-index: 2147483638;margin: 0px;left: 0px;right: 0px;height: 100%;width: 100%!important;"}function n(y,x){return"z-index:2147483638;"}function l(y,x){return"width: 100% !important;position: relative !important;overflow-x: auto!important;"}function k(C,B){var x="",z,A,y;x+="text-align:left!important;bottom:0px;position:fixed;z-index:2147483638;margin: 0px 10px 0px 10px;\n           ";z=(A=s.cd_compare||(C&&C.cd_compare),y={hash:{},inverse:q.program(10,v,B),fn:q.program(8,h,B),data:B},A?A.call(C,((z=(C&&C.template_prefs)),z==null||z===false?z:z.position),"bottom_left",y):r.call(C,"cd_compare",((z=(C&&C.template_prefs)),z==null||z===false?z:z.position),"bottom_left",y));if(z||z===0){x+=z}return x}function h(y,x){return"left: 0px;right: auto;"}function v(y,x){return"left: auto;right: 0px;"}t+='<div id="clickdesk_container" class="clickdesk_chat clickdesk-ultra clickdesk_cdw_j cdw" style="display: none;font-family:Verdana, Geneva, sans-serif !important;">\n   <div id="clickdesk_frame_container">\n	    <div id="clickdeskchat_container" style="';j=s["if"].call(u,(u&&u.popout_window),{hash:{},inverse:q.program(3,n,w),fn:q.program(1,o,w),data:w});if(j||j===0){t+=j}t+='">\n		   <div id="clickdesk_popup" class="cd-chat-inner clickdesk_b cd-chat-content cdw-chat clickdesk-';if(c=s.cd_get_script_direction){j=c.call(u,{hash:{},data:w})}else{c=(u&&u.cd_get_script_direction);j=typeof c===f?c.call(u,{hash:{},data:w}):c}t+=d(j)+'-lang" style="';j=s["if"].call(u,(u&&u.popout_window),{hash:{},inverse:q.program(7,k,w),fn:q.program(5,l,w),data:w});if(j||j===0){t+=j}t+='"></div>\n        </div>\n    </div>\n</div>';return t});a["clickdesk-custom-images"]=b(function(j,w,v,o,z){this.compilerInfo=[4,">= 1.0.0"];v=this.merge(v,j.helpers);z=z||{};var l,c,g,f="function",d=this.escapeExpression,t=this,u=v.helperMissing;function s(D,C){var A="",B;A+='\n   <img src="';B=v["if"].call(D,(D&&D.custom_images_prefs),{hash:{},inverse:t.program(4,q,C),fn:t.program(2,r,C),data:C});if(B||B===0){A+=B}A+='" style="cursor:pointer;border:none;" />\n';return A}function r(C,B){var A;return d(((A=((A=(C&&C.custom_images_prefs)),A==null||A===false?A:A.custom_online_image_url)),typeof A===f?A.apply(C):A))}function q(E,D){var A="",B,C;A+="//my.clickdesk.com/images/ss/live-";if(C=v.status){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.status);B=typeof C===f?C.call(E,{hash:{},data:D}):C}A+=d(B)+".png";return A}function n(F,E){var A="",C,D,B;A+="\n        \n     ";C=(D=v.cd_compare||(F&&F.cd_compare),B={hash:{},inverse:t.program(13,x,E),fn:t.program(7,m,E),data:E},D?D.call(F,((C=(F&&F.bubble_prefs)),C==null||C===false?C:C.hide_offline),"true",B):u.call(F,"cd_compare",((C=(F&&F.bubble_prefs)),C==null||C===false?C:C.hide_offline),"true",B));if(C||C===0){A+=C}A+="\n                 \n";return A}function m(F,E){var A="",C,D,B;A+="\n          ";C=(D=v.cd_compare||(F&&F.cd_compare),B={hash:{},inverse:t.program(11,y,E),fn:t.program(8,k,E),data:E},D?D.call(F,(F&&F.plan_type),"free",B):u.call(F,"cd_compare",(F&&F.plan_type),"free",B));if(C||C===0){A+=C}A+="\n     ";return A}function k(D,C){var A="",B;A+='\n             <img src="';B=v["if"].call(D,(D&&D.custom_images_prefs),{hash:{},inverse:t.program(4,q,C),fn:t.program(9,h,C),data:C});if(B||B===0){A+=B}A+='" style="cursor:pointer;border:none;" />\n          ';return A}function h(C,B){var A;return d(((A=((A=(C&&C.custom_images_prefs)),A==null||A===false?A:A.custom_offline_image_url)),typeof A===f?A.apply(C):A))}function y(B,A){return"\n                      \n          "}function x(D,C){var A="",B;A+='\n         <img src="';B=v["if"].call(D,(D&&D.custom_images_prefs),{hash:{},inverse:t.program(4,q,C),fn:t.program(9,h,C),data:C});if(B||B===0){A+=B}A+='" style="cursor:pointer;border:none;" />\n     ';return A}l=(c=v.cd_compare||(w&&w.cd_compare),g={hash:{},inverse:t.program(6,n,z),fn:t.program(1,s,z),data:z},c?c.call(w,(w&&w.status),"online",g):u.call(w,"cd_compare",(w&&w.status),"online",g));if(l||l===0){return l}else{return""}});a["clickdesk-email-to-visitor"]=b(function(g,n,f,m,l){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);l=l||{};var j="",c,h="function",k=this.escapeExpression,o=this;function d(u,t){var q="",r,s;q+='\n             <div class="cdw-chat-contact-text" style="margin-bottom:15px !important;">';if(s=f.emailtovisitor_form_status_message_label){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.emailtovisitor_form_status_message_label);r=typeof s===h?s.call(u,{hash:{},data:t}):s}if(r||r===0){q+=r}q+='</div>\n             <div class="cdw-chat-contact-text">\n                <input type="text" placeholder="';if(s=f.emailtovisitor_form_name_label){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.emailtovisitor_form_name_label);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=k(r)+'" id="cd-sendEmailToVistorName" class="cdw-chat-contact-form-text" maxlength="50"  ref_cookie_name="visitor_name"/>\n			 </div>\n             <div class="cdw-chat-contact-text">\n                <input type="email" placeholder="';if(s=f.emailtovisitor_form_email_label){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.emailtovisitor_form_email_label);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=k(r)+' *" id="cd-sendEmailToVistorEmail" class="cdw-chat-contact-form-text" required="required" maxlength="50" ref_cookie_name="visitor_email"/>\n			 </div>      \n   \n             <div style="min-height:10px !important;">\n             <div class="cdw-chat-popup-error" id="cd_emailToVistitor_status"></div>\n             </div>\n              \n             <div class="cdw-chat-contact-text" style="text-align:left!important;">\n                  <input type="submit" id="emailChatTsToVisitor_submit" class="cdw-chat-popup-form-button" value="';if(s=f.emailtovisitor_form_send_button_text){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.emailtovisitor_form_send_button_text);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=k(r)+'" style="box-shadow: none!important;"/>\n                  or\n                  <a id="cd_emailToVistitor_acl" class="cdw-chat-popup-link" onclick="return false;">';if(s=f.emailtovisitor_form_cancel_button_text){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.emailtovisitor_form_cancel_button_text);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=k(r)+"</a>\n             </div>\n         ";return q}j+='<div class="cd-form-sec" id="emailChatToVisitorForm" style="display:none;">\n    <div class="cdw-chat-contact" style="height:auto !important;padding-bottom:4px !important;">\n        ';c=f["with"].call(n,(n&&n.emailtovisitor_form_prefs),{hash:{},inverse:o.noop,fn:o.program(1,d,l),data:l});if(c||c===0){j+=c}j+="\n          \n     </div>\n</div>\n";return j});a["clickdesk-footer"]=b(function(n,B,z,t,J){this.compilerInfo=[4,">= 1.0.0"];z=this.merge(z,n.helpers);J=J||{};var A="",r,c,h,f="function",d=this.escapeExpression,x=this,y=z.helperMissing;function w(L,K){return'style="margin-bottom: 10px;"'}function v(M,L){var K;K=z["if"].call(M,(M&&M.CHAT_ICON_TITLE),{hash:{},inverse:x.program(6,s,L),fn:x.program(4,u,L),data:L});if(K||K===0){return K}else{return""}}function u(N,M){var K,L;if(L=z.CHAT_ICON_TITLE){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.CHAT_ICON_TITLE);K=typeof L===f?L.call(N,{hash:{},data:M}):L}return d(K)}function s(L,K){return"Chat"}function q(N,M){var K="",L;K+='<a  id="cd_helpdesk" class="cdw-help-desk" title="';L=z["with"].call(N,(N&&N.system_message_prefs),{hash:{},inverse:x.program(12,H,M),fn:x.program(9,m,M),data:M});if(L||L===0){K+=L}K+='" onclick="ClickDesk_Social_Tab_Ui.show_social_network_tab(\'cd_helpdesk\');return false;"></a> ';return K}function m(M,L){var K;K=z["if"].call(M,(M&&M.HELPDESK_ICON_TITLE),{hash:{},inverse:x.program(12,H,L),fn:x.program(10,I,L),data:L});if(K||K===0){return K}else{return""}}function I(N,M){var K,L;if(L=z.HELPDESK_ICON_TITLE){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.HELPDESK_ICON_TITLE);K=typeof L===f?L.call(N,{hash:{},data:M}):L}return d(K)}function H(L,K){return"HelpDesk"}function G(P,O){var K="",M,N,L;K+="\n                     ";M=(N=z.cd_social_prefs||(P&&P.cd_social_prefs),L={hash:{},inverse:x.program(17,E,O),fn:x.program(15,F,O),data:O},N?N.call(P,((M=(P&&P.social_network)),M==null||M===false?M:M.twitter_url),L):y.call(P,"cd_social_prefs",((M=(P&&P.social_network)),M==null||M===false?M:M.twitter_url),L));if(M||M===0){K+=M}K+="\n					 ";M=(N=z.cd_social_prefs||(P&&P.cd_social_prefs),L={hash:{},inverse:x.program(23,l,O),fn:x.program(15,F,O),data:O},N?N.call(P,((M=(P&&P.social_network)),M==null||M===false?M:M.facebook_url),L):y.call(P,"cd_social_prefs",((M=(P&&P.social_network)),M==null||M===false?M:M.facebook_url),L));if(M||M===0){K+=M}K+="\n                 ";return K}function F(L,K){return" "}function E(N,M){var K="",L;K+='\n					 <a  id="cd_twitter"  class="cdw-twitter-tweet" title="';L=z["with"].call(N,(N&&N.system_message_prefs),{hash:{},inverse:x.program(21,o,M),fn:x.program(18,D,M),data:M});if(L||L===0){K+=L}K+='" onclick="ClickDesk_Social_Tab_Ui.show_social_network_tab(\'cd_twitter\');return false;"></a>\n                     ';return K}function D(M,L){var K;K=z["if"].call(M,(M&&M.TWITTER_ICON_TITLE),{hash:{},inverse:x.program(21,o,L),fn:x.program(19,C,L),data:L});if(K||K===0){return K}else{return""}}function C(N,M){var K,L;if(L=z.TWITTER_ICON_TITLE){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.TWITTER_ICON_TITLE);K=typeof L===f?L.call(N,{hash:{},data:M}):L}return d(K)}function o(L,K){return"Tweet"}function l(N,M){var K="",L;K+='\n					 <a  id="cd_facebook"  class="cdw-facebook-like" title="';L=z["with"].call(N,(N&&N.system_message_prefs),{hash:{},inverse:x.program(27,g,M),fn:x.program(24,k,M),data:M});if(L||L===0){K+=L}K+='" onclick="ClickDesk_Social_Tab_Ui.show_social_network_tab(\'cd_facebook\');return false;"></a>\n                     ';return K}function k(M,L){var K;K=z["if"].call(M,(M&&M.FACEBOOK_ICON_TITLE),{hash:{},inverse:x.program(27,g,L),fn:x.program(25,j,L),data:L});if(K||K===0){return K}else{return""}}function j(N,M){var K,L;if(L=z.FACEBOOK_ICON_TITLE){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.FACEBOOK_ICON_TITLE);K=typeof L===f?L.call(N,{hash:{},data:M}):L}return d(K)}function g(L,K){return"Like"}A+='<div class="cd-chat-content" id="clickdesk-chat-w-footer">\n	<div id="clickdesk_footer_tabs" class="ClickDeskFooter cd-footer">\n           <ul>\n               <li class="ClickDeskActive" style="display:none;"><a  id="cd_chat" onclick="return false;"><span onclick="ClickDesk_Social_Tab_Ui.show_social_network_tab(\'cd_chat\');" class="sprite-icons-footer-chat"></span></a> </li>\n           </ul>\n	</div>\n    <div class="cdw-chat-bottom" ';r=z["if"].call(B,(B&&B.popout_window),{hash:{},inverse:x.noop,fn:x.program(1,w,J),data:J});if(r||r===0){A+=r}A+='>\n			<div class="cdw-chat-bottom-options" style="display:inline-block !important;">\n              <div>\n                     <a  id="cd_chat" class="cdw-chat-session" title="';r=z["with"].call(B,(B&&B.system_message_prefs),{hash:{},inverse:x.program(6,s,J),fn:x.program(3,v,J),data:J});if(r||r===0){A+=r}A+='" onclick="ClickDesk_Social_Tab_Ui.show_social_network_tab(\'cd_chat\');return false;"></a> \n                     ';r=z["if"].call(B,(B&&B.helpdesk_enabled),{hash:{},inverse:x.noop,fn:x.program(8,q,J),data:J});if(r||r===0){A+=r}A+="\n                 ";r=z["if"].call(B,(B&&B.social_network),{hash:{},inverse:x.noop,fn:x.program(14,G,J),data:J});if(r||r===0){A+=r}A+='\n                 \n              </div>\n            </div>\n            <div class="cdw-chat-popup-white-label" style="margin-top:3px !important;">';r=(c=z.clickdesk_white_label||(B&&B.clickdesk_white_label),h={hash:{},data:J},c?c.call(B,"text",h):y.call(B,"clickdesk_white_label","text",h));if(r||r===0){A+=r}A+="</div>\n	</div> \n</div>";return A});a["clickdesk-header"]=b(function(T,c,S,z,ah){this.compilerInfo=[4,">= 1.0.0"];S=this.merge(S,T.helpers);ah=ah||{};var v="",B,k=this,u="function",aa=this.escapeExpression,G=S.blockHelperMissing;function R(al,ak){var ai="",aj;ai+='<div id="ClickDesk_Dragger" class="ClickDesk_Dragger" style="position:absolute !important;height:40px;width:';aj=S.unless.call(al,(al&&al.ie_browser),{hash:{},inverse:k.program(4,O,ak),fn:k.program(2,Q,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='px;top:0px;left:0px;cursor:move !important;margin:0;border:0;padding:0;z-index:2147483699"></div>';return ai}function Q(aj,ai){return"180"}function O(aj,ai){return"210"}function M(al,ak){var ai="",aj;ai+='style="height: ';aj=S["if"].call(al,(al&&al.mobile_browser),{hash:{},inverse:k.program(9,F,ak),fn:k.program(7,K,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='!important;"';return ai}function K(aj,ai){return"auto"}function F(aj,ai){return"70px"}function J(aj,ai){return"border-radius: 0px!important;"}function E(al,ak){var ai="",aj;ai+='style="';aj=S["if"].call(al,(al&&al.mobile_browser),{hash:{},inverse:k.program(16,y,ak),fn:k.program(14,D,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='"';return ai}function D(aj,ai){return"padding: 11px 56px 11px 13px !important;"}function y(aj,ai){return"padding-left: 10px!important;"}function w(aj,ai){return"ClickDesk_Dragger"}function s(al,ak){var ai="",aj;ai+='style="display: ';aj=S["if"].call(al,(al&&al.mobile_browser),{hash:{},inverse:k.program(23,n,ak),fn:k.program(21,q,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='position: relative!important;vertical-align: middle!important;left: auto!important;top: auto!important;margin-right: 5px;"';return ai}function q(aj,ai){return"none!important;"}function n(aj,ai){return"inline-block;"}function l(aj,ai){return'style="cursor:move !important;"'}function g(aj,ai){return"cursor:move !important;"}function d(aj,ai){return'style="display: inline-block;margin-top:0px!important;white-space:nowrap;"'}function ae(ak,aj){var ai;return aa(((ai=((ai=(ak&&ak.customvalidationmssgs_prefs)),ai==null||ai===false?ai:ai.customstatusmssgs_chat_window_label)),typeof ai===u?ai.apply(ak):ai))}function ac(aj,ai){return"Can we help?"}function Z(an,am){var ai="",ak,al,aj;ai+=' \n               <span><a  id="clickdesk_min" class="cdw-chat-bar-buttons-minimize" onclick="return false;" title="';ak=S["with"].call(an,(an&&an.system_message_prefs),{hash:{},inverse:k.program(39,U,am),fn:k.program(36,X,am),data:am});if(ak||ak===0){ai+=ak}ai+='"></a></span>\n               ';aj={hash:{},inverse:k.noop,fn:k.program(41,N,am),data:am};if(al=S.cd_is_customer_enabled){ak=al.call(an,aj)}else{al=(an&&an.cd_is_customer_enabled);ak=typeof al===u?al.call(an,aj):al}if(!S.cd_is_customer_enabled){ak=G.call(an,ak,{hash:{},inverse:k.noop,fn:k.program(41,N,am),data:am})}if(ak||ak===0){ai+=ak}ai+='\n               <span> <a  id="clickdesk_close" class="cdw-chat-bar-buttons-close" onclick="return false;" title="';ak=S["with"].call(an,(an&&an.system_message_prefs),{hash:{},inverse:k.program(55,m,am),fn:k.program(52,r,am),data:am});if(ak||ak===0){ai+=ak}ai+='"></a></span>\n               ';return ai}function X(ak,aj){var ai;ai=S["if"].call(ak,(ak&&ak.MINIMIZE_ICON_TITLE),{hash:{},inverse:k.program(39,U,aj),fn:k.program(37,W,aj),data:aj});if(ai||ai===0){return ai}else{return""}}function W(al,ak){var ai,aj;if(aj=S.MINIMIZE_ICON_TITLE){ai=aj.call(al,{hash:{},data:ak})}else{aj=(al&&al.MINIMIZE_ICON_TITLE);ai=typeof aj===u?aj.call(al,{hash:{},data:ak}):aj}return aa(ai)}function U(aj,ai){return"Minimize"}function N(al,ak){var ai="",aj;ai+="\n               	";aj=S.unless.call(al,(al&&al.mobile_browser),{hash:{},inverse:k.noop,fn:k.program(42,L,ak),data:ak});if(aj||aj===0){ai+=aj}ai+="\n               ";return ai}function L(ak,aj){var ai;ai=S.unless.call(ak,(ak&&ak.ie_browser),{hash:{},inverse:k.noop,fn:k.program(43,I,aj),data:aj});if(ai||ai===0){return ai}else{return""}}function I(am,al){var aj,ak,ai;ai={hash:{},inverse:k.program(46,C,al),fn:k.program(44,H,al),data:al};if(ak=S.cd_windows_safari){aj=ak.call(am,ai)}else{ak=(am&&am.cd_windows_safari);aj=typeof ak===u?ak.call(am,ai):ak}if(!S.cd_windows_safari){aj=G.call(am,aj,{hash:{},inverse:k.program(46,C,al),fn:k.program(44,H,al),data:al})}if(aj||aj===0){return aj}else{return""}}function H(aj,ai){return" "}function C(al,ak){var ai="",aj;ai+='<span id="clickdesk_popout_container"> <a  id="clickdesk_popout" class="cdw-chat-bar-buttons-popout" onclick="ClickDesk_Window_Popout.window_popout();return false;" title="';aj=S["with"].call(al,(al&&al.system_message_prefs),{hash:{},inverse:k.program(50,t,ak),fn:k.program(47,A,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='"></a></span>';return ai}function A(ak,aj){var ai;ai=S["if"].call(ak,(ak&&ak.POPOUT_ICON_TITLE),{hash:{},inverse:k.program(50,t,aj),fn:k.program(48,x,aj),data:aj});if(ai||ai===0){return ai}else{return""}}function x(al,ak){var ai,aj;if(aj=S.POPOUT_ICON_TITLE){ai=aj.call(al,{hash:{},data:ak})}else{aj=(al&&al.POPOUT_ICON_TITLE);ai=typeof aj===u?aj.call(al,{hash:{},data:ak}):aj}return aa(ai)}function t(aj,ai){return"Pop-out"}function r(ak,aj){var ai;ai=S["if"].call(ak,(ak&&ak.CLOSE_ICON_TITLE),{hash:{},inverse:k.program(55,m,aj),fn:k.program(53,o,aj),data:aj});if(ai||ai===0){return ai}else{return""}}function o(al,ak){var ai,aj;if(aj=S.CLOSE_ICON_TITLE){ai=aj.call(al,{hash:{},data:ak})}else{aj=(al&&al.CLOSE_ICON_TITLE);ai=typeof aj===u?aj.call(al,{hash:{},data:ak}):aj}return aa(ai)}function m(aj,ai){return"Close"}function j(al,ak){var ai="",aj;ai+="\n    		   ";aj=S.unless.call(al,(al&&al.mobile_browser),{hash:{},inverse:k.program(64,ad,ak),fn:k.program(58,h,ak),data:ak});if(aj||aj===0){ai+=aj}ai+="\n			   ";return ai}function h(al,ak){var ai="",aj;ai+='<span><a  id="clickdesk_popin" class="cdw-chat-bar-buttons-popin" onclick="ClickDesk_Storage.delete_prefs(\'window_popout\');cd_PopIn=true;window.close();return false;" title="';aj=S["with"].call(al,(al&&al.system_message_prefs),{hash:{},inverse:k.program(62,af,ak),fn:k.program(59,f,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='"></a></span>';return ai}function f(ak,aj){var ai;ai=S["if"].call(ak,(ak&&ak.POPIN_ICON_TITLE),{hash:{},inverse:k.program(62,af,aj),fn:k.program(60,ag,aj),data:aj});if(ai||ai===0){return ai}else{return""}}function ag(al,ak){var ai,aj;if(aj=S.POPIN_ICON_TITLE){ai=aj.call(al,{hash:{},data:ak})}else{aj=(al&&al.POPIN_ICON_TITLE);ai=typeof aj===u?aj.call(al,{hash:{},data:ak}):aj}return aa(ai)}function af(aj,ai){return"Pop-in"}function ad(al,ak){var ai="",aj;ai+='\n                    <!-- <span><a  class="cdw-chat-bar-buttons-close" onclick="ClickDesk_Widget_Session.delete_session(\'visitor_closed\');return false;" title="';aj=S["with"].call(al,(al&&al.system_message_prefs),{hash:{},inverse:k.program(55,m,ak),fn:k.program(52,r,ak),data:ak});if(aj||aj===0){ai+=aj}ai+='"></a></span> -->\n			   ';return ai}function ab(al,ak){var ai="",aj;ai+="\n                   ";aj=S.unless.call(al,(al&&al.popout_window),{hash:{},inverse:k.program(69,V,ak),fn:k.program(67,Y,ak),data:ak});if(aj||aj===0){ai+=aj}ai+="\n                   ";return ai}function Y(al,ak){var ai="",aj;ai+="\n                        <a href='"+aa(((aj=((aj=(al&&al.social_network)),aj==null||aj===false?aj:aj.twitter_url)),typeof aj===u?aj.apply(al):aj))+"' class='twitter-share-button'>Tweet</a>\n			            <a href='"+aa(((aj=((aj=(al&&al.social_network)),aj==null||aj===false?aj:aj.twitter_url)),typeof aj===u?aj.apply(al):aj))+"' class='twitter-follow-button' data-show-count='false' data-show-screen-name='false' data-width='100px' >Follow</a>\n					 ";return ai}function V(al,ak){var ai="",aj;ai+="\n                        ";aj=S["if"].call(al,(al&&al.mobile_browser),{hash:{},inverse:k.noop,fn:k.program(70,P,ak),data:ak});if(aj||aj===0){ai+=aj}ai+="\n                   ";return ai}function P(al,ak){var ai="",aj;ai+="\n                        <a href='"+aa(((aj=((aj=(al&&al.social_network)),aj==null||aj===false?aj:aj.twitter_url)),typeof aj===u?aj.apply(al):aj))+"' class='twitter-share-button'>Tweet</a>\n			            <a href='"+aa(((aj=((aj=(al&&al.social_network)),aj==null||aj===false?aj:aj.twitter_url)),typeof aj===u?aj.apply(al):aj))+"' class='twitter-follow-button' data-show-count='false' data-show-screen-name='false' data-width='100px' >Follow</a>\n						";return ai}B=S.unless.call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(1,R,ah),data:ah});if(B||B===0){v+=B}v+='\n<div id="clickdesk_header" class="cd-chat-inner-top" ';B=S["if"].call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(6,M,ah),data:ah});if(B||B===0){v+=B}v+='>\n      <div class="cdw-chat-header" style="z-index:99;';B=S["if"].call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(11,J,ah),data:ah});if(B||B===0){v+=B}v+='">\n         <div class="cdw-chat-header-inner" ';B=S["if"].call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(13,E,ah),data:ah});if(B||B===0){v+=B}v+='> \n            <div class="cdw-chat-header-avatar ';B=S.unless.call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(18,w,ah),data:ah});if(B||B===0){v+=B}v+='" ';B=S["if"].call(c,(c&&c.popout_window),{hash:{},inverse:k.program(25,l,ah),fn:k.program(20,s,ah),data:ah});if(B||B===0){v+=B}v+='><img id="cd_agent_image" style="background-color: #fff!important;';B=S.unless.call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(27,g,ah),data:ah});if(B||B===0){v+=B}v+='" src="" /></div>\n			<div class="cdw-chat-header-text" ';B=S["if"].call(c,(c&&c.popout_window),{hash:{},inverse:k.noop,fn:k.program(29,d,ah),data:ah});if(B||B===0){v+=B}v+='>\n				<div class="cdw-chat-header-text-name" id="cd_agent_name">';B=S["if"].call(c,((B=(c&&c.customvalidationmssgs_prefs)),B==null||B===false?B:B.customstatusmssgs_chat_window_label),{hash:{},inverse:k.program(33,ac,ah),fn:k.program(31,ae,ah),data:ah});if(B||B===0){v+=B}v+='</div>\n			</div>\n            <div class="cdw-chat-bar-buttons">\n               ';B=S.unless.call(c,(c&&c.popout_window),{hash:{},inverse:k.program(57,j,ah),fn:k.program(35,Z,ah),data:ah});if(B||B===0){v+=B}v+='\n            </div>\n           </div>\n           <div id="social_nw_fallow_image" class="social_nw_fallow_image" style="display: none;">\n                   ';B=S["if"].call(c,(c&&c.social_network),{hash:{},inverse:k.noop,fn:k.program(66,ab,ah),data:ah});if(B||B===0){v+=B}v+=" \n           </div>\n		</div>\n</div>";return v});a["clickdesk-iframe-form"]=b(function(g,o,f,n,m){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);m=m||{};var k="",c,h,j="function",l=this.escapeExpression,q=this;function d(u,t){var r="",s;r+='\n    	<textarea name="'+l(((s=(u&&u.name)),typeof s===j?s.apply(u):s))+'"></textarea>\n   ';return r}k+='<form method="post" action="';if(h=f.url){c=h.call(o,{hash:{},data:m})}else{h=(o&&o.url);c=typeof h===j?h.call(o,{hash:{},data:m}):h}k+=l(c)+'" id="clickdesk_frame_form" accept-charset="UTF-8">\n   ';c=f.each.call(o,(o&&o.keys),{hash:{},inverse:q.noop,fn:q.program(1,d,m),data:m});if(c||c===0){k+=c}k+='\n   <input type="submit" name="submit" value="submit" id="mybutton" />\n<form>';return k});a["clickdesk-new-message-entry"]=b(function(j,w,u,o,z){this.compilerInfo=[4,">= 1.0.0"];u=this.merge(u,j.helpers);z=z||{};var v="",l,c,g,f="function",d=this.escapeExpression,s=this,t=u.helperMissing;function r(B,A){return'style="font-size:11px!important; color: rgb(216, 90, 138) !important;"'}function q(D,C){var A="",B;A+='<span style="float: left !important;height: 49px; width: 34px;margin-top:3px !important"><img src="//my.clickdesk.com/img/webchat/file-ext-'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_extension)),typeof B===f?B.apply(D):B))+'.png" onerror="this.src = \'//my.clickdesk.com/img/webchat/file-ext-default.png\'" style="margin-right: 5px !important;width: 30px !important;height: 30px !important;" /></span><span style="display:block !important;overflow:hidden!important;">File '+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_status)),typeof B===f?B.apply(D):B))+'.<br/>File Name: <a href="'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_url)),typeof B===f?B.apply(D):B))+'" target="_blank" class="cd_hyperlink">'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_name)),typeof B===f?B.apply(D):B))+"</a><br> File Size: "+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_size)),typeof B===f?B.apply(D):B))+"</span>";return A}function n(F,E){var A="",C,D,B;C=u["if"].call(F,(F&&F.warning),{hash:{},inverse:s.noop,fn:s.program(6,m,E),data:E});if(C||C===0){A+=C}C=(D=u.cd_on_new_message||(F&&F.cd_on_new_message),B={hash:{},data:E},D?D.call(F,(F&&F.message),B):t.call(F,"cd_on_new_message",(F&&F.message),B));if(C||C===0){A+=C}return A}function m(B,A){return'<img src="//my.clickdesk.com/clickdesk-ui/browser/img/warn.png" style="height: 12px!important;width: 12px !important;margin-right: 4px;vertical-align:middle !important;"/>'}function k(F,E){var A="",C,D,B;A+="<img src=";C=(D=u.cd_compare||(F&&F.cd_compare),B={hash:{},inverse:s.program(11,y,E),fn:s.program(9,h,E),data:E},D?D.call(F,(F&&F.agent_image),"https://contactuswidget.appspot.com/images/pic.png",B):t.call(F,"cd_compare",(F&&F.agent_image),"https://contactuswidget.appspot.com/images/pic.png",B));if(C||C===0){A+=C}A+="/>";return A}function h(B,A){return'"//d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/p-agent-avatar.png"'}function y(E,D){var A="",B,C;A+='"';if(C=u.agent_image){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.agent_image);B=typeof C===f?C.call(E,{hash:{},data:D}):C}A+=d(B)+'"';return A}function x(B,A){return'<img src="//d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/visitor-avatar2.png" />'}v+='<div class="cdw-chat-body-message cdw-chat-body-message-';if(c=u.indicator){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.indicator);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'" onmouseover="clickdesk_hide_or_display_time_on_hover(this, \'visible\')" onmouseout="clickdesk_hide_or_display_time_on_hover(this, \'hidden\')">\n				<div class="cdw-chat-body-message-text cdw-chat-body-message-text-';if(c=u.indicator){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.indicator);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'" ';l=u["if"].call(w,(w&&w.warning),{hash:{},inverse:s.noop,fn:s.program(1,r,z),data:z});if(l||l===0){v+=l}v+='>\n					<div class="cdw-chat-body-message-text-name" style="clear:both;"><span id="cd_name" class="cd_name">';if(c=u.from){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.from);l=typeof c===f?c.call(w,{hash:{},data:z}):c}if(l||l===0){v+=l}v+=':</span><small id="cd_date" style="font-weight:normal!important;font-size:9px!important;float:right!important">'+d((c=u.cd_epoch_time_to_human_date||(w&&w.cd_epoch_time_to_human_date),g={hash:{},data:z},c?c.call(w,(w&&w.date),g):t.call(w,"cd_epoch_time_to_human_date",(w&&w.date),g)))+'</small></div>\n					<div class="cd-msg">';l=u["if"].call(w,((l=(w&&w.message)),l==null||l===false?l:l.file_name),{hash:{},inverse:s.program(5,n,z),fn:s.program(3,q,z),data:z});if(l||l===0){v+=l}v+='\n					 <span class="clickdesk_request_progress ';if(c=u.callback_name){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.callback_name);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'" style="display: inline-block;"><span class="cd-msg-progress" onclick="ClickDesk_JSONP.resend_req(this.parentNode.className);" onmouseover="if(this.parentNode.className.indexOf(\'clickdesk_request_failed\') != -1)this.title=\'Message not delivered. Click to resend\'; else this.title=\'\';"></span></span>\n				    </div>\n				</div>\n				<div class="cdw-chat-body-message-avatar" >';l=(c=u.cd_compare||(w&&w.cd_compare),g={hash:{},inverse:s.program(13,x,z),fn:s.program(8,k,z),data:z},c?c.call(w,(w&&w.indicator),"response",g):t.call(w,"cd_compare",(w&&w.indicator),"response",g));if(l||l===0){v+=l}v+="</div>\n</div>";return v});a["clickdesk-offline-sent-success"]=b(function(f,n,d,m,l){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,f.helpers);l=l||{};var j="",c,g,h="function",k=this.escapeExpression;j+='<div class="cd-form-sec" id="ClickdeskofflinethxMsg" style="display:none;">\n    <div class="cdw-chat-contact" style="padding-bottom:4px !important;">\n       <div style="min-height:100px !important;z-index:50!important;">\n	      <div 	class="cdw-chat-contact-text" id="ClickdeskofflinethxMsgName">';if(g=d.visitor_name){c=g.call(n,{hash:{},data:l})}else{g=(n&&n.visitor_name);c=typeof g===h?g.call(n,{hash:{},data:l}):g}j+=k(c)+'</div>\n	      <div 	class="cdw-chat-contact-text" id="ClickdeskofflinethxMsgVal">';c=((c=((c=(n&&n.offline_form_prefs)),c==null||c===false?c:c.offline_send_success_label)),typeof c===h?c.apply(n):c);if(c||c===0){j+=c}j+='</div>\n         <!-- </br>\n          <a  class="cdw-chat-popup-button" id="clickdesk_close">Close</a>-->\n       </div>\n       \n	</div>\n</div>      \n';return j});a["clickdesk-offline"]=b(function(k,B,z,r,G){this.compilerInfo=[4,">= 1.0.0"];z=this.merge(z,k.helpers);G=G||{};var A="",n,f="function",d=this.escapeExpression,w=this,y=z.helperMissing;function u(O,M,N){var I="",K,L,J;I+="\n	";K=z["if"].call(O,(N&&N.popout_window),{hash:{},inverse:w.noop,fn:w.program(2,t,M),data:M});if(K||K===0){I+=K}I+='\n					<div class="cdw-chat-contact">\n						<div class="cdw-chat-contact-text">';if(L=z.offline_status_label){K=L.call(O,{hash:{},data:M})}else{L=(O&&O.offline_status_label);K=typeof L===f?L.call(O,{hash:{},data:M}):L}if(K||K===0){I+=K}I+='</div>\n						<!--<div class="cdw-chat-contact-title">Your Name & Email </div>\n			<div class="cdw-chat-contact-options">\n				<div class="cdw-chat-contact-options-social">\n					or\n					<a  class="cdw-chat-contact-options-social-facebook" id="clickdesk_facebook_login" onclick="CLICKDESK_Live_Chat_SOCIAL.fbLogin();"></a>\n					<a  class="cdw-chat-contact-options-social-google"></a>\n				</div>\n				<a  class="cdw-chat-contact-options-name">Name, Email</a>\n			</div>-->\n						<!--<div class="cdw-chat-contact-title">Your Name & Email </div>-->\n						<div class="cdw-chat-contact-text">\n							<input\n								type="';K=z["if"].call(O,(O&&O.offline_namefield_emailvstext_label),{hash:{},inverse:w.program(6,q,M),fn:w.program(4,s,M),data:M});if(K||K===0){I+=K}I+='"\n								id="cd_offline_name"\n								placeholder="';if(L=z.offline_form_name_label){K=L.call(O,{hash:{},data:M})}else{L=(O&&O.offline_form_name_label);K=typeof L===f?L.call(O,{hash:{},data:M}):L}I+=d(K);K=(L=z.cd_if_property||(O&&O.cd_if_property),J={hash:{},inverse:w.program(10,H,M),fn:w.program(8,m,M),data:M},L?L.call(O,"offline_form_name_required",J):y.call(O,"cd_if_property","offline_form_name_required",J));if(K||K===0){I+=K}I+='"\n								class="cdw-chat-contact-form-text" maxlength="50"\n								';K=(L=z.cd_if_property||(O&&O.cd_if_property),J={hash:{},inverse:w.program(14,E,M),fn:w.program(12,F,M),data:M},L?L.call(O,"offline_form_name_required",J):y.call(O,"cd_if_property","offline_form_name_required",J));if(K||K===0){I+=K}I+=' ref_cookie_name="visitor_name" />\n							<!--   style="width: 80%;padding-right: 42px;"/>\n                <div class="cdw-chat-contact-options-social">\n					or\n					<a  class="cdw-chat-contact-options-social-facebook" id="clickdesk_facebook_login" onclick="CLICKDESK_Live_Chat_SOCIAL.fbLogin();"></a>\n                </div>-->\n						</div>\n						<div class="cdw-chat-contact-text">\n							<input\n								type="';K=z["if"].call(O,(O&&O.offline_emailvstext_label),{hash:{},inverse:w.program(18,C,M),fn:w.program(16,D,M),data:M});if(K||K===0){I+=K}I+='"\n								id="cd_offline_email"\n								placeholder="';if(L=z.offline_form_email_label){K=L.call(O,{hash:{},data:M})}else{L=(O&&O.offline_form_email_label);K=typeof L===f?L.call(O,{hash:{},data:M}):L}I+=d(K);K=(L=z.cd_if_property||(O&&O.cd_if_property),J={hash:{},inverse:w.program(10,H,M),fn:w.program(8,m,M),data:M},L?L.call(O,"offline_form_email_required",J):y.call(O,"cd_if_property","offline_form_email_required",J));if(K||K===0){I+=K}I+='"\n								class="cdw-chat-contact-form-text" maxlength="50"\n								';K=(L=z.cd_if_property||(O&&O.cd_if_property),J={hash:{},inverse:w.program(14,E,M),fn:w.program(12,F,M),data:M},L?L.call(O,"offline_form_email_required",J):y.call(O,"cd_if_property","offline_form_email_required",J));if(K||K===0){I+=K}I+=' ref_cookie_name="visitor_email" />\n						</div>\n						';K=(L=z.cd_if_property||(O&&O.cd_if_property),J={hash:{},inverse:w.noop,fn:w.program(20,o,M),data:M},L?L.call(O,"offline_form_show_custom_field_required",J):y.call(O,"cd_if_property","offline_form_show_custom_field_required",J));if(K||K===0){I+=K}I+='\n\n						<!--<div class="cdw-chat-contact-title" style="margin-top:0px !important;">';K=z["if"].call(O,(O&&O.prechat_form_message_label),{hash:{},inverse:w.program(25,h,M),fn:w.program(23,j,M),data:M});if(K||K===0){I+=K}I+='</div>-->\n						<div class="cdw-chat-contact-text" style="padding-bottom:0px !important;">\n							<textarea id="cd_offline_msg" required="required" name="visitor_offline_message"\n								placeholder="';K=z["if"].call(O,(O&&O.prechat_form_message_label),{hash:{},inverse:w.program(25,h,M),fn:w.program(23,j,M),data:M});if(K||K===0){I+=K}I+=' *"\n								class="cdw-chat-contact-form-text" maxlength="600"></textarea>\n						</div>\n						';K=z["if"].call(O,(O&&O.offline_form_gdpr_label),{hash:{},inverse:w.noop,fn:w.program(27,g,M),data:M});if(K||K===0){I+=K}I+="\n\n						";K=z.unless.call(O,(O&&O.popout_window),{hash:{},inverse:w.noop,fn:w.program(29,c,M),data:M});if(K||K===0){I+=K}I+='\n						<div style="min-height:17px !important;">\n							<div class="cdw-chat-popup-error" id="offline_valid_email" style="display:none;"></div>\n						</div>\n					</div>\n					';K=z["if"].call(O,(N&&N.popout_window),{hash:{},inverse:w.noop,fn:w.program(31,x,M),data:M});if(K||K===0){I+=K}I+='\n				<div class="cdw-chat-contact-send" style="padding-bottom:4px !important;padding-top:2px !important;">\n					<input type="submit" id="cd_offline_button" class="cdw-chat-contact-send-button"\n						value="';if(L=z.offline_form_button_label){K=L.call(O,{hash:{},data:M})}else{L=(O&&O.offline_form_button_label);K=typeof L===f?L.call(O,{hash:{},data:M}):L}I+=d(K)+'" style="box-shadow: none!important;" />\n\n				</div>\n				';K=z["if"].call(O,(N&&N.popout_window),{hash:{},inverse:w.noop,fn:w.program(33,v,M),data:M});if(K||K===0){I+=K}I+="\n	";return I}function t(J,I){return'<div style="display:table-cell;">\n		<div style="display: table;width:100%;height:100%;padding: 0px!important;">\n			<div style="display: table-row;height: 100%;">\n				<div style="height: 100%;overflow:auto!important;display:block;">'}function s(L,K){var I,J;if(J=z.offline_namefield_emailvstext_label){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.offline_namefield_emailvstext_label);I=typeof J===f?J.call(L,{hash:{},data:K}):J}return d(I)}function q(J,I){return"text"}function m(J,I){return" *"}function H(J,I){return" "}function F(J,I){return'required="required" '}function E(J,I){return"\n								"}function D(L,K){var I,J;if(J=z.offline_emailvstext_label){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.offline_emailvstext_label);I=typeof J===f?J.call(L,{hash:{},data:K}):J}return d(I)}function C(J,I){return"email"}function o(N,M){var I="",K,L,J;I+='\n						<div class="cdw-chat-contact-text">\n							<input\n								type="';K=z["if"].call(N,(N&&N.offline_customfield_emailvstext_label),{hash:{},inverse:w.program(6,q,M),fn:w.program(21,l,M),data:M});if(K||K===0){I+=K}I+='"\n								placeholder="';if(L=z.offline_custom_field_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.offline_custom_field_label);K=typeof L===f?L.call(N,{hash:{},data:M}):L}I+=d(K);K=(L=z.cd_if_property||(N&&N.cd_if_property),J={hash:{},inverse:w.program(10,H,M),fn:w.program(8,m,M),data:M},L?L.call(N,"offline_form_custom_field_required",J):y.call(N,"cd_if_property","offline_form_custom_field_required",J));if(K||K===0){I+=K}I+='"\n								id="cd_offline_custom" maxlength="50"\n								';K=(L=z.cd_if_property||(N&&N.cd_if_property),J={hash:{},inverse:w.program(14,E,M),fn:w.program(12,F,M),data:M},L?L.call(N,"offline_form_custom_field_required",J):y.call(N,"cd_if_property","offline_form_custom_field_required",J));if(K||K===0){I+=K}I+=' class="cdw-chat-contact-form-text" ref_cookie_name="custom_field" />\n						</div>\n						';return I}function l(L,K){var I,J;if(J=z.offline_customfield_emailvstext_label){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.offline_customfield_emailvstext_label);I=typeof J===f?J.call(L,{hash:{},data:K}):J}return d(I)}function j(L,K){var I,J;if(J=z.prechat_form_message_label){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.prechat_form_message_label);I=typeof J===f?J.call(L,{hash:{},data:K}):J}if(I||I===0){return I}else{return""}}function h(L,K){var I,J;if(J=z.offline_message_label){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.offline_message_label);I=typeof J===f?J.call(L,{hash:{},data:K}):J}if(I||I===0){return I}else{return""}}function g(N,M){var I="",K,L,J;I+='\n						<div class="cd-field-label"\n							style="position: relative;box-sizing: border-box;margin-bottom: 5px!important;">\n							<label\n								style="padding: 5px 20px;cursor: pointer;font-size: 10.6px!important;background: white!important;border-radius: 1px!important;line-height: 1.3!important;display: inline-block;">\n								<input type="checkbox" id="cd_custom_checkbox2"\n									style="position: absolute;left: 3px;top: 7px;" rel="';if(L=z.offline_form_gdpr_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.offline_form_gdpr_label);K=typeof L===f?L.call(N,{hash:{},data:M}):L}I+=d(K)+'"\n									placeholder="';if(L=z.offline_form_gdpr_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.offline_form_gdpr_label);K=typeof L===f?L.call(N,{hash:{},data:M}):L}I+=d(K)+'" ';K=(L=z.cd_if_property||(N&&N.cd_if_property),J={hash:{},inverse:w.program(14,E,M),fn:w.program(12,F,M),data:M},L?L.call(N,"offline_form_gdpr_href_label_required",J):y.call(N,"cd_if_property","offline_form_gdpr_href_label_required",J));if(K||K===0){I+=K}I+=' ref_cookie_name="visitor_gdpr" />\n								<a target="_blank" href="';if(L=z.offline_form_gdpr_href_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.offline_form_gdpr_href_label);K=typeof L===f?L.call(N,{hash:{},data:M}):L}I+=d(K)+'"\n									style="font-size: 10px!important;">';if(L=z.offline_form_gdpr_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.offline_form_gdpr_label);K=typeof L===f?L.call(N,{hash:{},data:M}):L}I+=d(K)+"</a>\n							</label>\n						</div>\n						";return I}function c(M,L){var I="",J,K;I+="\n						<!--<div>\n			     <input style='vertical-align:middle;' id='cd_attach_screenshot' type='checkbox' onclick=\"Cd_Add_Wesite_Screenshot.attach(this);\" ";if(K=z.cd_check_blob){J=K.call(M,{hash:{},data:L})}else{K=(M&&M.cd_check_blob);J=typeof K===f?K.call(M,{hash:{},data:L}):K}if(J||J===0){I+=J}I+='/>\n			     <label style=\'display: inline; cursor:pointer;vertical-align: middle; font-size: 11px!important;\'	for=\'cd_attach_screenshot\'>Include a snapshot of the current page</label><img alt="Loading Image..." id="cd_attach_screenshot_imagesrc" style="display: none;" /> \n			     <input type="hidden" id=\'cd_attach_screenshot_source\' />\n			</div> -->\n						';return I}function x(J,I){return'</div>\n			</div>\n			<div style="display: table-row; height: 55px;">'}function v(J,I){return"</div>\n		</div>\n	</div>"}A+='<div class="cd-form-sec" id="ClickdeskofflineForm"\n	style="display:none;position: relative!important;padding: 0px 0px 0px 0px!important;">\n	';n=z["with"].call(B,(B&&B.offline_form_prefs),{hash:{},inverse:w.noop,fn:w.programWithDepth(1,u,G,B),data:G});if(n||n===0){A+=n}A+='\n	<div id="cd_loading"\n		style="display:none;position: absolute!important;left:35%!important;top: -2px!important;font-weight: bold!important;background-color: #F4E794!important;padding:2px 8px 3px!important;border-radius: 0px 0px 3px 3px!important;font-size:10px !important;">\n		Sending...</div>\n</div>';return A});a["clickdesk-postchat-survey"]=b(function(h,x,v,n,z){this.compilerInfo=[4,">= 1.0.0"];v=this.merge(v,h.helpers);z=z||{};var w="",k,c,g,f="function",d=this.escapeExpression,t=this,u=v.helperMissing;function s(F,D,E){var A="",B,C;A+='\n	       <div class="postchat-form-headding">';if(C=v.postchat_survey_form_header_label){B=C.call(F,{hash:{},data:D})}else{C=(F&&F.postchat_survey_form_header_label);B=typeof C===f?C.call(F,{hash:{},data:D}):C}if(B||B===0){A+=B}A+='</div>\n		   <div class="cdw-chat-contact cdw-postchat-content" style="height:auto !important;overflow:visible;">\n\n		       <input type="hidden" id="cd_postchat_sessionid" value="'+d(((B=(E&&E.sessionId)),typeof B===f?B.apply(F):B))+'"/>\n		       <input type="hidden" id="cd_postchat_visitor_token" value="'+d(((B=(E&&E.visitor_token)),typeof B===f?B.apply(F):B))+'"/>\n		       \n		       ';B=v.each.call(F,(F&&F.questions),{hash:{},inverse:t.noop,fn:t.program(2,r,D),data:D});if(B||B===0){A+=B}A+=' \n		       \n		       <div style="min-height:17px !important">\n		          <div id="cd_valid_postchat_form" class="cdw-chat-popup-error" style="display:none;"></div>\n		       </div> \n		       \n		       <div class="cdw-postchat-btn-wrap">\n	               <input type="submit" id="cd_postchat_survey_submit" class="cdw-chat-popup-form-button" value="';if(C=v.postchat_survey_form_submit_btn_text){B=C.call(F,{hash:{},data:D})}else{C=(F&&F.postchat_survey_form_submit_btn_text);B=typeof C===f?C.call(F,{hash:{},data:D}):C}A+=d(B)+'" style="box-shadow: none!important;text-transform: none!important;"/>\n	               <img id="cd_postchat_loading" src="" style="display:none;"/>\n	           </div>\n		  </div>	\n	   ';return A}function r(F,E){var A="",C,D,B;A+="\n		            "+d((D=v.cd_set_index||(F&&F.cd_set_index),B={hash:{},data:E},D?D.call(F,(E==null||E===false?E:E.index),B):u.call(F,"cd_set_index",(E==null||E===false?E:E.index),B)))+'\n		            <div class="cdw-postchat-text-label cd-feedback-question-label-';if(D=v.index){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.index);C=typeof D===f?D.call(F,{hash:{},data:E}):D}A+=d(C)+'"><span class="cd-q-index">';if(D=v.index){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.index);C=typeof D===f?D.call(F,{hash:{},data:E}):D}A+=d(C)+'.</span> <span id="cd_postchat_feedback_q';if(D=v.index){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.index);C=typeof D===f?D.call(F,{hash:{},data:E}):D}A+=d(C)+'">';if(D=v.question_label){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.question_label);C=typeof D===f?D.call(F,{hash:{},data:E}):D}if(C||C===0){A+=C}A+="</span></div>\n		       		";C=(D=v.cd_compare||(F&&F.cd_compare),B={hash:{},inverse:t.program(6,m,E),fn:t.program(3,q,E),data:E},D?D.call(F,(F&&F.question_type),"textarea",B):u.call(F,"cd_compare",(F&&F.question_type),"textarea",B));if(C||C===0){A+=C}A+="\n		       ";return A}function q(F,E){var A="",C,D,B;A+='\n		       		   <div class="cd-postchat-answer-wrap">\n		       		      <textarea  maxlength="256" name="cd_postchat_feedback_';if(D=v.index){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.index);C=typeof D===f?D.call(F,{hash:{},data:E}):D}A+=d(C)+'" data="cd-feedback-question-label-';if(D=v.index){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.index);C=typeof D===f?D.call(F,{hash:{},data:E}):D}A+=d(C)+'" class="cdw-postchat-text" ';C=(D=v.cd_if_checked||(F&&F.cd_if_checked),B={hash:{},inverse:t.noop,fn:t.program(4,o,E),data:E},D?D.call(F,(F&&F.question_required),B):u.call(F,"cd_if_checked",(F&&F.question_required),B));if(C||C===0){A+=C}A+="></textarea>\n		       		   </div> \n		       		";return A}function o(B,A){return'required="required"'}function m(D,C){var A="",B;A+="\n		       			";B=v.each.call(D,(D&&D.answers),{hash:{},inverse:t.programWithDepth(10,y,C,D),fn:t.programWithDepth(7,l,C,D),data:C});if(B||B===0){A+=B}A+="\n		       		";return A}function l(G,E,F){var A="",C,D,B;A+='\n		       			    <div class="cd-postchat-answer-wrap">\n		       			     	<input class="cd-postchat-option" type="'+d(((C=(F&&F.question_type)),typeof C===f?C.apply(G):C))+'" data="cd-feedback-question-label-'+d(((C=(F&&F.index)),typeof C===f?C.apply(G):C))+'" name="cd_postchat_feedback_'+d(((C=(F&&F.index)),typeof C===f?C.apply(G):C))+'" value="'+d((typeof G===f?G.apply(G):G))+'" ';C=(D=v.cd_compare||(G&&G.cd_compare),B={hash:{},inverse:t.noop,fn:t.programWithDepth(8,j,E,F),data:E},D?D.call(G,(E==null||E===false?E:E.index),"0",B):u.call(G,"cd_compare",(E==null||E===false?E:E.index),"0",B));if(C||C===0){A+=C}A+='> <span class="cd-postchat-option-label">'+d((D=v.cd_capitalize||(G&&G.cd_capitalize),B={hash:{},data:E},D?D.call(G,G,B):u.call(G,"cd_capitalize",G,B)))+"</span> </br>\n		       			    </div>\n		       			";return A}function j(F,D,E){var B,C,A;B=(C=v.cd_if_checked||(E&&E.cd_if_checked),A={hash:{},inverse:t.noop,fn:t.program(4,o,D),data:D},C?C.call(F,(E&&E.question_required),A):u.call(F,"cd_if_checked",(E&&E.question_required),A));if(B||B===0){return B}else{return""}}function y(G,E,F){var A="",C,D,B;A+='\n		       			   <div class="cd-postchat-answer-wrap">\n		       			     <input type="'+d(((C=(F&&F.question_type)),typeof C===f?C.apply(G):C))+'" name="cd_postchat_feedback_'+d(((C=(F&&F.index)),typeof C===f?C.apply(G):C))+'" class="cdw-postchat-text" data="cd-feedback-question-label-'+d(((C=(F&&F.index)),typeof C===f?C.apply(G):C))+'" ';C=(D=v.cd_if_checked||(F&&F.cd_if_checked),B={hash:{},inverse:t.noop,fn:t.program(4,o,E),data:E},D?D.call(G,(F&&F.question_required),B):u.call(G,"cd_if_checked",(F&&F.question_required),B));if(C||C===0){A+=C}A+=">\n		       			   </div>\n		       			";return A}w+='<div class="clickdesk-postchat cdw" id="ClickdeskPostchatSurveyForm" style="display:none;">\n  <div class="clickdesk-postchat-dialog" id="clickdesk-postchat-dialog">\n   <div class="clickdesk-postchat-popup clickdesk-fadeInUp">\n       <a class="clickdesk-postchat-popup-close" id="cd_postchat_close" style="cursor:pointer!important;" onclick="ClickDesk_Postchat.hide_window();">&times;</a>\n	   ';k=v["with"].call(x,(x&&x.postchat_survey_form_prefs),{hash:{},inverse:t.noop,fn:t.programWithDepth(1,s,z,x),data:z});if(k||k===0){w+=k}w+='\n   </div>\n  </div>  \n</div>\n<div class="clickdesk-postchat-popup-overlay" id="cd_postchat_bg_overlay" style="position:fixed;top:0;right:0;left:0;bottom:0;background:#fff;opacity:0.8;z-index:2147483646"></div>\n'+d((c=v.add_cd_styles||(x&&x.add_cd_styles),g={hash:{},data:z},c?c.call(x,".clickdesk-hide-overflow {overflow-y : hidden !important;}",g):u.call(x,"add_cd_styles",".clickdesk-hide-overflow {overflow-y : hidden !important;}",g)))+" \n";return w});a["clickdesk-prechat"]=b(function(Q,c,P,x,X){this.compilerInfo=[4,">= 1.0.0"];P=this.merge(P,Q.helpers);X=X||{};var s="",z,n,t,r="function",U=this.escapeExpression,O=P.helperMissing,j=this,C=P.blockHelperMissing;function N(ae,ac,ad){var Y="",aa,ab,Z;Y+="\n	";aa=P["if"].call(ae,(ad&&ad.popout_window),{hash:{},inverse:j.noop,fn:j.program(2,M,ac),data:ac});if(aa||aa===0){Y+=aa}Y+='\n					<div class="cdw-chat-contact" style="height:auto !important;overflow:visible;">\n						<div class="cdw-chat-contact-text">';if(ab=P.prechat_status_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_status_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}if(aa||aa===0){Y+=aa}Y+='</div>\n\n						<!--   <div class="cdw-chat-contact-title">Your Name & Email </div> -->\n\n						<div class="cdw-chat-contact-text">\n							<input\n								type="';aa=P["if"].call(ae,(ae&&ae.prechat_namefield_emailvstext_label),{hash:{},inverse:j.program(6,J,ac),fn:j.program(4,L,ac),data:ac});if(aa||aa===0){Y+=aa}Y+='"\n								placeholder="';if(ab=P.prechat_form_name_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_form_name_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ae,"prechat_form_name_required",Z):O.call(ae,"cd_if_property","prechat_form_name_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								id="cd_prechat_name" class="cdw-chat-contact-form-text" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ae,"prechat_form_name_required",Z):O.call(ae,"cd_if_property","prechat_form_name_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_name" />\n							<!-- style="width: 80%;padding-right: 42px;" />\n           <div class="cdw-chat-contact-options-social">\n					or\n					<a  class="cdw-chat-contact-options-social-facebook" id="clickdesk_facebook_login" onclick="CLICKDESK_Live_Chat_SOCIAL.fbLogin();"></a>\n           </div>-->\n						</div>\n\n						<div class="cdw-chat-contact-text">\n							<input\n								type="';aa=P["if"].call(ae,(ae&&ae.prechat_emailvstext_label),{hash:{},inverse:j.program(18,u,ac),fn:j.program(16,w,ac),data:ac});if(aa||aa===0){Y+=aa}Y+='"\n								placeholder="';if(ab=P.prechat_form_email_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_form_email_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ae,"prechat_form_email_required",Z):O.call(ae,"cd_if_property","prechat_form_email_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								class="cdw-chat-contact-form-text" id="cd_prechat_email" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ae,"prechat_form_email_required",Z):O.call(ae,"cd_if_property","prechat_form_email_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_email" />\n						</div>\n\n						<div id="clickdesk_prechat_custom_dept_dropdown">\n							';aa=P.unless.call(ae,(ae&&ae.prechat_form_show_department_dropdown),{hash:{},inverse:j.programWithDepth(26,h,ac,ad),fn:j.programWithDepth(20,o,ac,ad),data:ac});if(aa||aa===0){Y+=aa}Y+="\n						</div>\n\n						";aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.noop,fn:j.program(33,V,ac),data:ac},ab?ab.call(ae,"prechat_form_show_custom_field_required",Z):O.call(ae,"cd_if_property","prechat_form_show_custom_field_required",Z));if(aa||aa===0){Y+=aa}Y+="\n\n						";Z={hash:{},inverse:j.noop,fn:j.program(35,T,ac),data:ac};if(ab=P.custom_popup_enabled){aa=ab.call(ae,Z)}else{ab=(ae&&ae.custom_popup_enabled);aa=typeof ab===r?ab.call(ae,Z):ab}if(!P.custom_popup_enabled){aa=C.call(ae,aa,{hash:{},inverse:j.noop,fn:j.program(35,T,ac),data:ac})}if(aa||aa===0){Y+=aa}Y+='\n\n						<!--<div class="cdw-chat-contact-title" style="margin-top:0px !important;">';if(ab=P.prechat_form_message_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_form_message_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}if(aa||aa===0){Y+=aa}Y+='</div>-->\n						<div class="cdw-chat-contact-text" style="padding-bottom:0px !important;">\n							<textarea id="cd_prechat_msg" class="cdw-chat-contact-form-text" required="required"\n								placeholder="';if(ab=P.prechat_form_message_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_form_message_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}if(aa||aa===0){Y+=aa}Y+=' *"></textarea>\n						</div>\n						';Z={hash:{},inverse:j.program(42,H,ac),fn:j.program(40,K,ac),data:ac};if(ab=P.custom_popup_enabled){aa=ab.call(ae,Z)}else{ab=(ae&&ae.custom_popup_enabled);aa=typeof ab===r?ab.call(ae,Z):ab}if(!P.custom_popup_enabled){aa=C.call(ae,aa,{hash:{},inverse:j.program(42,H,ac),fn:j.program(40,K,ac),data:ac})}if(aa||aa===0){Y+=aa}Y+="\n\n						";aa=P["if"].call(ae,(ae&&ae.prechat_form_gdpr_label),{hash:{},inverse:j.noop,fn:j.program(46,A,ac),data:ac});if(aa||aa===0){Y+=aa}Y+='\n\n						<div style="min-height:17px !important">\n							<div id="cd_valid_email" class="cdw-chat-popup-error" style="display:none;"></div>\n						</div>\n\n					</div>\n					';aa=P["if"].call(ae,(ad&&ad.popout_window),{hash:{},inverse:j.noop,fn:j.program(49,v,ac),data:ac});if(aa||aa===0){Y+=aa}Y+='\n				<div class="cdw-chat-contact-send" style="padding-bottom:2px !important;padding-top:0px !important">\n					<input type="submit" id="cd_prechat_button" value="';if(ab=P.prechat_form_button_label){aa=ab.call(ae,{hash:{},data:ac})}else{ab=(ae&&ae.prechat_form_button_label);aa=typeof ab===r?ab.call(ae,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n						class="cdw-chat-contact-send-button" style="box-shadow: none!important;" />\n				</div>\n				';aa=P["if"].call(ae,(ad&&ad.popout_window),{hash:{},inverse:j.noop,fn:j.program(51,q,ac),data:ac});if(aa||aa===0){Y+=aa}Y+="\n	";return Y}function M(Z,Y){return'<div style="display:table-cell;">\n		<div style="display: table;width:100%;height:100%;padding: 0px!important;">\n			<div style="display: table-row;height: 100%;">\n				<div style="height: 100%;overflow:auto!important;display:block;">'}function L(ab,aa){var Y,Z;if(Z=P.prechat_namefield_emailvstext_label){Y=Z.call(ab,{hash:{},data:aa})}else{Z=(ab&&ab.prechat_namefield_emailvstext_label);Y=typeof Z===r?Z.call(ab,{hash:{},data:aa}):Z}return U(Y)}function J(Z,Y){return"text"}function F(Z,Y){return" *"}function I(Z,Y){return" "}function E(Z,Y){return'required="required" '}function B(Z,Y){return"\n								"}function w(ab,aa){var Y,Z;if(Z=P.prechat_emailvstext_label){Y=Z.call(ab,{hash:{},data:aa})}else{Z=(ab&&ab.prechat_emailvstext_label);Y=typeof Z===r?Z.call(ab,{hash:{},data:aa}):Z}return U(Y)}function u(Z,Y){return"email"}function o(ac,aa,ab){var Y="",Z;Y+="\n							";Z=P["if"].call(ac,(ab&&ab.user_departments),{hash:{},inverse:j.noop,fn:j.programWithDepth(21,m,aa,ab),data:aa});if(Z||Z===0){Y+=Z}Y+="\n							";return Y}function m(ac,ab,aa){var Y="",Z;Y+='\n							<div class="cdw-chat-contact-text">\n								<select id="cd_department" class="cdw-chat-contact-form-text"\n									style=" width: 100% ';Z=P["if"].call(ac,(aa&&aa.popout_window),{hash:{},inverse:j.program(22,l,ab),fn:j.program(10,I,ab),data:ab});if(Z||Z===0){Y+=Z}Y+=';box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;line-height: 1.9em !important;">\n									<option value=\'\' selected="selected">Any1 (Department)</option>\n									';Z=P.each.call(ac,(aa&&aa.user_departments),{hash:{},inverse:j.noop,fn:j.program(24,k,ab),data:ab});if(Z||Z===0){Y+=Z}Y+="\n								</select>\n							</div>\n							";return Y}function l(Z,Y){return"!important"}function k(ad,ac){var Y="",aa,ab,Z;Y+="\n									<option value='"+U(((aa=(ad&&ad.id)),typeof aa===r?aa.apply(ad):aa))+"'>"+U((ab=P.cd_capitalize||(ad&&ad.cd_capitalize),Z={hash:{},data:ac},ab?ab.call(ad,(ad&&ad.name),Z):O.call(ad,"cd_capitalize",(ad&&ad.name),Z)))+"</option>\n									";return Y}function h(ae,ac,ad){var Y="",aa,ab,Z;Y+="\n							";aa=(ab=P.cd_if_property||(ae&&ae.cd_if_property),Z={hash:{},inverse:j.noop,fn:j.programWithDepth(27,g,ac,ad),data:ac},ab?ab.call(ae,"prechat_form_show_department_dropdown",Z):O.call(ae,"cd_if_property","prechat_form_show_department_dropdown",Z));if(aa||aa===0){Y+=aa}Y+="\n							";return Y}function g(ac,ab,aa){var Y="",Z;Y+="\n							";Z=P["if"].call(ac,(aa&&aa.user_departments),{hash:{},inverse:j.noop,fn:j.programWithDepth(28,f,ab,aa),data:ab});if(Z||Z===0){Y+=Z}Y+="\n							";return Y}function f(ac,ab,aa){var Y="",Z;Y+='\n							<div class="cdw-chat-contact-text">\n								<select id="cd_department" class="cdw-chat-contact-form-text"\n									style="width: 100% ';Z=P["if"].call(ac,(aa&&aa.popout_window),{hash:{},inverse:j.program(22,l,ab),fn:j.program(10,I,ab),data:ab});if(Z||Z===0){Y+=Z}Y+=';box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;line-height: 1.9em !important;">\n									<option value=\'\' selected="selected">\n										';Z=P["if"].call(ac,(ac&&ac.prechat_default_department_label),{hash:{},inverse:j.program(31,W,ab),fn:j.program(29,d,ab),data:ab});if(Z||Z===0){Y+=Z}Y+="</option>\n									";Z=P.each.call(ac,(aa&&aa.user_departments),{hash:{},inverse:j.noop,fn:j.program(24,k,ab),data:ab});if(Z||Z===0){Y+=Z}Y+="\n								</select>\n							</div>\n							";return Y}function d(ab,aa){var Y,Z;if(Z=P.prechat_default_department_label){Y=Z.call(ab,{hash:{},data:aa})}else{Z=(ab&&ab.prechat_default_department_label);Y=typeof Z===r?Z.call(ab,{hash:{},data:aa}):Z}return U(Y)}function W(Z,Y){return"Any\n										(Department)"}function V(ad,ac){var Y="",aa,ab,Z;Y+='\n						<div class="cdw-chat-contact-text">\n							<input type="';if(ab=P.prechat_customfield_emailvstext_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_customfield_emailvstext_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n								placeholder="';if(ab=P.prechat_custom_field_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_custom_field_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ad,"prechat_form_custom_field_required",Z):O.call(ad,"cd_if_property","prechat_form_custom_field_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								id="cd_prechat_custom" class="cdw-chat-contact-form-text" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ad,"prechat_form_custom_field_required",Z):O.call(ad,"cd_if_property","prechat_form_custom_field_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="custom_field" />\n						</div>\n						';return Y}function T(ad,ac){var Y="",aa,ab,Z;Y+='\n						<!-- <div class="cdw-chat-contact-text" >\n            	 <input type="text"\n            	  placeholder="';if(ab=P.prechat_form_text1_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_text1_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ad,"prechat_form_text1_required",Z):O.call(ad,"cd_if_property","prechat_form_text1_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n            	   class="cdw-chat-contact-form-text" id="cd_popup_custom_text1"  maxlength="50" \n            	 ';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(38,R,ac),fn:j.program(36,S,ac),data:ac},ab?ab.call(ad,"prechat_form_text1_required",Z):O.call(ad,"cd_if_property","prechat_form_text1_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_text1"/>\n				</div> -->\n						<div class="cdw-chat-contact-text">\n							<input type="text"\n								placeholder="';if(ab=P.prechat_form_text2_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_text2_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ad,"prechat_form_text2_required",Z):O.call(ad,"cd_if_property","prechat_form_text2_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								class="cdw-chat-contact-form-text" id="cd_popup_custom_text2" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ad,"prechat_form_text2_required",Z):O.call(ad,"cd_if_property","prechat_form_text2_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_text2" />\n						</div>\n						<div class="cdw-chat-contact-text">\n							<input type="text"\n								placeholder="';if(ab=P.prechat_form_text3_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_text3_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ad,"prechat_form_text3_required",Z):O.call(ad,"cd_if_property","prechat_form_text3_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								class="cdw-chat-contact-form-text" id="cd_popup_custom_text3" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ad,"prechat_form_text3_required",Z):O.call(ad,"cd_if_property","prechat_form_text3_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_text3" />\n						</div>\n\n						<div class="cdw-chat-contact-text">\n							<input type="text"\n								placeholder="';if(ab=P.prechat_form_text4_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_text4_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa);aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(10,I,ac),fn:j.program(8,F,ac),data:ac},ab?ab.call(ad,"prechat_form_text4_required",Z):O.call(ad,"cd_if_property","prechat_form_text4_required",Z));if(aa||aa===0){Y+=aa}Y+='"\n								class="cdw-chat-contact-form-text" id="cd_popup_custom_text4" maxlength="50"\n								';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(14,B,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ad,"prechat_form_text4_required",Z):O.call(ad,"cd_if_property","prechat_form_text4_required",Z));if(aa||aa===0){Y+=aa}Y+=' ref_cookie_name="visitor_text4" />\n						</div>\n\n						';return Y}function S(Z,Y){return'required="required"'}function R(Z,Y){return"\n            	  "}function K(Z,Y){return"\n						"}function H(ab,aa){var Y="",Z;Y+="\n						";Z=P["if"].call(ab,(ab&&ab.prechat_custom_req_checkbox_field_label),{hash:{},inverse:j.noop,fn:j.program(43,G,aa),data:aa});if(Z||Z===0){Y+=Z}Y+="\n\n						";return Y}function G(ad,ac){var Y="",aa,ab,Z;Y+='\n						<div class="cd-field-label"\n							style="position: relative;box-sizing: border-box;margin-bottom: 5px!important;">\n							<label\n								style="padding: 5px 20px;cursor: pointer;font-size: 10.6px!important;background: white!important;border-radius: 1px!important;line-height: 1.3!important;display: inline-block;">\n								<input type="checkbox" id="cd_custom_checkbox"\n									style="position: absolute;left: 3px;top: 7px;"\n									rel="';if(ab=P.prechat_custom_req_checkbox_error_field_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_custom_req_checkbox_error_field_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n									';aa=P.unless.call(ad,(ad&&ad.prechat_custom_req_checkbox_field_required),{hash:{},inverse:j.noop,fn:j.program(44,D,ac),data:ac});if(aa||aa===0){Y+=aa}Y+="\n									";aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.noop,fn:j.program(44,D,ac),data:ac},ab?ab.call(ad,"prechat_custom_req_checkbox_field_required",Z):O.call(ad,"cd_if_property","prechat_custom_req_checkbox_field_required",Z));if(aa||aa===0){Y+=aa}Y+=' />\n								<a target="_blank" href="';if(ab=P.prechat_custom_req_checkbox_href_field_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_custom_req_checkbox_href_field_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n									style="font-size: 10px!important;">';if(ab=P.prechat_custom_req_checkbox_field_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_custom_req_checkbox_field_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+"</a>\n							</label>\n						</div>\n						";return Y}function D(Z,Y){return'required="required"\n									'}function A(ad,ac){var Y="",aa,ab,Z;Y+='\n						<div class="cd-field-label"\n							style="position: relative;box-sizing: border-box;margin-bottom: 5px!important;">\n							<label\n								style="padding: 5px 20px;cursor: pointer;font-size: 10.6px!important;background: white!important;border-radius: 1px!important;line-height: 1.3!important;display: inline-block;">\n								<input type="checkbox" id="cd_custom_checkbox1"\n									style="position: absolute;left: 3px;top: 7px;" rel="';if(ab=P.prechat_form_gdpr_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_gdpr_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n									placeholder="';if(ab=P.prechat_form_gdpr_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_gdpr_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'" ref_cookie_name="visitor_gdpr" \n									';aa=(ab=P.cd_if_property||(ad&&ad.cd_if_property),Z={hash:{},inverse:j.program(47,y,ac),fn:j.program(12,E,ac),data:ac},ab?ab.call(ad,"prechat_form_gdpr_href_label_required",Z):O.call(ad,"cd_if_property","prechat_form_gdpr_href_label_required",Z));if(aa||aa===0){Y+=aa}Y+='\n									/>\n								<a target="_blank" href="';if(ab=P.prechat_form_gdpr_href_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_gdpr_href_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+'"\n									style="font-size: 10px!important;">';if(ab=P.prechat_form_gdpr_label){aa=ab.call(ad,{hash:{},data:ac})}else{ab=(ad&&ad.prechat_form_gdpr_label);aa=typeof ab===r?ab.call(ad,{hash:{},data:ac}):ab}Y+=U(aa)+"</a>\n							</label>\n						</div>\n						";return Y}function y(Z,Y){return"\n									"}function v(Z,Y){return'</div>\n			</div>\n			<div style="display: table-row; height: 55px;">'}function q(Z,Y){return"</div>\n		</div>\n	</div>"}s+='<div class="cd-form-sec" id="ClickdeskprechatForm" style="display:none;">\n	';z=P["with"].call(c,(c&&c.online_form_prefs),{hash:{},inverse:j.noop,fn:j.programWithDepth(1,N,X,c),data:X});if(z||z===0){s+=z}s+="\n</div>\n\n"+U((n=P.add_cd_styles||(c&&c.add_cd_styles),t={hash:{},data:X},n?n.call(c,".clickdesk-ultra .clickdesk_error_ele[type='checkbox'] {outline: 1px solid red!important;} .clickdesk-ultra .cd-field-label a{color: #1A0DAB!important;}",t):O.call(c,"add_cd_styles",".clickdesk-ultra .clickdesk_error_ele[type='checkbox'] {outline: 1px solid red!important;} .clickdesk-ultra .cd-field-label a{color: #1A0DAB!important;}",t)));return s});a["clickdesk-rewrite-entry"]=b(function(j,w,u,o,z){this.compilerInfo=[4,">= 1.0.0"];u=this.merge(u,j.helpers);z=z||{};var v="",l,c,g,f="function",d=this.escapeExpression,s=this,t=u.helperMissing;function r(B,A){return'style="font-size:11px!important; color: rgb(216, 90, 138) !important;"'}function q(D,C){var A="",B;A+='<span style="float: left !important;height: 49px; width: 34px;margin-top:3px !important"><img src="//my.clickdesk.com/img/webchat/file-ext-'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_extension)),typeof B===f?B.apply(D):B))+'.png" onerror="this.src = \'//my.clickdesk.com/img/webchat/file-ext-default.png\'" style="margin-right: 5px !important;width: 30px !important;height: 30px !important;" /></span><span style="display:block !important;overflow:hidden!important;">File '+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_status)),typeof B===f?B.apply(D):B))+'.<br/>File Name: <a href="'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_url)),typeof B===f?B.apply(D):B))+'" target="_blank" class="cd_hyperlink">'+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_name)),typeof B===f?B.apply(D):B))+"</a><br> File Size: "+d(((B=((B=(D&&D.message)),B==null||B===false?B:B.file_size)),typeof B===f?B.apply(D):B))+"</span>";return A}function n(F,E){var A="",C,D,B;C=u["if"].call(F,(F&&F.warning),{hash:{},inverse:s.noop,fn:s.program(6,m,E),data:E});if(C||C===0){A+=C}C=(D=u.cd_on_new_message||(F&&F.cd_on_new_message),B={hash:{},data:E},D?D.call(F,(F&&F.message),B):t.call(F,"cd_on_new_message",(F&&F.message),B));if(C||C===0){A+=C}return A}function m(B,A){return'<img src="//my.clickdesk.com/clickdesk-ui/browser/img/warn.png" style="height: 12px 	!important;width: 12px !important;margin-right: 4px;vertical-align:middle !important;"/>'}function k(F,E){var A="",C,D,B;A+="<img src=";C=(D=u.cd_compare||(F&&F.cd_compare),B={hash:{},inverse:s.program(11,y,E),fn:s.program(9,h,E),data:E},D?D.call(F,(F&&F.agent_image),"https://contactuswidget.appspot.com/images/pic.png",B):t.call(F,"cd_compare",(F&&F.agent_image),"https://contactuswidget.appspot.com/images/pic.png",B));if(C||C===0){A+=C}A+="/>";return A}function h(B,A){return'"//d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/p-agent-avatar.png"'}function y(E,D){var A="",B,C;A+='"';if(C=u.agent_image){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.agent_image);B=typeof C===f?C.call(E,{hash:{},data:D}):C}A+=d(B)+'"';return A}function x(B,A){return'<img src="//d1gwclp1pmzk26.cloudfront.net/clickdesk-ui/browser/img/visitor-avatar2.png" />'}v+='<div id="cd_rewrite" class="cd_rewrite cdw-chat-body-message cdw-chat-body-message-';if(c=u.indicator){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.indicator);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'">\n	<div class="cdw-chat-body-message-text cdw-chat-body-message-text-';if(c=u.indicator){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.indicator);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'" ';l=u["if"].call(w,(w&&w.warning),{hash:{},inverse:s.noop,fn:s.program(1,r,z),data:z});if(l||l===0){v+=l}v+='>\n		<div class="cd-msg">';l=u["if"].call(w,((l=(w&&w.message)),l==null||l===false?l:l.file_name),{hash:{},inverse:s.program(5,n,z),fn:s.program(3,q,z),data:z});if(l||l===0){v+=l}v+='\n		<span class="clickdesk_request_progress ';if(c=u.callback_name){l=c.call(w,{hash:{},data:z})}else{c=(w&&w.callback_name);l=typeof c===f?c.call(w,{hash:{},data:z}):c}v+=d(l)+'" style="display: inline-block;"><span class="cd-msg-progress" onclick="ClickDesk_JSONP.resend_req(this.parentNode.className);" onmouseover="if(this.parentNode.className.indexOf(\'clickdesk_request_failed\') != -1)this.title=\'Message not delivered. Click to resend\'; else this.title=\'\';"></span></span>\n        </div>\n    </div>\n	<div class="cdw-chat-body-message-avatar" >';l=(c=u.cd_compare||(w&&w.cd_compare),g={hash:{},inverse:s.program(13,x,z),fn:s.program(8,k,z),data:z},c?c.call(w,(w&&w.indicator),"response",g):t.call(w,"cd_compare",(w&&w.indicator),"response",g));if(l||l===0){v+=l}v+="</div>\n</div>";return v});a["clickdesk-social"]=b(function(h,r,g,o,n){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,h.helpers);n=n||{};var l="",c,j,s=this,q=g.helperMissing,k="function",m=this.escapeExpression;function f(A,y,z){var u="",w,x,v;u+='\n	   <big><img src="" /></big>\n       <div id="clickdesk_twitter" style="display:none;">\n          ';w=g["if"].call(A,(z&&z.popout_window),{hash:{},inverse:s.noop,fn:s.program(2,d,y),data:y});if(w||w===0){u+=w}u+='\n       </div>\n       <iframe id="cd_facebook_frame" onload="clickdesk_social_network_hide_loading()" src="about:blank" allowtransparency="true" scrolling="auto" frameBorder="0" style="display:none;border: 0px;width:100% !important;" width="100%" height="280px"></iframe>       \n       ';w=(x=g.cd_if_property||(z&&z.cd_if_property),v={hash:{},inverse:s.noop,fn:s.program(4,t,y),data:y},x?x.call(A,"show_twitter",v):q.call(A,"cd_if_property","show_twitter",v));if(w||w===0){u+=w}u+="\n       ";w=(x=g.cd_if_property||(z&&z.cd_if_property),v={hash:{},inverse:s.noop,fn:s.program(4,t,y),data:y},x?x.call(A,"show_facebook",v):q.call(A,"cd_if_property","show_facebook",v));if(w||w===0){u+=w}u+='    \n       <iframe id="cd_phone_frame" onload="clickdesk_social_network_hide_loading()" src="about:blank" allowtransparency="true" scrolling="auto" frameBorder="0" style="display:none;border: 0px;width:100% !important;" width="100%" height="300px"></iframe>\n     ';return u}function d(v,u){return'<div style="overflow: auto; position: relative; right: 0px; height: 100%;"><div id="clickdesk_twitter_popout" style="left: 0px; height: 100%; position: absolute; right: 0px; bottom: 0px; overflow: auto;"></div></div>'}function t(v,u){return"\n       "}l+='<div id="clickdeskchat_social_template" class="cdw-chat-contact" style="display:none;';if(j=g.base_css){c=j.call(r,{hash:{},data:n})}else{j=(r&&r.base_css);c=typeof j===k?j.call(r,{hash:{},data:n}):j}l+=m(c)+'">\n     ';c=g["with"].call(r,(r&&r.social_networks),{hash:{},inverse:s.noop,fn:s.programWithDepth(1,f,n,r),data:n});if(c||c===0){l+=c}l+="\n</div>";return l});a["clickdesk-sound"]=b(function(g,h,d,c,f){this.compilerInfo=[4,">= 1.0.0"];d=this.merge(d,g.helpers);f=f||{};return'<span id="cd_playsound" style="display:none;height:0px;"></span>'});a["clickdesk-ui-bar"]=b(function(h,v,t,m,B){this.compilerInfo=[4,">= 1.0.0"];t=this.merge(t,h.helpers);B=B||{};var u="",k,c,g,r=this,s=t.helperMissing,f="function",d=this.escapeExpression;function q(H,G){var C="",E,F,D;E=(F=t.cd_compare||(H&&H.cd_compare),D={hash:{},inverse:r.noop,fn:r.program(2,o,G),data:G},F?F.call(H,((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.online_set_auto_width),"false",D):s.call(H,"cd_compare",((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.online_set_auto_width),"false",D));if(E||E===0){C+=E}E=t.unless.call(H,((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.online_set_auto_width),{hash:{},inverse:r.noop,fn:r.program(2,o,G),data:G});if(E||E===0){C+=E}return C}function o(D,C){return"250px"}function n(H,G){var C="",E,F,D;E=(F=t.cd_compare||(H&&H.cd_compare),D={hash:{},inverse:r.noop,fn:r.program(2,o,G),data:G},F?F.call(H,((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.offline_set_auto_width),"false",D):s.call(H,"cd_compare",((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.offline_set_auto_width),"false",D));if(E||E===0){C+=E}E=t.unless.call(H,((E=(H&&H.bubble_prefs)),E==null||E===false?E:E.offline_set_auto_width),{hash:{},inverse:r.noop,fn:r.program(2,o,G),data:G});if(E||E===0){C+=E}return C}function l(D,C){return"left: 0px;right:auto;"}function j(D,C){return";left: auto;right:0px;"}function A(H,G){var C="",E,F,D;C+=' \n                <!-- <a  class="click-desk-visitor"><img src="//my.clickdesk.com/clickdesk-ui/browser/images/visitor.png" /></a> -->\n                <div class="click-desk-tool-tip1" style="padding-left:75px!important;">\n                     <a  class="cd-eye-catcher" onclick="return false;" style="margin: 0px auto;line-height:0em!important; width: auto;height: auto;position: relative!important;top: 0px;background: none!important;padding-top:7px;text-align: ';E=(F=t.cd_compare||(H&&H.cd_compare),D={hash:{},inverse:r.program(13,y,G),fn:r.program(11,z,G),data:G},F?F.call(H,(H&&H.status),"online",D):s.call(H,"cd_compare",(H&&H.status),"online",D));if(E||E===0){C+=E}C+='!important;">\n                        <img src="" />\n                        <span id="clickdesk_close_eye_catcher_image" onclick="CLICKDESK_CHAT_WINDOW_UI.hide_eye_catcher(event);return false;">x</span>\n                     </a>  \n                </div>\n                <!-- <small>tool-tip</small> <a >Can we help?</a> -->\n                <div class="click-desk-closed-header">\n                       <a  class="click-desk-visitor" style="top: auto!important;position: absolute !important;bottom: 34px"><img style="width: 50px;height: 50px;" src="" /></a>\n                       <div class="click-desk-bar-text" style="">';E=(F=t.cd_compare||(H&&H.cd_compare),D={hash:{},inverse:r.program(17,w,G),fn:r.program(15,x,G),data:G},F?F.call(H,(H&&H.status),"online",D):s.call(H,"cd_compare",(H&&H.status),"online",D));if(E||E===0){C+=E}C+='</div>\n                       <div class="click-desk-closed"><a  onclick="return false;">close</a></div>\n                </div>\n              ';return C}function z(E,D){var C;return d(((C=((C=(E&&E.bubble_prefs)),C==null||C===false?C:C.online_image_position)),typeof C===f?C.apply(E):C))}function y(E,D){var C;return d(((C=((C=(E&&E.bubble_prefs)),C==null||C===false?C:C.offline_image_position)),typeof C===f?C.apply(E):C))}function x(E,D){var C;return d(((C=((C=(E&&E.bubble_prefs)),C==null||C===false?C:C.online_text)),typeof C===f?C.apply(E):C))}function w(E,D){var C;return d(((C=((C=(E&&E.bubble_prefs)),C==null||C===false?C:C.offline_text)),typeof C===f?C.apply(E):C))}u+='<div id="clickdesk-appendable-bubble">\n<div class="clickdesk-ultra clickdesk_cdw_j">\n    <div class="cd-bubble clickdesk_bubble" id="clickdesk_bubble" style="display:none;margin: 0px 10px;position: fixed !important;bottom: 0px;width: auto!important;min-width: ';k=(c=t.cd_compare||(v&&v.cd_compare),g={hash:{},inverse:r.program(4,n,B),fn:r.program(1,q,B),data:B},c?c.call(v,(v&&v.status),"online",g):s.call(v,"cd_compare",(v&&v.status),"online",g));if(k||k===0){u+=k}u+=" !important;";k=(c=t.cd_compare||(v&&v.cd_compare),g={hash:{},inverse:r.program(8,j,B),fn:r.program(6,l,B),data:B},c?c.call(v,((k=(v&&v.template_prefs)),k==null||k===false?k:k.position),"bottom_left",g):s.call(v,"cd_compare",((k=(v&&v.template_prefs)),k==null||k===false?k:k.position),"bottom_left",g));if(k||k===0){u+=k}u+='z-index:2147483638!important;">\n         <div class="click-desk-closed-container">\n              ';k=t["if"].call(v,(v&&v.bubble_prefs),{hash:{},inverse:r.noop,fn:r.program(10,A,B),data:B});if(k||k===0){u+=k}u+="\n         </div>\n    </div>\n</div>\n</div>";return u});a["custom-popup"]=b(function(g,n,f,m,l){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);l=l||{};var j="",c,h="function",k=this.escapeExpression,o=this;function d(t,s){var q="",r;q+='\n<p id="cd_custom-popup_label" class="cd-field-label" style="text-align:center; padding-top:10px;font-size: 15px !important;">'+k(((r=((r=(t&&t.customchatpopup_form_prefs)),r==null||r===false?r:r.customchat_popup_description)),typeof r===h?r.apply(t):r))+'\n</p>\n<div style="text-align:center; margin-top:10px; margin-bottom:20px;">\n<a type="button" class="btn btn-success" id="cd_custom-popup_yes" style="background: #5cb85c;padding: 5px 15px; border-radius: 4px; color: #fff;">'+k(((r=((r=(t&&t.customchatpopup_form_prefs)),r==null||r===false?r:r.customchat_yes_message_label)),typeof r===h?r.apply(t):r))+'</a>\n<a type="button" class="btn btn-danger" id="cd_custom-popup_no" style="background: #d9534f;padding: 5px 15px; border-radius: 4px; color: #fff;">'+k(((r=((r=(t&&t.customchatpopup_form_prefs)),r==null||r===false?r:r.customchat_no_message_label)),typeof r===h?r.apply(t):r))+"</a>\n</div>\n";return q}j+='<div class="cd-form-sec ClickDeskcontent cd-chat-inner-body" id="ClickdeskcustompopupForm" style="display:none;">\n';c=f["if"].call(n,(n&&n.customchatpopup_form_prefs),{hash:{},inverse:o.noop,fn:o.program(1,d,l),data:l});if(c||c===0){j+=c}j+="\n</div>";return j});a["helpdesk-email"]=b(function(l,D,B,r,J){this.compilerInfo=[4,">= 1.0.0"];B=this.merge(B,l.helpers);J=J||{};var C="",n,d="function",c=this.escapeExpression,x=this,A=B.helperMissing;function u(O,M,N){var K="",L;K+="\n    ";L=B["if"].call(O,(N&&N.popout_window),{hash:{},inverse:x.noop,fn:x.program(2,t,M),data:M});if(L||L===0){K+=L}K+='\n	<big style="display: none;position: absolute;top: 40%;text-align: center!important;margin-left: 35%!important;z-index:1"><img src="" /></big>\n    <div class="cdw-chat-contact" style="height:auto !important;padding-bottom:4px !important;overflow:visible;">\n		<div class="cdw-chat-contact-text">';L=B["if"].call(O,(O&&O.ticket_form_status_message_label),{hash:{},inverse:x.program(6,q,M),fn:x.program(4,s,M),data:M});if(L||L===0){K+=L}K+="</div>\n		\n		";L=B["if"].call(O,(O&&O.departments),{hash:{},inverse:x.noop,fn:x.programWithDepth(8,m,M,N),data:M});if(L||L===0){K+=L}K+='\n       \n       <div class="cdw-chat-contact-text">\n              <input type="text" id="cd_helpdesk_name" placeholder="';L=B["if"].call(O,(O&&O.ticket_form_name_label),{hash:{},inverse:x.program(20,o,M),fn:x.program(18,E,M),data:M});if(L||L===0){K+=L}K+=' *" class="cdw-chat-contact-form-text" maxlength="50" required="required" ref_cookie_name="visitor_name"/>\n		</div>   \n		\n		<div class="cdw-chat-contact-text">\n                <input type="email" placeholder="';L=B["if"].call(O,(O&&O.ticket_form_email_label),{hash:{},inverse:x.program(24,h,M),fn:x.program(22,j,M),data:M});if(L||L===0){K+=L}K+=' *" id="cd_helpdesk_email" class="cdw-chat-contact-form-text" maxlength="50" required="required" ref_cookie_name="visitor_email"/>\n			 </div> \n\n             <div class="cdw-chat-contact-text" style="padding-bottom:0px !important;">\n                <textarea id="cd_helpdesk_msg" class="cdw-chat-contact-form-text" name="visitor_message" required="required" placeholder="';L=B["if"].call(O,(O&&O.ticket_form_message_label),{hash:{},inverse:x.program(28,f,M),fn:x.program(26,g,M),data:M});if(L||L===0){K+=L}K+=' *"></textarea>\n			</div>\n                \n             \n             <div style="min-height:10px !important;">\n             <div class="cdw-chat-popup-error" id="helpdesk_valid_email"></div>\n             </div>\n     </div>\n     ';L=B["if"].call(O,(N&&N.popout_window),{hash:{},inverse:x.noop,fn:x.program(30,z,M),data:M});if(L||L===0){K+=L}K+='\n      <div class="cdw-chat-contact-send" style="padding-bottom:4px !important;padding-top:2px !important;">\n			<input type="submit" id="cd_helpdesk_submit" class="cdw-chat-contact-send-button" value="';L=B["if"].call(O,(O&&O.ticket_form_send_button_text),{hash:{},inverse:x.program(34,w,M),fn:x.program(32,y,M),data:M});if(L||L===0){K+=L}K+='" style="box-shadow: none!important;"/>\n	  </div>\n	  ';L=B["if"].call(O,(N&&N.popout_window),{hash:{},inverse:x.noop,fn:x.program(36,v,M),data:M});if(L||L===0){K+=L}K+="\n   ";return K}function t(L,K){return'<div style="display:table-cell;"><div style="display: table;width:100%;height:100%;padding: 0px!important;"><div style="display: table-row;height: 100%;"><div style="height: 100%;overflow:auto!important;display:block;">'}function s(N,M){var K,L;if(L=B.ticket_form_status_message_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.ticket_form_status_message_label);K=typeof L===d?L.call(N,{hash:{},data:M}):L}if(K||K===0){return K}else{return""}}function q(L,K){return"You can create your support ticket by providing your name, email address and message."}function m(Q,O,P){var K="",M,N,L;K+='\n          <div class="cdw-chat-contact-text">\n			<select id="cd_department" class="cdw-chat-contact-form-text" style="width: 100% ';M=B["if"].call(Q,(P&&P.popout_window),{hash:{},inverse:x.program(11,I,O),fn:x.program(9,k,O),data:O});if(M||M===0){K+=M}K+=";";M=(N=B.cd_check_length||(Q&&Q.cd_check_length),L={hash:{},inverse:x.noop,fn:x.program(13,H,O),data:O},N?N.call(Q,(Q&&Q.departments),L):A.call(Q,"cd_check_length",(Q&&Q.departments),L));if(M||M===0){K+=M}K+='box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;line-height: 1.9em !important;">\n			';M=B.each.call(Q,(Q&&Q.departments),{hash:{},inverse:x.noop,fn:x.programWithDepth(15,G,O,Q),data:O});if(M||M===0){K+=M}K+="\n			</select>\n         </div>\n	   ";return K}function k(L,K){return" "}function I(L,K){return"!important"}function H(L,K){return"display:none;"}function G(Q,O,P){var K="",M,N,L;K+="\n			  <option value='"+c(((M=(Q&&Q.id)),typeof M===d?M.apply(Q):M))+"' ";M=(N=B.cd_compare||(Q&&Q.cd_compare),L={hash:{},inverse:x.program(9,k,O),fn:x.program(16,F,O),data:O},N?N.call(Q,(Q&&Q.id),(P&&P.id),L):A.call(Q,"cd_compare",(Q&&Q.id),(P&&P.id),L));if(M||M===0){K+=M}K+=">"+c(((M=(Q&&Q.name)),typeof M===d?M.apply(Q):M))+"</option>\n			";return K}function F(L,K){return'selected="selected"'}function E(N,M){var K,L;if(L=B.ticket_form_name_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.ticket_form_name_label);K=typeof L===d?L.call(N,{hash:{},data:M}):L}return c(K)}function o(L,K){return"Name"}function j(N,M){var K,L;if(L=B.ticket_form_email_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.ticket_form_email_label);K=typeof L===d?L.call(N,{hash:{},data:M}):L}return c(K)}function h(L,K){return"Email"}function g(N,M){var K,L;if(L=B.ticket_form_message_label){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.ticket_form_message_label);K=typeof L===d?L.call(N,{hash:{},data:M}):L}if(K||K===0){return K}else{return""}}function f(L,K){return"Enter Message"}function z(L,K){return'</div></div><div style="display: table-row; height: 55px;">'}function y(N,M){var K,L;if(L=B.ticket_form_send_button_text){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.ticket_form_send_button_text);K=typeof L===d?L.call(N,{hash:{},data:M}):L}return c(K)}function w(L,K){return"Submit"}function v(L,K){return"</div></div></div>"}C+='<div class="cd-form-sec" id="ClickdeskhelpdeskForm" style="display:none;position: relative;padding: 0px 0px 0px 0px!important;">\n';n=B["with"].call(D,(D&&D.ticket_form_prefs),{hash:{},inverse:x.noop,fn:x.programWithDepth(1,u,J,D),data:J});if(n||n===0){C+=n}C+="\n</div>";return C});a["white-label"]=b(function(l,D,B,s,L){this.compilerInfo=[4,">= 1.0.0"];B=this.merge(B,l.helpers);L=L||{};var C="",n,d="function",c=this.escapeExpression,x=this,A=B.helperMissing;function v(R,Q){var M="",O,P,N;M+="\n      ";O=(P=B.cd_compare||(R&&R.cd_compare),N={hash:{},inverse:x.program(4,t,Q),fn:x.program(2,u,Q),data:Q},P?P.call(R,(R&&R.type),"text",N):A.call(R,"cd_compare",(R&&R.type),"text",N));if(O||O===0){M+=O}M+="\n  ";return M}function u(Q,P){var M="",N,O;M+="\n          Powered by \n             <a rel='nofollow' href=\"";if(O=B.utm_link){N=O.call(Q,{hash:{},data:P})}else{O=(Q&&Q.utm_link);N=typeof O===d?O.call(Q,{hash:{},data:P}):O}M+=c(N)+'" target="_blank" style=\'color:#55b2db!important;\'> ClickDesk</a>\n      ';return M}function t(Q,P){var M="",N,O;M+="\n          <a rel='nofollow' href=\"";if(O=B.utm_link){N=O.call(Q,{hash:{},data:P})}else{O=(Q&&Q.utm_link);N=typeof O===d?O.call(Q,{hash:{},data:P}):O}M+=c(N)+"\" target='_blank'>\n              <img  src=\"https://contactuswidget.appspot.com/images/clickdesklogo.png\" style='height:16px;width:70px;margin-top:8px;'>\n          </a>\n      ";return M}function r(R,Q){var M="",O,P,N;M+="\n     ";O=(P=B.cd_compare||(R&&R.cd_compare),N={hash:{},inverse:x.program(9,k,Q),fn:x.program(7,q,Q),data:Q},P?P.call(R,((O=(R&&R.prefs)),O==null||O===false?O:O.plan_type),"free",N):A.call(R,"cd_compare",((O=(R&&R.prefs)),O==null||O===false?O:O.plan_type),"free",N));if(O||O===0){M+=O}M+="\n";return M}function q(R,Q){var M="",O,P,N;M+="\n      ";O=(P=B.cd_compare||(R&&R.cd_compare),N={hash:{},inverse:x.program(4,t,Q),fn:x.program(2,u,Q),data:Q},P?P.call(R,(R&&R.type),"text",N):A.call(R,"cd_compare",(R&&R.type),"text",N));if(O||O===0){M+=O}M+="\n      ";return M}function k(P,O){var M="",N;M+="\n         ";N=B.unless.call(P,((N=((N=(P&&P.prefs)),N==null||N===false?N:N.white_label_image_prefs)),N==null||N===false?N:N.disable_branding),{hash:{},inverse:x.program(15,H,O),fn:x.program(10,K,O),data:O});if(N||N===0){M+=N}M+="\n     ";return M}function K(R,Q){var M="",O,P,N;M+="\n             ";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(13,I,Q),fn:x.program(11,J,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_company_from_name),"ClickDesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_company_from_name),"ClickDesk",N));if(O||O===0){M+=O}M+="\n         ";return M}function J(Q,P){var M="",N,O;M+="\n                          <a rel='nofollow' href=\"";if(O=B.utm_link){N=O.call(Q,{hash:{},data:P})}else{O=(Q&&Q.utm_link);N=typeof O===d?O.call(Q,{hash:{},data:P}):O}M+=c(N)+"\" target='_blank'>\n              					<img src=\"https://contactuswidget.appspot.com/images/clickdesklogo.png\" style='height:16px;width:70px;margin-top:8px;'>\n          				  </a>\n              ";return M}function I(P,O){var M="",N;M+="\n                 "+c(((N=((N=((N=(P&&P.prefs)),N==null||N===false?N:N.white_label_image_prefs)),N==null||N===false?N:N.white_label_company_from_name)),typeof N===d?N.apply(P):N))+"\n              ";return M}function H(R,Q){var M="",O,P,N;M+="\n           ";O=(P=B.cd_compare||(R&&R.cd_compare),N={hash:{},inverse:x.program(18,F,Q),fn:x.program(16,G,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.disable_branding),"true",N):A.call(R,"cd_compare",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.disable_branding),"true",N));if(O||O===0){M+=O}M+="\n          ";return M}function G(N,M){return" "}function F(P,O){var M="",N;M+="\n               ";N=B["if"].call(P,((N=((N=(P&&P.prefs)),N==null||N===false?N:N.white_label_image_prefs)),N==null||N===false?N:N.white_label_image_url),{hash:{},inverse:x.program(30,z,O),fn:x.program(19,E,O),data:O});if(N||N===0){M+=N}M+="\n           ";return M}function E(R,Q){var M="",O,P,N;M+="\n                   ";O=(P=B.cd_compare||(R&&R.cd_compare),N={hash:{},inverse:x.program(28,f,Q),fn:x.program(20,o,Q),data:Q},P?P.call(R,(R&&R.type),"text",N):A.call(R,"cd_compare",(R&&R.type),"text",N));if(O||O===0){M+=O}M+="\n                ";return M}function o(R,Q){var M="",O,P,N;M+="\n                       ";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(26,g,Q),fn:x.program(21,m,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.whitelabel_company_name),"ClickDesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.whitelabel_company_name),"ClickDesk",N));if(O||O===0){M+=O}M+="\n                   ";return M}function m(R,Q){var M="",O,P,N;M+="\n                          Powered by <a rel='nofollow' href=\"";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(24,h,Q),fn:x.program(22,j,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N));if(O||O===0){M+=O}M+="\" target='_blank'><span> "+c(((O=((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.whitelabel_company_name)),typeof O===d?O.apply(R):O))+"</span></a>\n                        ";return M}function j(P,O){var M,N;if(N=B.utm_link){M=N.call(P,{hash:{},data:O})}else{N=(P&&P.utm_link);M=typeof N===d?N.call(P,{hash:{},data:O}):N}return c(M)}function h(O,N){var M;return c(((M=((M=((M=(O&&O.prefs)),M==null||M===false?M:M.white_label_image_prefs)),M==null||M===false?M:M.white_label_image_url_link)),typeof M===d?M.apply(O):M))}function g(R,Q){var M="",O,P,N;M+="\n                           <a rel='nofollow' href=\"";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(24,h,Q),fn:x.program(22,j,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N));if(O||O===0){M+=O}M+="\" target='_blank'><span> "+c(((O=((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.whitelabel_company_name)),typeof O===d?O.apply(R):O))+"</span></a>\n                       ";return M}function f(R,Q){var M="",O,P,N;M+="\n                      <a rel='nofollow' href=\"";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(24,h,Q),fn:x.program(22,j,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url_link),"clickdesk",N));if(O||O===0){M+=O}M+="\" target='_blank'><img src=\""+c(((O=((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_image_url)),typeof O===d?O.apply(R):O))+"' style='height:16px;width:70px;margin-top:8px;'/></a>\n                   ";return M}function z(R,Q){var M="",O,P,N;M+="\n                    ";O=(P=B.cd_is_substring||(R&&R.cd_is_substring),N={hash:{},inverse:x.program(33,w,Q),fn:x.program(31,y,Q),data:Q},P?P.call(R,((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_company_from_name),"ClickDesk",N):A.call(R,"cd_is_substring",((O=((O=(R&&R.prefs)),O==null||O===false?O:O.white_label_image_prefs)),O==null||O===false?O:O.white_label_company_from_name),"ClickDesk",N));if(O||O===0){M+=O}M+="\n               ";return M}function y(Q,P){var M="",N,O;M+="\n                          <a rel='nofollow' href=\"";if(O=B.utm_link){N=O.call(Q,{hash:{},data:P})}else{O=(Q&&Q.utm_link);N=typeof O===d?O.call(Q,{hash:{},data:P}):O}M+=c(N)+"\" target='_blank'>\n              					<img  src=\"https://contactuswidget.appspot.com/images/clickdesklogo.png\" style='height:16px;width:70px;margin-top:8px;'>\n          				  </a>\n                    ";return M}function w(P,O){var M="",N;M+="\n                        "+c(((N=((N=((N=(P&&P.prefs)),N==null||N===false?N:N.white_label_image_prefs)),N==null||N===false?N:N.white_label_company_from_name)),typeof N===d?N.apply(P):N))+"\n                    ";return M}n=B.unless.call(D,((n=(D&&D.prefs)),n==null||n===false?n:n.white_label_image_prefs),{hash:{},inverse:x.program(6,r,L),fn:x.program(1,v,L),data:L});if(n||n===0){C+=n}C+="\n";return C});a["widget-dropdown"]=b(function(f,u,s,k,C){this.compilerInfo=[4,">= 1.0.0"];s=this.merge(s,f.helpers);C=C||{};var t="",h,d="function",c=this.escapeExpression,r=s.helperMissing,q=this;function o(H,F,G){var D="",E;D+="\n		";E=s.unless.call(H,(H&&H.prechat_form_show_department_dropdown),{hash:{},inverse:q.programWithDepth(12,A,F,G),fn:q.programWithDepth(2,n,F,G),data:F});if(E||E===0){D+=E}D+="\n ";return D}function n(H,F,G){var D="",E;D+="\n		      ";E=s["if"].call(H,(G&&G.user_departments),{hash:{},inverse:q.noop,fn:q.programWithDepth(3,m,F,G),data:F});if(E||E===0){D+=E}D+="\n		    ";return D}function m(H,G,F){var D="",E;D+='\n		           <div class="cdw-chat-contact-text">\n		    <select id="cd_department" class="cdw-chat-contact-form-text" style="padding: 5px !important; width: 100% ';E=s["if"].call(H,(F&&F.popout_window),{hash:{},inverse:q.program(6,j,G),fn:q.program(4,l,G),data:G});if(E||E===0){D+=E}D+=";";E=s.unless.call(H,(F&&F.mobile_browser),{hash:{},inverse:q.noop,fn:q.program(8,g,G),data:G});if(E||E===0){D+=E}D+='line-height: 1.9em !important;">\n		      <option value=\'\' selected="selected">Any1 (Department)</option>\n		    ';E=s.each.call(H,(F&&F.user_departments),{hash:{},inverse:q.noop,fn:q.program(10,B,G),data:G});if(E||E===0){D+=E}D+="\n		    </select>\n		          </div>\n		     ";return D}function l(E,D){return" "}function j(E,D){return"!important"}function g(E,D){return"box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"}function B(I,H){var D="",F,G,E;D+="\n		      <option value='"+c(((F=(I&&I.id)),typeof F===d?F.apply(I):F))+"'>"+c((G=s.cd_capitalize||(I&&I.cd_capitalize),E={hash:{},data:H},G?G.call(I,(I&&I.name),E):r.call(I,"cd_capitalize",(I&&I.name),E)))+"</option>\n		    ";return D}function A(J,H,I){var D="",F,G,E;D+="\n		     ";F=(G=s.cd_if_property||(J&&J.cd_if_property),E={hash:{},inverse:q.noop,fn:q.programWithDepth(13,z,H,I),data:H},G?G.call(J,"prechat_form_show_department_dropdown",E):r.call(J,"cd_if_property","prechat_form_show_department_dropdown",E));if(F||F===0){D+=F}D+="\n		  ";return D}function z(H,G,F){var D="",E;D+="\n		      ";E=s["if"].call(H,(F&&F.user_departments),{hash:{},inverse:q.noop,fn:q.programWithDepth(14,y,G,F),data:G});if(E||E===0){D+=E}D+="\n		   ";return D}function y(H,G,F){var D="",E;D+='\n		            <div class="cdw-chat-contact-text">\n		     <select id="cd_department" class="cdw-chat-contact-form-text" style="padding: 5px !important; width: 100% ';E=s["if"].call(H,(F&&F.popout_window),{hash:{},inverse:q.program(6,j,G),fn:q.program(4,l,G),data:G});if(E||E===0){D+=E}D+=";";E=s.unless.call(H,(F&&F.mobile_browser),{hash:{},inverse:q.noop,fn:q.program(8,g,G),data:G});if(E||E===0){D+=E}D+='line-height: 1.9em !important;">\n		       <option value=\'\' selected="selected">';E=s["if"].call(H,(H&&H.prechat_default_department_label),{hash:{},inverse:q.program(17,w,G),fn:q.program(15,x,G),data:G});if(E||E===0){D+=E}D+="</option>\n		     ";E=s.each.call(H,(F&&F.user_departments),{hash:{},inverse:q.noop,fn:q.program(19,v,G),data:G});if(E||E===0){D+=E}D+="\n		     </select>\n		           </div>\n		      ";return D}function x(G,F){var D,E;if(E=s.prechat_default_department_label){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.prechat_default_department_label);D=typeof E===d?E.call(G,{hash:{},data:F}):E}return c(D)}function w(E,D){return"Any (Department)"}function v(I,H){var D="",F,G,E;D+="\n		       <option value='"+c(((F=(I&&I.id)),typeof F===d?F.apply(I):F))+"'>"+c((G=s.cd_capitalize||(I&&I.cd_capitalize),E={hash:{},data:H},G?G.call(I,(I&&I.name),E):r.call(I,"cd_capitalize",(I&&I.name),E)))+"</option>\n		     ";return D}t+=" ";h=s["with"].call(u,(u&&u.online_form_prefs),{hash:{},inverse:q.noop,fn:q.programWithDepth(1,o,C,u),data:C});if(h||h===0){t+=h}return t})})();String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var ClickDesk_Widget_Util={clickdesk_loaded:false,widget_id:"",configure_account_id:function(){if(typeof ClickDesk_Widget_Id!=="undefined"){this.widget_id=ClickDesk_Widget_Id}else{try{this.widget_id=_glc.id}catch(a){}}if(!this.widget_id){this.widget_id=_glc.pop()}this.widget_id=this.widget_id.trim()},is_widget_prefs_available:function(){try{return !(typeof widgetPrefsJSON==="undefined")}catch(a){}return false},init:function(){var b=clickdesk_get_ie_version();if(b&&b>1&&b<8){return false}this.configure_account_id();if(typeof CLICKDESK_LOADED!=="undefined"){return}CLICKDESK_LOADED="true";ClickDesk_Html_Prop_Reset.set();initialize_check_active_tab();if(this.is_widget_prefs_available()){ClickDesk_Widget_Util.load_user_template()}else{var a=CLICKDESK_SERVER_PATH+"/rest/visitor/widget/preferences?widget_id="+this.widget_id+"&url="+encodeURIComponent(window.location.href)+"";ClickDesk_Widget_Util.loadJS(a,function(){ClickDesk_Widget_Util.load_user_template()})}},add_custom_loading_css:function(){try{var a="https://d1gwclp1pmzk26.cloudfront.net/";var b=".cd-msg-progress:not(:empty) {height: 20px;} .clickdesk_request_failed .cd-msg-progress::after {content: url("+a+"img/warning.png);cursor: pointer;margin-left: 3px;}";var f=".cd-msg-progress:not(:empty) {height: 20px;} .clickdesk_request_sending .cd-msg-progress::after {content: url("+a+"img/ajax-loader-cursor.gif);margin-left: 3px;}";CD_Live_Chat.add_style_css_tag(b);CD_Live_Chat.add_style_css_tag(f);var d=document.createElement("IMG");d.src=a+"img/ajax-loader-cursor.gif";d.style.display="none";document.body.appendChild(d);d=document.createElement("IMG");d.src=a+"img/warning.png";d.style.display="none";document.body.appendChild(d)}catch(c){}},is_valid_domain:function(){var d=this.parse_widget_prefs().template_prefs.domain_url;if(d&&!ClickDesk_Proactive_Rule_Conditions.match_urls(document.location.href,d,true)){return false}if(!this.parse_widget_prefs().widget_domains){return true}var g=document.location.href;var f=new Array("localhost","demo","google","facebook","clickdesk","appspot");for(var b=0;b<f.length;b++){if(g.indexOf(f[b])!=-1){return true}}var c=this.parse_widget_prefs().widget_domains[this.widget_id];if(!c){return true}var a=false;for(var b=0;b<c.length;b++){if(ClickDesk_Proactive_Rule_Conditions.match_urls(document.location.href,c[b],true)){a=true;break}}return a},load_user_template:function(){if(!this.is_valid_domain()){console.log("ClickDesk - Domains are mismatched.");return}var c=ClickDesk_Window_Popout.is_window_in_popup();if(ClickDesk_Mobile_Util.is_mobile_browser()&&ClickDesk_Mobile_Util.is_mobile_optimized_widget()&&!c){document.body.appendChild(clickdesk_get_mobile_view());this.initialize_visitor_tracker();clickdesk_show_custom_images();return}var d=this.get_user_template();this.add_custom_loading_css();var a=CD_Live_Chat.get_custom_prefs();if(((ClickDesk_Mobile_Util.is_mobile_browser()&&ClickDesk_Mobile_Util.is_mobile_optimized_widget())||c)&&(Cd_Non_Popout_Themes.toString().indexOf(d)!=-1)){widgetPrefsJSON=this.parse_widget_prefs();widgetPrefsJSON.template_prefs.template="ultra_theme";ClickDesk_Ui_Template=ClickDesk_Ui_Template.replace("social_ui_big","ultra_theme")}else{if(a&&a.cd_apply_custom_css=="true"&&(!ClickDesk_Window_Popout.is_window_in_popup())){if(a.cd_template_type!="social"){ClickDesk_Ui_Template=ClickDesk_Ui_Template.replace("social_ui_big",a.cd_template_type)}}else{ClickDesk_Ui_Template=ClickDesk_Ui_Template.replace("social_ui_big",this.get_user_template())}}var b=clickdesk_get_ie_version();if(b&&b==10){ClickDesk_Ui_Template+="?t="+new Date().getTime()}if(ClickDesk_Ui_Template.indexOf("ultra_theme")<0){ClickDesk_Widget_Util.loadJS(ClickDesk_Ui_Template,function(){ClickDesk_Widget_Util.initialize_chat_window()})}else{ClickDesk_Widget_Util.initialize_chat_window()}},get_user_template:function(){var a=this.parse_widget_prefs().template_prefs.template;a=(a=="big"||a=="medium"||a=="small"||a=="social_tab_template")?"social_ui_big":a;a=(a.indexOf("minimalistic")==0)?"minimalistic":a;return a},parse_widget_prefs:function(){if(typeof widgetPrefsJSON=="object"){return widgetPrefsJSON}var a=widgetPrefsJSON.replace(/\r\n|\\r\\n/g,"");a=a.replace(/'/g,"&#39;");return JSON.parse(a)},initialize_chat_window:function(){try{if(typeof widgetPrefsJSON==="undefined"){return}widgetPrefsJSON=this.parse_widget_prefs();var b=ClickDesk_Window_Popout.is_window_in_popup();if(!b||ClickDesk_Mobile_Util.is_third_party_app()){this.initialize_visitor_tracker()}else{if(b){this.initialize_visitor_tracker("popout")}}CD_Live_Chat.render_clickdesk_ui();var a=CD_Live_Chat.get_custom_prefs();if(a&&a.cd_apply_custom_css=="true"&&(!b)){try{CD_Live_Chat.load_template_css_file();CD_Live_Chat.add_style_css_tag(a.cd_custom_widget_css)}catch(d){}}else{CD_Live_Chat.load_template_css_file()}CLICKDESK_Live_Chat.call_api_onload()}catch(c){clickdesk_log(c)}},initialize_visitor_tracker:function(a){ClickDesk_Widget_Pusher_Visitor.subscribe(a);ClickDesk_Shopify.get_current_cart_()},loadJS:function(c,d){if(head.js==="function"){head.js(c,function(){if(d){d()}})}else{var a=document.createElement("script"),b;a.setAttribute("src",c);if(d){a.onreadystatechange=a.onload=function(){if(!b){d()}b=true}}document.getElementsByTagName("head")[0].appendChild(a)}},};try{if(typeof proactiveJSON!=="undefined"){proactiveJSON={message:proactiveJSON}}}catch(e){}console.log("init livechat");console.log(CLOUD_FRONT_VERSION);ClickDesk_Window_Popout.update_popout_options();var ClickDesk_CloudFront_URL="https://d1gwclp1pmzk26.cloudfront.net";glcpath=(glcpath.indexOf("gae.clickdesk.com")!=-1)?glcpath.replace("gae","my"):glcpath;glcpath=(glcpath.indexOf(ClickDesk_CloudFront_URL.replace("https",""))!=-1)?glcp+"my.clickdesk.com/clickdesk-ui/browser/":glcpath;var CLICKDESK_SERVER_PATH=glcpath.replace("/clickdesk-ui/browser/","");CLICKDESK_SERVER_PATH=((glcpath.indexOf(".clickdesk.com")!=-1)||(_glc.version))?CLICKDESK_SERVER_PATH:glcp+"my.clickdesk.com";var CD_STATIC_FILES_PATH=(_glc.version)?glcpath:ClickDesk_CloudFront_URL+"/"+CLOUD_FRONT_VERSION+"/widget-js/browser/";var ClickDesk_Ui_Template=CD_STATIC_FILES_PATH.replace("/browser","")+"templates/templates_cmpld/social_ui_big.js.min.js";var Cd_Non_Popout_Themes=new Array("lighten_theme","minimalistic","custom","agilechat_theme");(function(){ClickDesk_Widget_Util.init()})();